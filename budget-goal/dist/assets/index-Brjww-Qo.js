var $v=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var SS=$v((lv,rd)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function Bv(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var gf={exports:{}},ru={},_f={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cm;function qv(){if(cm)return He;cm=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.iterator;function q(j){return j===null||typeof j!="object"?null:(j=b&&j[b]||j["@@iterator"],typeof j=="function"?j:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ie=Object.assign,re={};function X(j,G,we){this.props=j,this.context=G,this.refs=re,this.updater=we||Q}X.prototype.isReactComponent={},X.prototype.setState=function(j,G){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,G,"setState")},X.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function Oe(){}Oe.prototype=X.prototype;function Le(j,G,we){this.props=j,this.context=G,this.refs=re,this.updater=we||Q}var je=Le.prototype=new Oe;je.constructor=Le,ie(je,X.prototype),je.isPureReactComponent=!0;var We=Array.isArray,bt=Object.prototype.hasOwnProperty,Ke={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function R(j,G,we){var xe,Ue={},ae=null,Ge=null;if(G!=null)for(xe in G.ref!==void 0&&(Ge=G.ref),G.key!==void 0&&(ae=""+G.key),G)bt.call(G,xe)&&!L.hasOwnProperty(xe)&&(Ue[xe]=G[xe]);var et=arguments.length-2;if(et===1)Ue.children=we;else if(1<et){for(var vt=Array(et),Wt=0;Wt<et;Wt++)vt[Wt]=arguments[Wt+2];Ue.children=vt}if(j&&j.defaultProps)for(xe in et=j.defaultProps,et)Ue[xe]===void 0&&(Ue[xe]=et[xe]);return{$$typeof:i,type:j,key:ae,ref:Ge,props:Ue,_owner:Ke.current}}function P(j,G){return{$$typeof:i,type:j.type,key:G,ref:j.ref,props:j.props,_owner:j._owner}}function D(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function M(j){var G={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(we){return G[we]})}var U=/\/+/g;function k(j,G){return typeof j=="object"&&j!==null&&j.key!=null?M(""+j.key):G.toString(36)}function xt(j,G,we,xe,Ue){var ae=typeof j;(ae==="undefined"||ae==="boolean")&&(j=null);var Ge=!1;if(j===null)Ge=!0;else switch(ae){case"string":case"number":Ge=!0;break;case"object":switch(j.$$typeof){case i:case e:Ge=!0}}if(Ge)return Ge=j,Ue=Ue(Ge),j=xe===""?"."+k(Ge,0):xe,We(Ue)?(we="",j!=null&&(we=j.replace(U,"$&/")+"/"),xt(Ue,G,we,"",function(Wt){return Wt})):Ue!=null&&(D(Ue)&&(Ue=P(Ue,we+(!Ue.key||Ge&&Ge.key===Ue.key?"":(""+Ue.key).replace(U,"$&/")+"/")+j)),G.push(Ue)),1;if(Ge=0,xe=xe===""?".":xe+":",We(j))for(var et=0;et<j.length;et++){ae=j[et];var vt=xe+k(ae,et);Ge+=xt(ae,G,we,vt,Ue)}else if(vt=q(j),typeof vt=="function")for(j=vt.call(j),et=0;!(ae=j.next()).done;)ae=ae.value,vt=xe+k(ae,et++),Ge+=xt(ae,G,we,vt,Ue);else if(ae==="object")throw G=String(j),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Ge}function Ht(j,G,we){if(j==null)return j;var xe=[],Ue=0;return xt(j,xe,"","",function(ae){return G.call(we,ae,Ue++)}),xe}function un(j){if(j._status===-1){var G=j._result;G=G(),G.then(function(we){(j._status===0||j._status===-1)&&(j._status=1,j._result=we)},function(we){(j._status===0||j._status===-1)&&(j._status=2,j._result=we)}),j._status===-1&&(j._status=0,j._result=G)}if(j._status===1)return j._result.default;throw j._result}var ot={current:null},F={transition:null},Se={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:F,ReactCurrentOwner:Ke};function fe(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:Ht,forEach:function(j,G,we){Ht(j,function(){G.apply(this,arguments)},we)},count:function(j){var G=0;return Ht(j,function(){G++}),G},toArray:function(j){return Ht(j,function(G){return G})||[]},only:function(j){if(!D(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},He.Component=X,He.Fragment=n,He.Profiler=a,He.PureComponent=Le,He.StrictMode=s,He.Suspense=v,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Se,He.act=fe,He.cloneElement=function(j,G,we){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var xe=ie({},j.props),Ue=j.key,ae=j.ref,Ge=j._owner;if(G!=null){if(G.ref!==void 0&&(ae=G.ref,Ge=Ke.current),G.key!==void 0&&(Ue=""+G.key),j.type&&j.type.defaultProps)var et=j.type.defaultProps;for(vt in G)bt.call(G,vt)&&!L.hasOwnProperty(vt)&&(xe[vt]=G[vt]===void 0&&et!==void 0?et[vt]:G[vt])}var vt=arguments.length-2;if(vt===1)xe.children=we;else if(1<vt){et=Array(vt);for(var Wt=0;Wt<vt;Wt++)et[Wt]=arguments[Wt+2];xe.children=et}return{$$typeof:i,type:j.type,key:Ue,ref:ae,props:xe,_owner:Ge}},He.createContext=function(j){return j={$$typeof:d,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:c,_context:j},j.Consumer=j},He.createElement=R,He.createFactory=function(j){var G=R.bind(null,j);return G.type=j,G},He.createRef=function(){return{current:null}},He.forwardRef=function(j){return{$$typeof:_,render:j}},He.isValidElement=D,He.lazy=function(j){return{$$typeof:S,_payload:{_status:-1,_result:j},_init:un}},He.memo=function(j,G){return{$$typeof:T,type:j,compare:G===void 0?null:G}},He.startTransition=function(j){var G=F.transition;F.transition={};try{j()}finally{F.transition=G}},He.unstable_act=fe,He.useCallback=function(j,G){return ot.current.useCallback(j,G)},He.useContext=function(j){return ot.current.useContext(j)},He.useDebugValue=function(){},He.useDeferredValue=function(j){return ot.current.useDeferredValue(j)},He.useEffect=function(j,G){return ot.current.useEffect(j,G)},He.useId=function(){return ot.current.useId()},He.useImperativeHandle=function(j,G,we){return ot.current.useImperativeHandle(j,G,we)},He.useInsertionEffect=function(j,G){return ot.current.useInsertionEffect(j,G)},He.useLayoutEffect=function(j,G){return ot.current.useLayoutEffect(j,G)},He.useMemo=function(j,G){return ot.current.useMemo(j,G)},He.useReducer=function(j,G,we){return ot.current.useReducer(j,G,we)},He.useRef=function(j){return ot.current.useRef(j)},He.useState=function(j){return ot.current.useState(j)},He.useSyncExternalStore=function(j,G,we){return ot.current.useSyncExternalStore(j,G,we)},He.useTransition=function(){return ot.current.useTransition()},He.version="18.3.1",He}var hm;function id(){return hm||(hm=1,_f.exports=qv()),_f.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm;function Hv(){if(fm)return ru;fm=1;var i=id(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(_,v,T){var S,b={},q=null,Q=null;T!==void 0&&(q=""+T),v.key!==void 0&&(q=""+v.key),v.ref!==void 0&&(Q=v.ref);for(S in v)s.call(v,S)&&!c.hasOwnProperty(S)&&(b[S]=v[S]);if(_&&_.defaultProps)for(S in v=_.defaultProps,v)b[S]===void 0&&(b[S]=v[S]);return{$$typeof:e,type:_,key:q,ref:Q,props:b,_owner:a.current}}return ru.Fragment=n,ru.jsx=d,ru.jsxs=d,ru}var dm;function Wv(){return dm||(dm=1,gf.exports=Hv()),gf.exports}var ge=Wv(),Vc=id(),kc={},yf={exports:{}},yr={},vf={exports:{}},wf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pm;function Kv(){return pm||(pm=1,function(i){function e(F,Se){var fe=F.length;F.push(Se);e:for(;0<fe;){var j=fe-1>>>1,G=F[j];if(0<a(G,Se))F[j]=Se,F[fe]=G,fe=j;else break e}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var Se=F[0],fe=F.pop();if(fe!==Se){F[0]=fe;e:for(var j=0,G=F.length,we=G>>>1;j<we;){var xe=2*(j+1)-1,Ue=F[xe],ae=xe+1,Ge=F[ae];if(0>a(Ue,fe))ae<G&&0>a(Ge,Ue)?(F[j]=Ge,F[ae]=fe,j=ae):(F[j]=Ue,F[xe]=fe,j=xe);else if(ae<G&&0>a(Ge,fe))F[j]=Ge,F[ae]=fe,j=ae;else break e}}return Se}function a(F,Se){var fe=F.sortIndex-Se.sortIndex;return fe!==0?fe:F.id-Se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,_=d.now();i.unstable_now=function(){return d.now()-_}}var v=[],T=[],S=1,b=null,q=3,Q=!1,ie=!1,re=!1,X=typeof setTimeout=="function"?setTimeout:null,Oe=typeof clearTimeout=="function"?clearTimeout:null,Le=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function je(F){for(var Se=n(T);Se!==null;){if(Se.callback===null)s(T);else if(Se.startTime<=F)s(T),Se.sortIndex=Se.expirationTime,e(v,Se);else break;Se=n(T)}}function We(F){if(re=!1,je(F),!ie)if(n(v)!==null)ie=!0,un(bt);else{var Se=n(T);Se!==null&&ot(We,Se.startTime-F)}}function bt(F,Se){ie=!1,re&&(re=!1,Oe(R),R=-1),Q=!0;var fe=q;try{for(je(Se),b=n(v);b!==null&&(!(b.expirationTime>Se)||F&&!M());){var j=b.callback;if(typeof j=="function"){b.callback=null,q=b.priorityLevel;var G=j(b.expirationTime<=Se);Se=i.unstable_now(),typeof G=="function"?b.callback=G:b===n(v)&&s(v),je(Se)}else s(v);b=n(v)}if(b!==null)var we=!0;else{var xe=n(T);xe!==null&&ot(We,xe.startTime-Se),we=!1}return we}finally{b=null,q=fe,Q=!1}}var Ke=!1,L=null,R=-1,P=5,D=-1;function M(){return!(i.unstable_now()-D<P)}function U(){if(L!==null){var F=i.unstable_now();D=F;var Se=!0;try{Se=L(!0,F)}finally{Se?k():(Ke=!1,L=null)}}else Ke=!1}var k;if(typeof Le=="function")k=function(){Le(U)};else if(typeof MessageChannel<"u"){var xt=new MessageChannel,Ht=xt.port2;xt.port1.onmessage=U,k=function(){Ht.postMessage(null)}}else k=function(){X(U,0)};function un(F){L=F,Ke||(Ke=!0,k())}function ot(F,Se){R=X(function(){F(i.unstable_now())},Se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(F){F.callback=null},i.unstable_continueExecution=function(){ie||Q||(ie=!0,un(bt))},i.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<F?Math.floor(1e3/F):5},i.unstable_getCurrentPriorityLevel=function(){return q},i.unstable_getFirstCallbackNode=function(){return n(v)},i.unstable_next=function(F){switch(q){case 1:case 2:case 3:var Se=3;break;default:Se=q}var fe=q;q=Se;try{return F()}finally{q=fe}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(F,Se){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var fe=q;q=F;try{return Se()}finally{q=fe}},i.unstable_scheduleCallback=function(F,Se,fe){var j=i.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?j+fe:j):fe=j,F){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=fe+G,F={id:S++,callback:Se,priorityLevel:F,startTime:fe,expirationTime:G,sortIndex:-1},fe>j?(F.sortIndex=fe,e(T,F),n(v)===null&&F===n(T)&&(re?(Oe(R),R=-1):re=!0,ot(We,fe-j))):(F.sortIndex=G,e(v,F),ie||Q||(ie=!0,un(bt))),F},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(F){var Se=q;return function(){var fe=q;q=Se;try{return F.apply(this,arguments)}finally{q=fe}}}}(wf)),wf}var mm;function Qv(){return mm||(mm=1,vf.exports=Kv()),vf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm;function Gv(){if(gm)return yr;gm=1;var i=id(),e=Qv();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){d(t,r),d(t+"Capture",r)}function d(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var _=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,T=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S={},b={};function q(t){return v.call(b,t)?!0:v.call(S,t)?!1:T.test(t)?b[t]=!0:(S[t]=!0,!1)}function Q(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ie(t,r,o,u){if(r===null||typeof r>"u"||Q(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function re(t,r,o,u,f,m,E){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=m,this.removeEmptyString=E}var X={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){X[t]=new re(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];X[r]=new re(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){X[t]=new re(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){X[t]=new re(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){X[t]=new re(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){X[t]=new re(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){X[t]=new re(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){X[t]=new re(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){X[t]=new re(t,5,!1,t.toLowerCase(),null,!1,!1)});var Oe=/[\-:]([a-z])/g;function Le(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(Oe,Le);X[r]=new re(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(Oe,Le);X[r]=new re(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(Oe,Le);X[r]=new re(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){X[t]=new re(t,1,!1,t.toLowerCase(),null,!1,!1)}),X.xlinkHref=new re("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){X[t]=new re(t,1,!1,t.toLowerCase(),null,!0,!0)});function je(t,r,o,u){var f=X.hasOwnProperty(r)?X[r]:null;(f!==null?f.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(ie(r,o,f,u)&&(o=null),u||f===null?q(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):f.mustUseProperty?t[f.propertyName]=o===null?f.type===3?!1:"":o:(r=f.attributeName,u=f.attributeNamespace,o===null?t.removeAttribute(r):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var We=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bt=Symbol.for("react.element"),Ke=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),M=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),Ht=Symbol.for("react.memo"),un=Symbol.for("react.lazy"),ot=Symbol.for("react.offscreen"),F=Symbol.iterator;function Se(t){return t===null||typeof t!="object"?null:(t=F&&t[F]||t["@@iterator"],typeof t=="function"?t:null)}var fe=Object.assign,j;function G(t){if(j===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);j=r&&r[1]||""}return`
`+j+t}var we=!1;function xe(t,r){if(!t||we)return"";we=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(W){var u=W}Reflect.construct(t,[],r)}else{try{r.call()}catch(W){u=W}t.call(r.prototype)}else{try{throw Error()}catch(W){u=W}t()}}catch(W){if(W&&u&&typeof W.stack=="string"){for(var f=W.stack.split(`
`),m=u.stack.split(`
`),E=f.length-1,C=m.length-1;1<=E&&0<=C&&f[E]!==m[C];)C--;for(;1<=E&&0<=C;E--,C--)if(f[E]!==m[C]){if(E!==1||C!==1)do if(E--,C--,0>C||f[E]!==m[C]){var x=`
`+f[E].replace(" at new "," at ");return t.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",t.displayName)),x}while(1<=E&&0<=C);break}}}finally{we=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?G(t):""}function Ue(t){switch(t.tag){case 5:return G(t.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return t=xe(t.type,!1),t;case 11:return t=xe(t.type.render,!1),t;case 1:return t=xe(t.type,!0),t;default:return""}}function ae(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case Ke:return"Portal";case P:return"Profiler";case R:return"StrictMode";case k:return"Suspense";case xt:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case M:return(t.displayName||"Context")+".Consumer";case D:return(t._context.displayName||"Context")+".Provider";case U:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ht:return r=t.displayName||null,r!==null?r:ae(t.type)||"Memo";case un:r=t._payload,t=t._init;try{return ae(t(r))}catch{}}return null}function Ge(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(r);case 8:return r===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function et(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vt(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Wt(t){var r=vt(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,m.call(this,E)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Vn(t){t._valueTracker||(t._valueTracker=Wt(t))}function rs(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=vt(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function Zn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function er(t,r){var o=r.checked;return fe({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Vs(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=et(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function No(t,r){r=r.checked,r!=null&&je(t,"checked",r,!1)}function Vo(t,r){No(t,r);var o=et(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Os(t,r.type,o):r.hasOwnProperty("defaultValue")&&Os(t,r.type,et(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Pa(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Os(t,r,o){(r!=="number"||Zn(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var si=Array.isArray;function oi(t,r,o,u){if(t=t.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=r.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&u&&(t[o].defaultSelected=!0)}else{for(o=""+et(o),r=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,u&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Vi(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return fe({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function On(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(si(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:et(o)}}function is(t,r){var o=et(r.value),u=et(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function ai(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function Tt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function It(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?Tt(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var tr,Oo=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,f){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,f)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(tr=tr||document.createElement("div"),tr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=tr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Mr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},os=["Webkit","ms","Moz","O"];Object.keys(ss).forEach(function(t){os.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),ss[r]=ss[t]})});function Lo(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||ss.hasOwnProperty(t)&&ss[t]?(""+r).trim():r+"px"}function Mo(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,f=Lo(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,f):t[o]=f}}var Fo=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jo(t,r){if(r){if(Fo[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function Ls(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fr=null;function as(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ls=null,nr=null,jr=null;function Ms(t){if(t=br(t)){if(typeof ls!="function")throw Error(n(280));var r=t.stateNode;r&&(r=ao(r),ls(t.stateNode,t.type,r))}}function Ur(t){nr?jr?jr.push(t):jr=[t]:nr=t}function zr(){if(nr){var t=nr,r=jr;if(jr=nr=null,Ms(t),r)for(t=0;t<r.length;t++)Ms(r[t])}}function Er(t,r){return t(r)}function Uo(){}var li=!1;function zo(t,r,o){if(li)return t(r,o);li=!0;try{return Er(t,r,o)}finally{li=!1,(nr!==null||jr!==null)&&(Uo(),zr())}}function Dt(t,r){var o=t.stateNode;if(o===null)return null;var u=ao(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Fs=!1;if(_)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){Fs=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{Fs=!1}function rr(t,r,o,u,f,m,E,C,x){var W=Array.prototype.slice.call(arguments,3);try{r.apply(o,W)}catch(te){this.onError(te)}}var $r=!1,js=null,Mn=!1,$o=null,vl={onError:function(t){$r=!0,js=t}};function Tr(t,r,o,u,f,m,E,C,x){$r=!1,js=null,rr.apply(vl,arguments)}function Kt(t,r,o,u,f,m,E,C,x){if(Tr.apply(this,arguments),$r){if($r){var W=js;$r=!1,js=null}else throw Error(n(198));Mn||(Mn=!0,$o=W)}}function At(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function jt(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Et(t){if(At(t)!==t)throw Error(n(188))}function us(t){var r=t.alternate;if(!r){if(r=At(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return Et(f),t;if(m===u)return Et(f),r;m=m.sibling}throw Error(n(188))}if(o.return!==u.return)o=f,u=m;else{for(var E=!1,C=f.child;C;){if(C===o){E=!0,o=f,u=m;break}if(C===u){E=!0,u=f,o=m;break}C=C.sibling}if(!E){for(C=m.child;C;){if(C===o){E=!0,o=m,u=f;break}if(C===u){E=!0,u=m,o=f;break}C=C.sibling}if(!E)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function Br(t){return t=us(t),t!==null?ir(t):null}function ir(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=ir(t);if(r!==null)return r;t=t.sibling}return null}var Ir=e.unstable_scheduleCallback,Us=e.unstable_cancelCallback,zs=e.unstable_shouldYield,Oi=e.unstable_requestPaint,mt=e.unstable_now,$s=e.unstable_getCurrentPriorityLevel,ui=e.unstable_ImmediatePriority,ci=e.unstable_UserBlockingPriority,Fn=e.unstable_NormalPriority,Bs=e.unstable_LowPriority,Bo=e.unstable_IdlePriority,Li=null,Tn=null;function qo(t){if(Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(Li,t,void 0,(t.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:jn,qs=Math.log,Ho=Math.LN2;function jn(t){return t>>>=0,t===0?32:31-(qs(t)/Ho|0)|0}var Qt=64,sr=4194304;function Ut(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hi(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,f=t.suspendedLanes,m=t.pingedLanes,E=o&268435455;if(E!==0){var C=E&~f;C!==0?u=Ut(C):(m&=E,m!==0&&(u=Ut(m)))}else E=o&~f,E!==0?u=Ut(E):m!==0&&(u=Ut(m));if(u===0)return 0;if(r!==0&&r!==u&&!(r&f)&&(f=u&-u,m=r&-r,f>=m||f===16&&(m&4194240)!==0))return r;if(u&4&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-cn(r),f=1<<o,u|=t[o],r&=~f;return u}function Wo(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gt(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes;0<m;){var E=31-cn(m),C=1<<E,x=f[E];x===-1?(!(C&o)||C&u)&&(f[E]=Wo(C,r)):x<=r&&(t.expiredLanes|=C),m&=~C}}function zt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function qr(){var t=Qt;return Qt<<=1,!(Qt&4194240)&&(Qt=64),t}function Un(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Hr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-cn(r),t[r]=o}function ft(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var f=31-cn(o),m=1<<f;r[f]=0,u[f]=-1,t[f]=-1,o&=~m}}function zn(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-cn(o),f=1<<u;f&r|t[u]&r&&(t[u]|=r),o&=~f}}var Be=0;function fi(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var or,Hs,Ar,cs,Ko,di=!1,ar=[],Nt=null,lr=null,ur=null,pi=new Map,en=new Map,Wr=[],xa="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ws(t,r){switch(t){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":pi.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":en.delete(r.pointerId)}}function tn(t,r,o,u,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},r!==null&&(r=br(r),r!==null&&Hs(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function Qo(t,r,o,u,f){switch(r){case"focusin":return Nt=tn(Nt,t,r,o,u,f),!0;case"dragenter":return lr=tn(lr,t,r,o,u,f),!0;case"mouseover":return ur=tn(ur,t,r,o,u,f),!0;case"pointerover":var m=f.pointerId;return pi.set(m,tn(pi.get(m)||null,t,r,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,en.set(m,tn(en.get(m)||null,t,r,o,u,f)),!0}return!1}function ba(t){var r=qi(t.target);if(r!==null){var o=At(r);if(o!==null){if(r=o.tag,r===13){if(r=jt(o),r!==null){t.blockedOn=r,Ko(t.priority,function(){Ar(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Cr(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);Fr=u,o.target.dispatchEvent(u),Fr=null}else return r=br(o),r!==null&&Hs(r),t.blockedOn=o,!1;r.shift()}return!0}function hs(t,r,o){cr(t)&&o.delete(r)}function Go(){di=!1,Nt!==null&&cr(Nt)&&(Nt=null),lr!==null&&cr(lr)&&(lr=null),ur!==null&&cr(ur)&&(ur=null),pi.forEach(hs),en.forEach(hs)}function $n(t,r){t.blockedOn===r&&(t.blockedOn=null,di||(di=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Go)))}function Bn(t){function r(f){return $n(f,t)}if(0<ar.length){$n(ar[0],t);for(var o=1;o<ar.length;o++){var u=ar[o];u.blockedOn===t&&(u.blockedOn=null)}}for(Nt!==null&&$n(Nt,t),lr!==null&&$n(lr,t),ur!==null&&$n(ur,t),pi.forEach(r),en.forEach(r),o=0;o<Wr.length;o++)u=Wr[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<Wr.length&&(o=Wr[0],o.blockedOn===null);)ba(o),o.blockedOn===null&&Wr.shift()}var Sr=We.ReactCurrentBatchConfig,mi=!0;function dt(t,r,o,u){var f=Be,m=Sr.transition;Sr.transition=null;try{Be=1,Ks(t,r,o,u)}finally{Be=f,Sr.transition=m}}function Yo(t,r,o,u){var f=Be,m=Sr.transition;Sr.transition=null;try{Be=4,Ks(t,r,o,u)}finally{Be=f,Sr.transition=m}}function Ks(t,r,o,u){if(mi){var f=Cr(t,r,o,u);if(f===null)vi(t,r,u,Mi,o),Ws(t,u);else if(Qo(f,t,r,o,u))u.stopPropagation();else if(Ws(t,u),r&4&&-1<xa.indexOf(t)){for(;f!==null;){var m=br(f);if(m!==null&&or(m),m=Cr(t,r,o,u),m===null&&vi(t,r,u,Mi,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else vi(t,r,u,null,o)}}var Mi=null;function Cr(t,r,o,u){if(Mi=null,t=as(u),t=qi(t),t!==null)if(r=At(t),r===null)t=null;else if(o=r.tag,o===13){if(t=jt(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Mi=t,null}function Xo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($s()){case ui:return 1;case ci:return 4;case Fn:case Bs:return 16;case Bo:return 536870912;default:return 16}default:return 16}}var In=null,fs=null,mn=null;function Qs(){if(mn)return mn;var t,r=fs,o=r.length,u,f="value"in In?In.value:In.textContent,m=f.length;for(t=0;t<o&&r[t]===f[t];t++);var E=o-t;for(u=1;u<=E&&r[o-u]===f[m-u];u++);return mn=f.slice(t,1<u?1-u:void 0)}function ds(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function hr(){return!0}function Gs(){return!1}function nn(t){function r(o,u,f,m,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(o=t[C],this[C]=o?o(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?hr:Gs,this.isPropagationStopped=Gs,this}return fe(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),r}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ps=nn(Rr),kr=fe({},Rr,{view:0,detail:0}),Ys=nn(kr),Xs,gi,Kr,Fi=fe({},kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kr&&(Kr&&t.type==="mousemove"?(Xs=t.screenX-Kr.screenX,gi=t.screenY-Kr.screenY):gi=Xs=0,Kr=t),Xs)},movementY:function(t){return"movementY"in t?t.movementY:gi}}),ms=nn(Fi),Pr=fe({},Fi,{dataTransfer:0}),Js=nn(Pr),Zs=fe({},kr,{relatedTarget:0}),gs=nn(Zs),Da=fe({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),_i=nn(Da),Na=fe({},Rr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Va=nn(Na),Jo=fe({},Rr,{data:0}),eo=nn(Jo),to={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oa(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Qr[t])?!!r[t]:!1}function qn(){return Oa}var l=fe({},kr,{key:function(t){if(t.key){var r=to[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ds(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qn,charCode:function(t){return t.type==="keypress"?ds(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ds(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),p=nn(l),y=fe({},Fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A=nn(y),z=fe({},kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qn}),K=nn(z),le=fe({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),at=nn(le),lt=fe({},Fi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Qe=nn(lt),$t=[9,13,27,32],Vt=_&&"CompositionEvent"in window,fr=null;_&&"documentMode"in document&&(fr=document.documentMode);var Hn=_&&"TextEvent"in window&&!fr,ji=_&&(!Vt||fr&&8<fr&&11>=fr),yi=" ",Pu=!1;function xu(t,r){switch(t){case"keyup":return $t.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wl(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var no=!1;function vh(t,r){switch(t){case"compositionend":return wl(r);case"keypress":return r.which!==32?null:(Pu=!0,yi);case"textInput":return t=r.data,t===yi&&Pu?null:t;default:return null}}function bu(t,r){if(no)return t==="compositionend"||!Vt&&xu(t,r)?(t=Qs(),mn=fs=In=null,no=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ji&&r.locale!=="ko"?null:r.data;default:return null}}var Du={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function El(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Du[t.type]:r==="textarea"}function Zo(t,r,o,u){Ur(u),r=$a(r,"onChange"),0<r.length&&(o=new ps("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var ro=null,_s=null;function dr(t){Vl(t,0)}function La(t){var r=ws(t);if(rs(r))return t}function wh(t,r){if(t==="change")return r}var Tl=!1;if(_){var Ma;if(_){var Il="oninput"in document;if(!Il){var Nu=document.createElement("div");Nu.setAttribute("oninput","return;"),Il=typeof Nu.oninput=="function"}Ma=Il}else Ma=!1;Tl=Ma&&(!document.documentMode||9<document.documentMode)}function Vu(){ro&&(ro.detachEvent("onpropertychange",Ou),_s=ro=null)}function Ou(t){if(t.propertyName==="value"&&La(_s)){var r=[];Zo(r,_s,t,as(t)),zo(dr,r)}}function Eh(t,r,o){t==="focusin"?(Vu(),ro=r,_s=o,ro.attachEvent("onpropertychange",Ou)):t==="focusout"&&Vu()}function Th(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return La(_s)}function Lu(t,r){if(t==="click")return La(r)}function Mu(t,r){if(t==="input"||t==="change")return La(r)}function Al(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var xr=typeof Object.is=="function"?Object.is:Al;function ea(t,r){if(xr(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!v.call(r,f)||!xr(t[f],r[f]))return!1}return!0}function Ui(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gr(t,r){var o=Ui(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ui(o)}}function Sl(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Sl(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Fu(){for(var t=window,r=Zn();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Zn(t.document)}return r}function Fa(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function ju(t){var r=Fu(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Sl(o.ownerDocument.documentElement,o)){if(u!==null&&Fa(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var f=o.textContent.length,m=Math.min(u.start,f);u=u.end===void 0?m:Math.min(u.end,f),!t.extend&&m>u&&(f=u,u=m,m=f),f=Gr(o,m);var E=Gr(o,u);f&&E&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==E.node||t.focusOffset!==E.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),t.removeAllRanges(),m>u?(t.addRange(r),t.extend(E.node,E.offset)):(r.setEnd(E.node,E.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Uu=_&&"documentMode"in document&&11>=document.documentMode,ys=null,Cl=null,ta=null,Rl=!1;function kl(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Rl||ys==null||ys!==Zn(u)||(u=ys,"selectionStart"in u&&Fa(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ta&&ea(ta,u)||(ta=u,u=$a(Cl,"onSelect"),0<u.length&&(r=new ps("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=ys)))}function na(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var io={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionend:na("Transition","TransitionEnd")},Pl={},zu={};_&&(zu=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function ja(t){if(Pl[t])return Pl[t];if(!io[t])return t;var r=io[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in zu)return Pl[t]=r[o];return t}var $u=ja("animationend"),Yr=ja("animationiteration"),xl=ja("animationstart"),Bu=ja("transitionend"),qu=new Map,Hu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zi(t,r){qu.set(t,r),c(r,[t])}for(var bl=0;bl<Hu.length;bl++){var Dl=Hu[bl],Ih=Dl.toLowerCase(),Ah=Dl[0].toUpperCase()+Dl.slice(1);zi(Ih,"on"+Ah)}zi($u,"onAnimationEnd"),zi(Yr,"onAnimationIteration"),zi(xl,"onAnimationStart"),zi("dblclick","onDoubleClick"),zi("focusin","onFocus"),zi("focusout","onBlur"),zi(Bu,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ua=new Set("cancel close invalid load scroll toggle".split(" ").concat(vs));function Nl(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,Kt(u,r,void 0,t),t.currentTarget=null}function Vl(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],f=u.event;u=u.listeners;e:{var m=void 0;if(r)for(var E=u.length-1;0<=E;E--){var C=u[E],x=C.instance,W=C.currentTarget;if(C=C.listener,x!==m&&f.isPropagationStopped())break e;Nl(f,C,W),m=x}else for(E=0;E<u.length;E++){if(C=u[E],x=C.instance,W=C.currentTarget,C=C.listener,x!==m&&f.isPropagationStopped())break e;Nl(f,C,W),m=x}}}if(Mn)throw t=$o,Mn=!1,$o=null,t}function ut(t,r){var o=r[jl];o===void 0&&(o=r[jl]=new Set);var u=t+"__bubble";o.has(u)||(Wu(r,t,2,!1),o.add(u))}function ra(t,r,o){var u=0;r&&(u|=4),Wu(o,t,u,r)}var za="_reactListening"+Math.random().toString(36).slice(2);function ia(t){if(!t[za]){t[za]=!0,s.forEach(function(o){o!=="selectionchange"&&(Ua.has(o)||ra(o,!1,t),ra(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[za]||(r[za]=!0,ra("selectionchange",!1,r))}}function Wu(t,r,o,u){switch(Xo(r)){case 1:var f=dt;break;case 4:f=Yo;break;default:f=Ks}o=f.bind(null,r,o,t),f=void 0,!Fs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?t.addEventListener(r,o,{capture:!0,passive:f}):t.addEventListener(r,o,!0):f!==void 0?t.addEventListener(r,o,{passive:f}):t.addEventListener(r,o,!1)}function vi(t,r,o,u,f){var m=u;if(!(r&1)&&!(r&2)&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var C=u.stateNode.containerInfo;if(C===f||C.nodeType===8&&C.parentNode===f)break;if(E===4)for(E=u.return;E!==null;){var x=E.tag;if((x===3||x===4)&&(x=E.stateNode.containerInfo,x===f||x.nodeType===8&&x.parentNode===f))return;E=E.return}for(;C!==null;){if(E=qi(C),E===null)return;if(x=E.tag,x===5||x===6){u=m=E;continue e}C=C.parentNode}}u=u.return}zo(function(){var W=m,te=as(o),ne=[];e:{var ee=qu.get(t);if(ee!==void 0){var de=ps,ye=t;switch(t){case"keypress":if(ds(o)===0)break e;case"keydown":case"keyup":de=p;break;case"focusin":ye="focus",de=gs;break;case"focusout":ye="blur",de=gs;break;case"beforeblur":case"afterblur":de=gs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=ms;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Js;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=K;break;case $u:case Yr:case xl:de=_i;break;case Bu:de=at;break;case"scroll":de=Ys;break;case"wheel":de=Qe;break;case"copy":case"cut":case"paste":de=Va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=A}var Ee=(r&4)!==0,Bt=!Ee&&t==="scroll",$=Ee?ee!==null?ee+"Capture":null:ee;Ee=[];for(var N=W,B;N!==null;){B=N;var oe=B.stateNode;if(B.tag===5&&oe!==null&&(B=oe,$!==null&&(oe=Dt(N,$),oe!=null&&Ee.push(sa(N,oe,B)))),Bt)break;N=N.return}0<Ee.length&&(ee=new de(ee,ye,null,o,te),ne.push({event:ee,listeners:Ee}))}}if(!(r&7)){e:{if(ee=t==="mouseover"||t==="pointerover",de=t==="mouseout"||t==="pointerout",ee&&o!==Fr&&(ye=o.relatedTarget||o.fromElement)&&(qi(ye)||ye[Jr]))break e;if((de||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,de?(ye=o.relatedTarget||o.toElement,de=W,ye=ye?qi(ye):null,ye!==null&&(Bt=At(ye),ye!==Bt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(de=null,ye=W),de!==ye)){if(Ee=ms,oe="onMouseLeave",$="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=A,oe="onPointerLeave",$="onPointerEnter",N="pointer"),Bt=de==null?ee:ws(de),B=ye==null?ee:ws(ye),ee=new Ee(oe,N+"leave",de,o,te),ee.target=Bt,ee.relatedTarget=B,oe=null,qi(te)===W&&(Ee=new Ee($,N+"enter",ye,o,te),Ee.target=B,Ee.relatedTarget=Bt,oe=Ee),Bt=oe,de&&ye)t:{for(Ee=de,$=ye,N=0,B=Ee;B;B=wi(B))N++;for(B=0,oe=$;oe;oe=wi(oe))B++;for(;0<N-B;)Ee=wi(Ee),N--;for(;0<B-N;)$=wi($),B--;for(;N--;){if(Ee===$||$!==null&&Ee===$.alternate)break t;Ee=wi(Ee),$=wi($)}Ee=null}else Ee=null;de!==null&&Ba(ne,ee,de,Ee,!1),ye!==null&&Bt!==null&&Ba(ne,Bt,ye,Ee,!0)}}e:{if(ee=W?ws(W):window,de=ee.nodeName&&ee.nodeName.toLowerCase(),de==="select"||de==="input"&&ee.type==="file")var Ie=wh;else if(El(ee))if(Tl)Ie=Mu;else{Ie=Th;var ke=Eh}else(de=ee.nodeName)&&de.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(Ie=Lu);if(Ie&&(Ie=Ie(t,W))){Zo(ne,Ie,o,te);break e}ke&&ke(t,ee,W),t==="focusout"&&(ke=ee._wrapperState)&&ke.controlled&&ee.type==="number"&&Os(ee,"number",ee.value)}switch(ke=W?ws(W):window,t){case"focusin":(El(ke)||ke.contentEditable==="true")&&(ys=ke,Cl=W,ta=null);break;case"focusout":ta=Cl=ys=null;break;case"mousedown":Rl=!0;break;case"contextmenu":case"mouseup":case"dragend":Rl=!1,kl(ne,o,te);break;case"selectionchange":if(Uu)break;case"keydown":case"keyup":kl(ne,o,te)}var Pe;if(Vt)e:{switch(t){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else no?xu(t,o)&&(De="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(De="onCompositionStart");De&&(ji&&o.locale!=="ko"&&(no||De!=="onCompositionStart"?De==="onCompositionEnd"&&no&&(Pe=Qs()):(In=te,fs="value"in In?In.value:In.textContent,no=!0)),ke=$a(W,De),0<ke.length&&(De=new eo(De,t,null,o,te),ne.push({event:De,listeners:ke}),Pe?De.data=Pe:(Pe=wl(o),Pe!==null&&(De.data=Pe)))),(Pe=Hn?vh(t,o):bu(t,o))&&(W=$a(W,"onBeforeInput"),0<W.length&&(te=new eo("onBeforeInput","beforeinput",null,o,te),ne.push({event:te,listeners:W}),te.data=Pe))}Vl(ne,r)})}function sa(t,r,o){return{instance:t,listener:r,currentTarget:o}}function $a(t,r){for(var o=r+"Capture",u=[];t!==null;){var f=t,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=Dt(t,o),m!=null&&u.unshift(sa(t,m,f)),m=Dt(t,r),m!=null&&u.push(sa(t,m,f))),t=t.return}return u}function wi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ba(t,r,o,u,f){for(var m=r._reactName,E=[];o!==null&&o!==u;){var C=o,x=C.alternate,W=C.stateNode;if(x!==null&&x===u)break;C.tag===5&&W!==null&&(C=W,f?(x=Dt(o,m),x!=null&&E.unshift(sa(o,x,C))):f||(x=Dt(o,m),x!=null&&E.push(sa(o,x,C)))),o=o.return}E.length!==0&&t.push({event:r,listeners:E})}var Sh=/\r\n?/g,Ku=/\u0000|\uFFFD/g;function Qu(t){return(typeof t=="string"?t:""+t).replace(Sh,`
`).replace(Ku,"")}function Ei(t,r,o){if(r=Qu(r),Qu(t)!==r&&o)throw Error(n(425))}function so(){}var qa=null,Ol=null;function Ll(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ml=typeof setTimeout=="function"?setTimeout:void 0,oa=typeof clearTimeout=="function"?clearTimeout:void 0,$i=typeof Promise=="function"?Promise:void 0,Ch=typeof queueMicrotask=="function"?queueMicrotask:typeof $i<"u"?function(t){return $i.resolve(null).then(t).catch(Rh)}:Ml;function Rh(t){setTimeout(function(){throw t})}function Fl(t,r){var o=r,u=0;do{var f=o.nextSibling;if(t.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(u===0){t.removeChild(f),Bn(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=f}while(o);Bn(r)}function Bi(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Gu(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var oo=Math.random().toString(36).slice(2),Xr="__reactFiber$"+oo,aa="__reactProps$"+oo,Jr="__reactContainer$"+oo,jl="__reactEvents$"+oo,Yu="__reactListeners$"+oo,Ul="__reactHandles$"+oo;function qi(t){var r=t[Xr];if(r)return r;for(var o=t.parentNode;o;){if(r=o[Jr]||o[Xr]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Gu(t);t!==null;){if(o=t[Xr])return o;t=Gu(t)}return r}t=o,o=t.parentNode}return null}function br(t){return t=t[Xr]||t[Jr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ws(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function ao(t){return t[aa]||null}var Ha=[],Hi=-1;function Ti(t){return{current:t}}function gt(t){0>Hi||(t.current=Ha[Hi],Ha[Hi]=null,Hi--)}function wt(t,r){Hi++,Ha[Hi]=t.current,t.current=r}var An={},St=Ti(An),Sn=Ti(!1),Es=An;function lo(t,r){var o=t.type.contextTypes;if(!o)return An;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in o)f[m]=r[m];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=f),f}function Cn(t){return t=t.childContextTypes,t!=null}function Wa(){gt(Sn),gt(St)}function Xu(t,r,o){if(St.current!==An)throw Error(n(168));wt(St,r),wt(Sn,o)}function Ju(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var f in u)if(!(f in r))throw Error(n(108,Ge(t)||"Unknown",f));return fe({},o,u)}function Ka(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||An,Es=St.current,wt(St,t),wt(Sn,Sn.current),!0}function zl(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=Ju(t,r,Es),u.__reactInternalMemoizedMergedChildContext=t,gt(Sn),gt(St),wt(St,t)):gt(Sn),wt(Sn,o)}var pr=null,Ts=!1,$l=!1;function Zu(t){pr===null?pr=[t]:pr.push(t)}function la(t){Ts=!0,Zu(t)}function w(){if(!$l&&pr!==null){$l=!0;var t=0,r=Be;try{var o=pr;for(Be=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}pr=null,Ts=!1}catch(f){throw pr!==null&&(pr=pr.slice(t+1)),Ir(ui,w),f}finally{Be=r,$l=!1}}return null}var h=[],g=0,I=null,V=0,O=[],H=0,Y=null,se=1,ue="";function he(t,r){h[g++]=V,h[g++]=I,I=t,V=r}function ce(t,r,o){O[H++]=se,O[H++]=ue,O[H++]=Y,Y=t;var u=se;t=ue;var f=32-cn(u)-1;u&=~(1<<f),o+=1;var m=32-cn(r)+f;if(30<m){var E=f-f%5;m=(u&(1<<E)-1).toString(32),u>>=E,f-=E,se=1<<32-cn(r)+f|o<<f|u,ue=m+t}else se=1<<m|o<<f|u,ue=t}function Ne(t){t.return!==null&&(he(t,1),ce(t,1,0))}function Re(t){for(;t===I;)I=h[--g],h[g]=null,V=h[--g],h[g]=null;for(;t===Y;)Y=O[--H],O[H]=null,ue=O[--H],O[H]=null,se=O[--H],O[H]=null}var Ae=null,Te=null,pe=!1,$e=null;function _t(t,r){var o=ri(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function ze(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Ae=t,Te=Bi(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Ae=t,Te=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Y!==null?{id:se,overflow:ue}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=ri(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,Ae=t,Te=null,!0):!1;default:return!1}}function Je(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Me(t){if(pe){var r=Te;if(r){var o=r;if(!ze(t,r)){if(Je(t))throw Error(n(418));r=Bi(o.nextSibling);var u=Ae;r&&ze(t,r)?_t(u,o):(t.flags=t.flags&-4097|2,pe=!1,Ae=t)}}else{if(Je(t))throw Error(n(418));t.flags=t.flags&-4097|2,pe=!1,Ae=t}}}function qe(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ae=t}function tt(t){if(t!==Ae)return!1;if(!pe)return qe(t),pe=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Ll(t.type,t.memoizedProps)),r&&(r=Te)){if(Je(t))throw ct(),Error(n(418));for(;r;)_t(t,r),r=Bi(r.nextSibling)}if(qe(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){Te=Bi(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}Te=null}}else Te=Ae?Bi(t.stateNode.nextSibling):null;return!0}function ct(){for(var t=Te;t;)t=Bi(t.nextSibling)}function Ye(){Te=Ae=null,pe=!1}function Ct(t){$e===null?$e=[t]:$e.push(t)}var Wn=We.ReactCurrentBatchConfig;function gn(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var f=u,m=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===m?r.ref:(r=function(E){var C=f.refs;E===null?delete C[m]:C[m]=E},r._stringRef=m,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function Yt(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Kn(t){var r=t._init;return r(t._payload)}function Qn(t){function r($,N){if(t){var B=$.deletions;B===null?($.deletions=[N],$.flags|=16):B.push(N)}}function o($,N){if(!t)return null;for(;N!==null;)r($,N),N=N.sibling;return null}function u($,N){for($=new Map;N!==null;)N.key!==null?$.set(N.key,N):$.set(N.index,N),N=N.sibling;return $}function f($,N){return $=yo($,N),$.index=0,$.sibling=null,$}function m($,N,B){return $.index=B,t?(B=$.alternate,B!==null?(B=B.index,B<N?($.flags|=2,N):B):($.flags|=2,N)):($.flags|=1048576,N)}function E($){return t&&$.alternate===null&&($.flags|=2),$}function C($,N,B,oe){return N===null||N.tag!==6?(N=cf(B,$.mode,oe),N.return=$,N):(N=f(N,B),N.return=$,N)}function x($,N,B,oe){var Ie=B.type;return Ie===L?te($,N,B.props.children,oe,B.key):N!==null&&(N.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===un&&Kn(Ie)===N.type)?(oe=f(N,B.props),oe.ref=gn($,N,B),oe.return=$,oe):(oe=wc(B.type,B.key,B.props,null,$.mode,oe),oe.ref=gn($,N,B),oe.return=$,oe)}function W($,N,B,oe){return N===null||N.tag!==4||N.stateNode.containerInfo!==B.containerInfo||N.stateNode.implementation!==B.implementation?(N=hf(B,$.mode,oe),N.return=$,N):(N=f(N,B.children||[]),N.return=$,N)}function te($,N,B,oe,Ie){return N===null||N.tag!==7?(N=ma(B,$.mode,oe,Ie),N.return=$,N):(N=f(N,B),N.return=$,N)}function ne($,N,B){if(typeof N=="string"&&N!==""||typeof N=="number")return N=cf(""+N,$.mode,B),N.return=$,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case bt:return B=wc(N.type,N.key,N.props,null,$.mode,B),B.ref=gn($,null,N),B.return=$,B;case Ke:return N=hf(N,$.mode,B),N.return=$,N;case un:var oe=N._init;return ne($,oe(N._payload),B)}if(si(N)||Se(N))return N=ma(N,$.mode,B,null),N.return=$,N;Yt($,N)}return null}function ee($,N,B,oe){var Ie=N!==null?N.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return Ie!==null?null:C($,N,""+B,oe);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case bt:return B.key===Ie?x($,N,B,oe):null;case Ke:return B.key===Ie?W($,N,B,oe):null;case un:return Ie=B._init,ee($,N,Ie(B._payload),oe)}if(si(B)||Se(B))return Ie!==null?null:te($,N,B,oe,null);Yt($,B)}return null}function de($,N,B,oe,Ie){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return $=$.get(B)||null,C(N,$,""+oe,Ie);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case bt:return $=$.get(oe.key===null?B:oe.key)||null,x(N,$,oe,Ie);case Ke:return $=$.get(oe.key===null?B:oe.key)||null,W(N,$,oe,Ie);case un:var ke=oe._init;return de($,N,B,ke(oe._payload),Ie)}if(si(oe)||Se(oe))return $=$.get(B)||null,te(N,$,oe,Ie,null);Yt(N,oe)}return null}function ye($,N,B,oe){for(var Ie=null,ke=null,Pe=N,De=N=0,dn=null;Pe!==null&&De<B.length;De++){Pe.index>De?(dn=Pe,Pe=null):dn=Pe.sibling;var st=ee($,Pe,B[De],oe);if(st===null){Pe===null&&(Pe=dn);break}t&&Pe&&st.alternate===null&&r($,Pe),N=m(st,N,De),ke===null?Ie=st:ke.sibling=st,ke=st,Pe=dn}if(De===B.length)return o($,Pe),pe&&he($,De),Ie;if(Pe===null){for(;De<B.length;De++)Pe=ne($,B[De],oe),Pe!==null&&(N=m(Pe,N,De),ke===null?Ie=Pe:ke.sibling=Pe,ke=Pe);return pe&&he($,De),Ie}for(Pe=u($,Pe);De<B.length;De++)dn=de(Pe,$,De,B[De],oe),dn!==null&&(t&&dn.alternate!==null&&Pe.delete(dn.key===null?De:dn.key),N=m(dn,N,De),ke===null?Ie=dn:ke.sibling=dn,ke=dn);return t&&Pe.forEach(function(vo){return r($,vo)}),pe&&he($,De),Ie}function Ee($,N,B,oe){var Ie=Se(B);if(typeof Ie!="function")throw Error(n(150));if(B=Ie.call(B),B==null)throw Error(n(151));for(var ke=Ie=null,Pe=N,De=N=0,dn=null,st=B.next();Pe!==null&&!st.done;De++,st=B.next()){Pe.index>De?(dn=Pe,Pe=null):dn=Pe.sibling;var vo=ee($,Pe,st.value,oe);if(vo===null){Pe===null&&(Pe=dn);break}t&&Pe&&vo.alternate===null&&r($,Pe),N=m(vo,N,De),ke===null?Ie=vo:ke.sibling=vo,ke=vo,Pe=dn}if(st.done)return o($,Pe),pe&&he($,De),Ie;if(Pe===null){for(;!st.done;De++,st=B.next())st=ne($,st.value,oe),st!==null&&(N=m(st,N,De),ke===null?Ie=st:ke.sibling=st,ke=st);return pe&&he($,De),Ie}for(Pe=u($,Pe);!st.done;De++,st=B.next())st=de(Pe,$,De,st.value,oe),st!==null&&(t&&st.alternate!==null&&Pe.delete(st.key===null?De:st.key),N=m(st,N,De),ke===null?Ie=st:ke.sibling=st,ke=st);return t&&Pe.forEach(function(zv){return r($,zv)}),pe&&he($,De),Ie}function Bt($,N,B,oe){if(typeof B=="object"&&B!==null&&B.type===L&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case bt:e:{for(var Ie=B.key,ke=N;ke!==null;){if(ke.key===Ie){if(Ie=B.type,Ie===L){if(ke.tag===7){o($,ke.sibling),N=f(ke,B.props.children),N.return=$,$=N;break e}}else if(ke.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===un&&Kn(Ie)===ke.type){o($,ke.sibling),N=f(ke,B.props),N.ref=gn($,ke,B),N.return=$,$=N;break e}o($,ke);break}else r($,ke);ke=ke.sibling}B.type===L?(N=ma(B.props.children,$.mode,oe,B.key),N.return=$,$=N):(oe=wc(B.type,B.key,B.props,null,$.mode,oe),oe.ref=gn($,N,B),oe.return=$,$=oe)}return E($);case Ke:e:{for(ke=B.key;N!==null;){if(N.key===ke)if(N.tag===4&&N.stateNode.containerInfo===B.containerInfo&&N.stateNode.implementation===B.implementation){o($,N.sibling),N=f(N,B.children||[]),N.return=$,$=N;break e}else{o($,N);break}else r($,N);N=N.sibling}N=hf(B,$.mode,oe),N.return=$,$=N}return E($);case un:return ke=B._init,Bt($,N,ke(B._payload),oe)}if(si(B))return ye($,N,B,oe);if(Se(B))return Ee($,N,B,oe);Yt($,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,N!==null&&N.tag===6?(o($,N.sibling),N=f(N,B),N.return=$,$=N):(o($,N),N=cf(B,$.mode,oe),N.return=$,$=N),E($)):o($,N)}return Bt}var yt=Qn(!0),Dr=Qn(!1),Gn=Ti(null),Ii=null,Rt=null,ht=null;function rn(){ht=Rt=Ii=null}function Rn(t){var r=Gn.current;gt(Gn),t._currentValue=r}function Zr(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function Ai(t,r){Ii=t,ht=Rt=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(mr=!0),t.firstContext=null)}function Yn(t){var r=t._currentValue;if(ht!==t)if(t={context:t,memoizedValue:r,next:null},Rt===null){if(Ii===null)throw Error(n(308));Rt=t,Ii.dependencies={lanes:0,firstContext:t}}else Rt=Rt.next=t;return r}var Wi=null;function uo(t){Wi===null?Wi=[t]:Wi.push(t)}function ec(t,r,o,u){var f=r.interleaved;return f===null?(o.next=o,uo(r)):(o.next=f.next,f.next=o),r.interleaved=o,Si(t,u)}function Si(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var ei=!1;function Bl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ql(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ci(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Ri(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,it&2){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,Si(t,o)}return f=u.interleaved,f===null?(r.next=r,uo(u)):(r.next=f.next,f.next=r),u.interleaved=r,Si(t,o)}function ua(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,zn(t,o)}}function tc(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var E={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};m===null?f=m=E:m=m.next=E,o=o.next}while(o!==null);m===null?f=m=r:m=m.next=r}else f=m=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function Qa(t,r,o,u){var f=t.updateQueue;ei=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var x=C,W=x.next;x.next=null,E===null?m=W:E.next=W,E=x;var te=t.alternate;te!==null&&(te=te.updateQueue,C=te.lastBaseUpdate,C!==E&&(C===null?te.firstBaseUpdate=W:C.next=W,te.lastBaseUpdate=x))}if(m!==null){var ne=f.baseState;E=0,te=W=x=null,C=m;do{var ee=C.lane,de=C.eventTime;if((u&ee)===ee){te!==null&&(te=te.next={eventTime:de,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var ye=t,Ee=C;switch(ee=r,de=o,Ee.tag){case 1:if(ye=Ee.payload,typeof ye=="function"){ne=ye.call(de,ne,ee);break e}ne=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ee.payload,ee=typeof ye=="function"?ye.call(de,ne,ee):ye,ee==null)break e;ne=fe({},ne,ee);break e;case 2:ei=!0}}C.callback!==null&&C.lane!==0&&(t.flags|=64,ee=f.effects,ee===null?f.effects=[C]:ee.push(C))}else de={eventTime:de,lane:ee,tag:C.tag,payload:C.payload,callback:C.callback,next:null},te===null?(W=te=de,x=ne):te=te.next=de,E|=ee;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;ee=C,C=ee.next,ee.next=null,f.lastBaseUpdate=ee,f.shared.pending=null}}while(!0);if(te===null&&(x=ne),f.baseState=x,f.firstBaseUpdate=W,f.lastBaseUpdate=te,r=f.shared.interleaved,r!==null){f=r;do E|=f.lane,f=f.next;while(f!==r)}else m===null&&(f.shared.lanes=0);ha|=E,t.lanes=E,t.memoizedState=ne}}function Ki(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],f=u.callback;if(f!==null){if(u.callback=null,u=o,typeof f!="function")throw Error(n(191,f));f.call(u)}}}var Qi={},Nr=Ti(Qi),co=Ti(Qi),Is=Ti(Qi);function Gi(t){if(t===Qi)throw Error(n(174));return t}function Ga(t,r){switch(wt(Is,r),wt(co,t),wt(Nr,Qi),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:It(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=It(r,t)}gt(Nr),wt(Nr,r)}function As(){gt(Nr),gt(co),gt(Is)}function Hl(t){Gi(Is.current);var r=Gi(Nr.current),o=It(r,t.type);r!==o&&(wt(co,t),wt(Nr,o))}function Wl(t){co.current===t&&(gt(Nr),gt(co))}var kt=Ti(0);function ho(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ya=[];function kh(){for(var t=0;t<Ya.length;t++)Ya[t]._workInProgressVersionPrimary=null;Ya.length=0}var nc=We.ReactCurrentDispatcher,Ph=We.ReactCurrentBatchConfig,ca=0,Ot=null,sn=null,hn=null,rc=!1,Kl=!1,Ql=0,uv=0;function kn(){throw Error(n(321))}function xh(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!xr(t[o],r[o]))return!1;return!0}function bh(t,r,o,u,f,m){if(ca=m,Ot=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,nc.current=t===null||t.memoizedState===null?dv:pv,t=o(u,f),Kl){m=0;do{if(Kl=!1,Ql=0,25<=m)throw Error(n(301));m+=1,hn=sn=null,r.updateQueue=null,nc.current=mv,t=o(u,f)}while(Kl)}if(nc.current=oc,r=sn!==null&&sn.next!==null,ca=0,hn=sn=Ot=null,rc=!1,r)throw Error(n(300));return t}function Dh(){var t=Ql!==0;return Ql=0,t}function Yi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Ot.memoizedState=hn=t:hn=hn.next=t,hn}function ti(){if(sn===null){var t=Ot.alternate;t=t!==null?t.memoizedState:null}else t=sn.next;var r=hn===null?Ot.memoizedState:hn.next;if(r!==null)hn=r,sn=t;else{if(t===null)throw Error(n(310));sn=t,t={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},hn===null?Ot.memoizedState=hn=t:hn=hn.next=t}return hn}function Gl(t,r){return typeof r=="function"?r(t):r}function Nh(t){var r=ti(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=sn,f=u.baseQueue,m=o.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}u.baseQueue=f=m,o.pending=null}if(f!==null){m=f.next,u=u.baseState;var C=E=null,x=null,W=m;do{var te=W.lane;if((ca&te)===te)x!==null&&(x=x.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),u=W.hasEagerState?W.eagerState:t(u,W.action);else{var ne={lane:te,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};x===null?(C=x=ne,E=u):x=x.next=ne,Ot.lanes|=te,ha|=te}W=W.next}while(W!==null&&W!==m);x===null?E=u:x.next=C,xr(u,r.memoizedState)||(mr=!0),r.memoizedState=u,r.baseState=E,r.baseQueue=x,o.lastRenderedState=u}if(t=o.interleaved,t!==null){f=t;do m=f.lane,Ot.lanes|=m,ha|=m,f=f.next;while(f!==t)}else f===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Vh(t){var r=ti(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,f=o.pending,m=r.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do m=t(m,E.action),E=E.next;while(E!==f);xr(m,r.memoizedState)||(mr=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),o.lastRenderedState=m}return[m,u]}function Gd(){}function Yd(t,r){var o=Ot,u=ti(),f=r(),m=!xr(u.memoizedState,f);if(m&&(u.memoizedState=f,mr=!0),u=u.queue,Oh(Zd.bind(null,o,u,t),[t]),u.getSnapshot!==r||m||hn!==null&&hn.memoizedState.tag&1){if(o.flags|=2048,Yl(9,Jd.bind(null,o,u,f,r),void 0,null),fn===null)throw Error(n(349));ca&30||Xd(o,r,f)}return f}function Xd(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ot.updateQueue,r===null?(r={lastEffect:null,stores:null},Ot.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Jd(t,r,o,u){r.value=o,r.getSnapshot=u,ep(r)&&tp(t)}function Zd(t,r,o){return o(function(){ep(r)&&tp(t)})}function ep(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!xr(t,o)}catch{return!0}}function tp(t){var r=Si(t,1);r!==null&&bi(r,t,1,-1)}function np(t){var r=Yi();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gl,lastRenderedState:t},r.queue=t,t=t.dispatch=fv.bind(null,Ot,t),[r.memoizedState,t]}function Yl(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Ot.updateQueue,r===null?(r={lastEffect:null,stores:null},Ot.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function rp(){return ti().memoizedState}function ic(t,r,o,u){var f=Yi();Ot.flags|=t,f.memoizedState=Yl(1|r,o,void 0,u===void 0?null:u)}function sc(t,r,o,u){var f=ti();u=u===void 0?null:u;var m=void 0;if(sn!==null){var E=sn.memoizedState;if(m=E.destroy,u!==null&&xh(u,E.deps)){f.memoizedState=Yl(r,o,m,u);return}}Ot.flags|=t,f.memoizedState=Yl(1|r,o,m,u)}function ip(t,r){return ic(8390656,8,t,r)}function Oh(t,r){return sc(2048,8,t,r)}function sp(t,r){return sc(4,2,t,r)}function op(t,r){return sc(4,4,t,r)}function ap(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function lp(t,r,o){return o=o!=null?o.concat([t]):null,sc(4,4,ap.bind(null,r,t),o)}function Lh(){}function up(t,r){var o=ti();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&xh(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function cp(t,r){var o=ti();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&xh(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function hp(t,r,o){return ca&21?(xr(o,r)||(o=qr(),Ot.lanes|=o,ha|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,mr=!0),t.memoizedState=o)}function cv(t,r){var o=Be;Be=o!==0&&4>o?o:4,t(!0);var u=Ph.transition;Ph.transition={};try{t(!1),r()}finally{Be=o,Ph.transition=u}}function fp(){return ti().memoizedState}function hv(t,r,o){var u=go(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},dp(t))pp(r,o);else if(o=ec(t,r,o,u),o!==null){var f=Jn();bi(o,t,u,f),mp(o,r,u)}}function fv(t,r,o){var u=go(t),f={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(dp(t))pp(r,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var E=r.lastRenderedState,C=m(E,o);if(f.hasEagerState=!0,f.eagerState=C,xr(C,E)){var x=r.interleaved;x===null?(f.next=f,uo(r)):(f.next=x.next,x.next=f),r.interleaved=f;return}}catch{}finally{}o=ec(t,r,f,u),o!==null&&(f=Jn(),bi(o,t,u,f),mp(o,r,u))}}function dp(t){var r=t.alternate;return t===Ot||r!==null&&r===Ot}function pp(t,r){Kl=rc=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function mp(t,r,o){if(o&4194240){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,zn(t,o)}}var oc={readContext:Yn,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useInsertionEffect:kn,useLayoutEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useMutableSource:kn,useSyncExternalStore:kn,useId:kn,unstable_isNewReconciler:!1},dv={readContext:Yn,useCallback:function(t,r){return Yi().memoizedState=[t,r===void 0?null:r],t},useContext:Yn,useEffect:ip,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,ic(4194308,4,ap.bind(null,r,t),o)},useLayoutEffect:function(t,r){return ic(4194308,4,t,r)},useInsertionEffect:function(t,r){return ic(4,2,t,r)},useMemo:function(t,r){var o=Yi();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=Yi();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=hv.bind(null,Ot,t),[u.memoizedState,t]},useRef:function(t){var r=Yi();return t={current:t},r.memoizedState=t},useState:np,useDebugValue:Lh,useDeferredValue:function(t){return Yi().memoizedState=t},useTransition:function(){var t=np(!1),r=t[0];return t=cv.bind(null,t[1]),Yi().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Ot,f=Yi();if(pe){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),fn===null)throw Error(n(349));ca&30||Xd(u,r,o)}f.memoizedState=o;var m={value:o,getSnapshot:r};return f.queue=m,ip(Zd.bind(null,u,m,t),[t]),u.flags|=2048,Yl(9,Jd.bind(null,u,m,o,r),void 0,null),o},useId:function(){var t=Yi(),r=fn.identifierPrefix;if(pe){var o=ue,u=se;o=(u&~(1<<32-cn(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=Ql++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=uv++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},pv={readContext:Yn,useCallback:up,useContext:Yn,useEffect:Oh,useImperativeHandle:lp,useInsertionEffect:sp,useLayoutEffect:op,useMemo:cp,useReducer:Nh,useRef:rp,useState:function(){return Nh(Gl)},useDebugValue:Lh,useDeferredValue:function(t){var r=ti();return hp(r,sn.memoizedState,t)},useTransition:function(){var t=Nh(Gl)[0],r=ti().memoizedState;return[t,r]},useMutableSource:Gd,useSyncExternalStore:Yd,useId:fp,unstable_isNewReconciler:!1},mv={readContext:Yn,useCallback:up,useContext:Yn,useEffect:Oh,useImperativeHandle:lp,useInsertionEffect:sp,useLayoutEffect:op,useMemo:cp,useReducer:Vh,useRef:rp,useState:function(){return Vh(Gl)},useDebugValue:Lh,useDeferredValue:function(t){var r=ti();return sn===null?r.memoizedState=t:hp(r,sn.memoizedState,t)},useTransition:function(){var t=Vh(Gl)[0],r=ti().memoizedState;return[t,r]},useMutableSource:Gd,useSyncExternalStore:Yd,useId:fp,unstable_isNewReconciler:!1};function ki(t,r){if(t&&t.defaultProps){r=fe({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Mh(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:fe({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var ac={isMounted:function(t){return(t=t._reactInternals)?At(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=Jn(),f=go(t),m=Ci(u,f);m.payload=r,o!=null&&(m.callback=o),r=Ri(t,m,f),r!==null&&(bi(r,t,f,u),ua(r,t,f))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=Jn(),f=go(t),m=Ci(u,f);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=Ri(t,m,f),r!==null&&(bi(r,t,f,u),ua(r,t,f))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=Jn(),u=go(t),f=Ci(o,u);f.tag=2,r!=null&&(f.callback=r),r=Ri(t,f,u),r!==null&&(bi(r,t,u,o),ua(r,t,u))}};function gp(t,r,o,u,f,m,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,m,E):r.prototype&&r.prototype.isPureReactComponent?!ea(o,u)||!ea(f,m):!0}function _p(t,r,o){var u=!1,f=An,m=r.contextType;return typeof m=="object"&&m!==null?m=Yn(m):(f=Cn(r)?Es:St.current,u=r.contextTypes,m=(u=u!=null)?lo(t,f):An),r=new r(o,m),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=ac,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=m),r}function yp(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&ac.enqueueReplaceState(r,r.state,null)}function Fh(t,r,o,u){var f=t.stateNode;f.props=o,f.state=t.memoizedState,f.refs={},Bl(t);var m=r.contextType;typeof m=="object"&&m!==null?f.context=Yn(m):(m=Cn(r)?Es:St.current,f.context=lo(t,m)),f.state=t.memoizedState,m=r.getDerivedStateFromProps,typeof m=="function"&&(Mh(t,r,m,o),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&ac.enqueueReplaceState(f,f.state,null),Qa(t,o,f,u),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function Xa(t,r){try{var o="",u=r;do o+=Ue(u),u=u.return;while(u);var f=o}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:r,stack:f,digest:null}}function jh(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Uh(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var gv=typeof WeakMap=="function"?WeakMap:Map;function vp(t,r,o){o=Ci(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){pc||(pc=!0,tf=u),Uh(t,r)},o}function wp(t,r,o){o=Ci(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var f=r.value;o.payload=function(){return u(f)},o.callback=function(){Uh(t,r)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(o.callback=function(){Uh(t,r),typeof u!="function"&&(po===null?po=new Set([this]):po.add(this));var E=r.stack;this.componentDidCatch(r.value,{componentStack:E!==null?E:""})}),o}function Ep(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new gv;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(f.add(o),t=xv.bind(null,t,r,o),r.then(t,t))}function Tp(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Ip(t,r,o,u,f){return t.mode&1?(t.flags|=65536,t.lanes=f,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=Ci(-1,1),r.tag=2,Ri(o,r,1))),o.lanes|=1),t)}var _v=We.ReactCurrentOwner,mr=!1;function Xn(t,r,o,u){r.child=t===null?Dr(r,null,o,u):yt(r,t.child,o,u)}function Ap(t,r,o,u,f){o=o.render;var m=r.ref;return Ai(r,f),u=bh(t,r,o,u,m,f),o=Dh(),t!==null&&!mr?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,Ss(t,r,f)):(pe&&o&&Ne(r),r.flags|=1,Xn(t,r,u,f),r.child)}function Sp(t,r,o,u,f){if(t===null){var m=o.type;return typeof m=="function"&&!uf(m)&&m.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=m,Cp(t,r,m,u,f)):(t=wc(o.type,null,u,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!(t.lanes&f)){var E=m.memoizedProps;if(o=o.compare,o=o!==null?o:ea,o(E,u)&&t.ref===r.ref)return Ss(t,r,f)}return r.flags|=1,t=yo(m,u),t.ref=r.ref,t.return=r,r.child=t}function Cp(t,r,o,u,f){if(t!==null){var m=t.memoizedProps;if(ea(m,u)&&t.ref===r.ref)if(mr=!1,r.pendingProps=u=m,(t.lanes&f)!==0)t.flags&131072&&(mr=!0);else return r.lanes=t.lanes,Ss(t,r,f)}return zh(t,r,o,u,f)}function Rp(t,r,o){var u=r.pendingProps,f=u.children,m=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(Za,Vr),Vr|=o;else{if(!(o&1073741824))return t=m!==null?m.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,wt(Za,Vr),Vr|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=m!==null?m.baseLanes:o,wt(Za,Vr),Vr|=u}else m!==null?(u=m.baseLanes|o,r.memoizedState=null):u=o,wt(Za,Vr),Vr|=u;return Xn(t,r,f,o),r.child}function kp(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function zh(t,r,o,u,f){var m=Cn(o)?Es:St.current;return m=lo(r,m),Ai(r,f),o=bh(t,r,o,u,m,f),u=Dh(),t!==null&&!mr?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,Ss(t,r,f)):(pe&&u&&Ne(r),r.flags|=1,Xn(t,r,o,f),r.child)}function Pp(t,r,o,u,f){if(Cn(o)){var m=!0;Ka(r)}else m=!1;if(Ai(r,f),r.stateNode===null)uc(t,r),_p(r,o,u),Fh(r,o,u,f),u=!0;else if(t===null){var E=r.stateNode,C=r.memoizedProps;E.props=C;var x=E.context,W=o.contextType;typeof W=="object"&&W!==null?W=Yn(W):(W=Cn(o)?Es:St.current,W=lo(r,W));var te=o.getDerivedStateFromProps,ne=typeof te=="function"||typeof E.getSnapshotBeforeUpdate=="function";ne||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==u||x!==W)&&yp(r,E,u,W),ei=!1;var ee=r.memoizedState;E.state=ee,Qa(r,u,E,f),x=r.memoizedState,C!==u||ee!==x||Sn.current||ei?(typeof te=="function"&&(Mh(r,o,te,u),x=r.memoizedState),(C=ei||gp(r,o,C,u,ee,x,W))?(ne||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(r.flags|=4194308)):(typeof E.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=x),E.props=u,E.state=x,E.context=W,u=C):(typeof E.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{E=r.stateNode,ql(t,r),C=r.memoizedProps,W=r.type===r.elementType?C:ki(r.type,C),E.props=W,ne=r.pendingProps,ee=E.context,x=o.contextType,typeof x=="object"&&x!==null?x=Yn(x):(x=Cn(o)?Es:St.current,x=lo(r,x));var de=o.getDerivedStateFromProps;(te=typeof de=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==ne||ee!==x)&&yp(r,E,u,x),ei=!1,ee=r.memoizedState,E.state=ee,Qa(r,u,E,f);var ye=r.memoizedState;C!==ne||ee!==ye||Sn.current||ei?(typeof de=="function"&&(Mh(r,o,de,u),ye=r.memoizedState),(W=ei||gp(r,o,W,u,ee,ye,x)||!1)?(te||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(u,ye,x),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(u,ye,x)),typeof E.componentDidUpdate=="function"&&(r.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof E.componentDidUpdate!="function"||C===t.memoizedProps&&ee===t.memoizedState||(r.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&ee===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ye),E.props=u,E.state=ye,E.context=x,u=W):(typeof E.componentDidUpdate!="function"||C===t.memoizedProps&&ee===t.memoizedState||(r.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&ee===t.memoizedState||(r.flags|=1024),u=!1)}return $h(t,r,o,u,m,f)}function $h(t,r,o,u,f,m){kp(t,r);var E=(r.flags&128)!==0;if(!u&&!E)return f&&zl(r,o,!1),Ss(t,r,m);u=r.stateNode,_v.current=r;var C=E&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&E?(r.child=yt(r,t.child,null,m),r.child=yt(r,null,C,m)):Xn(t,r,C,m),r.memoizedState=u.state,f&&zl(r,o,!0),r.child}function xp(t){var r=t.stateNode;r.pendingContext?Xu(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Xu(t,r.context,!1),Ga(t,r.containerInfo)}function bp(t,r,o,u,f){return Ye(),Ct(f),r.flags|=256,Xn(t,r,o,u),r.child}var Bh={dehydrated:null,treeContext:null,retryLane:0};function qh(t){return{baseLanes:t,cachePool:null,transitions:null}}function Dp(t,r,o){var u=r.pendingProps,f=kt.current,m=!1,E=(r.flags&128)!==0,C;if((C=E)||(C=t!==null&&t.memoizedState===null?!1:(f&2)!==0),C?(m=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),wt(kt,f&1),t===null)return Me(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(E=u.children,t=u.fallback,m?(u=r.mode,m=r.child,E={mode:"hidden",children:E},!(u&1)&&m!==null?(m.childLanes=0,m.pendingProps=E):m=Ec(E,u,0,null),t=ma(t,u,o,null),m.return=r,t.return=r,m.sibling=t,r.child=m,r.child.memoizedState=qh(o),r.memoizedState=Bh,t):Hh(r,E));if(f=t.memoizedState,f!==null&&(C=f.dehydrated,C!==null))return yv(t,r,E,u,C,f,o);if(m){m=u.fallback,E=r.mode,f=t.child,C=f.sibling;var x={mode:"hidden",children:u.children};return!(E&1)&&r.child!==f?(u=r.child,u.childLanes=0,u.pendingProps=x,r.deletions=null):(u=yo(f,x),u.subtreeFlags=f.subtreeFlags&14680064),C!==null?m=yo(C,m):(m=ma(m,E,o,null),m.flags|=2),m.return=r,u.return=r,u.sibling=m,r.child=u,u=m,m=r.child,E=t.child.memoizedState,E=E===null?qh(o):{baseLanes:E.baseLanes|o,cachePool:null,transitions:E.transitions},m.memoizedState=E,m.childLanes=t.childLanes&~o,r.memoizedState=Bh,u}return m=t.child,t=m.sibling,u=yo(m,{mode:"visible",children:u.children}),!(r.mode&1)&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function Hh(t,r){return r=Ec({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function lc(t,r,o,u){return u!==null&&Ct(u),yt(r,t.child,null,o),t=Hh(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function yv(t,r,o,u,f,m,E){if(o)return r.flags&256?(r.flags&=-257,u=jh(Error(n(422))),lc(t,r,E,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(m=u.fallback,f=r.mode,u=Ec({mode:"visible",children:u.children},f,0,null),m=ma(m,f,E,null),m.flags|=2,u.return=r,m.return=r,u.sibling=m,r.child=u,r.mode&1&&yt(r,t.child,null,E),r.child.memoizedState=qh(E),r.memoizedState=Bh,m);if(!(r.mode&1))return lc(t,r,E,null);if(f.data==="$!"){if(u=f.nextSibling&&f.nextSibling.dataset,u)var C=u.dgst;return u=C,m=Error(n(419)),u=jh(m,u,void 0),lc(t,r,E,u)}if(C=(E&t.childLanes)!==0,mr||C){if(u=fn,u!==null){switch(E&-E){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(u.suspendedLanes|E)?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,Si(t,f),bi(u,t,f,-1))}return lf(),u=jh(Error(n(421))),lc(t,r,E,u)}return f.data==="$?"?(r.flags|=128,r.child=t.child,r=bv.bind(null,t),f._reactRetry=r,null):(t=m.treeContext,Te=Bi(f.nextSibling),Ae=r,pe=!0,$e=null,t!==null&&(O[H++]=se,O[H++]=ue,O[H++]=Y,se=t.id,ue=t.overflow,Y=r),r=Hh(r,u.children),r.flags|=4096,r)}function Np(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),Zr(t.return,r,o)}function Wh(t,r,o,u,f){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=f)}function Vp(t,r,o){var u=r.pendingProps,f=u.revealOrder,m=u.tail;if(Xn(t,r,u.children,o),u=kt.current,u&2)u=u&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Np(t,o,r);else if(t.tag===19)Np(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(wt(kt,u),!(r.mode&1))r.memoizedState=null;else switch(f){case"forwards":for(o=r.child,f=null;o!==null;)t=o.alternate,t!==null&&ho(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Wh(r,!1,f,o,m);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&ho(t)===null){r.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}Wh(r,!0,o,null,m);break;case"together":Wh(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function uc(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function Ss(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),ha|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=yo(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=yo(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function vv(t,r,o){switch(r.tag){case 3:xp(r),Ye();break;case 5:Hl(r);break;case 1:Cn(r.type)&&Ka(r);break;case 4:Ga(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,f=r.memoizedProps.value;wt(Gn,u._currentValue),u._currentValue=f;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(wt(kt,kt.current&1),r.flags|=128,null):o&r.child.childLanes?Dp(t,r,o):(wt(kt,kt.current&1),t=Ss(t,r,o),t!==null?t.sibling:null);wt(kt,kt.current&1);break;case 19:if(u=(o&r.childLanes)!==0,t.flags&128){if(u)return Vp(t,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),wt(kt,kt.current),u)break;return null;case 22:case 23:return r.lanes=0,Rp(t,r,o)}return Ss(t,r,o)}var Op,Kh,Lp,Mp;Op=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Kh=function(){},Lp=function(t,r,o,u){var f=t.memoizedProps;if(f!==u){t=r.stateNode,Gi(Nr.current);var m=null;switch(o){case"input":f=er(t,f),u=er(t,u),m=[];break;case"select":f=fe({},f,{value:void 0}),u=fe({},u,{value:void 0}),m=[];break;case"textarea":f=Vi(t,f),u=Vi(t,u),m=[];break;default:typeof f.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=so)}jo(o,u);var E;o=null;for(W in f)if(!u.hasOwnProperty(W)&&f.hasOwnProperty(W)&&f[W]!=null)if(W==="style"){var C=f[W];for(E in C)C.hasOwnProperty(E)&&(o||(o={}),o[E]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(a.hasOwnProperty(W)?m||(m=[]):(m=m||[]).push(W,null));for(W in u){var x=u[W];if(C=f!=null?f[W]:void 0,u.hasOwnProperty(W)&&x!==C&&(x!=null||C!=null))if(W==="style")if(C){for(E in C)!C.hasOwnProperty(E)||x&&x.hasOwnProperty(E)||(o||(o={}),o[E]="");for(E in x)x.hasOwnProperty(E)&&C[E]!==x[E]&&(o||(o={}),o[E]=x[E])}else o||(m||(m=[]),m.push(W,o)),o=x;else W==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,C=C?C.__html:void 0,x!=null&&C!==x&&(m=m||[]).push(W,x)):W==="children"?typeof x!="string"&&typeof x!="number"||(m=m||[]).push(W,""+x):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(a.hasOwnProperty(W)?(x!=null&&W==="onScroll"&&ut("scroll",t),m||C===x||(m=[])):(m=m||[]).push(W,x))}o&&(m=m||[]).push("style",o);var W=m;(r.updateQueue=W)&&(r.flags|=4)}},Mp=function(t,r,o,u){o!==u&&(r.flags|=4)};function Xl(t,r){if(!pe)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Pn(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&14680064,u|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function wv(t,r,o){var u=r.pendingProps;switch(Re(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pn(r),null;case 1:return Cn(r.type)&&Wa(),Pn(r),null;case 3:return u=r.stateNode,As(),gt(Sn),gt(St),kh(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(tt(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,$e!==null&&(sf($e),$e=null))),Kh(t,r),Pn(r),null;case 5:Wl(r);var f=Gi(Is.current);if(o=r.type,t!==null&&r.stateNode!=null)Lp(t,r,o,u,f),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Pn(r),null}if(t=Gi(Nr.current),tt(r)){u=r.stateNode,o=r.type;var m=r.memoizedProps;switch(u[Xr]=r,u[aa]=m,t=(r.mode&1)!==0,o){case"dialog":ut("cancel",u),ut("close",u);break;case"iframe":case"object":case"embed":ut("load",u);break;case"video":case"audio":for(f=0;f<vs.length;f++)ut(vs[f],u);break;case"source":ut("error",u);break;case"img":case"image":case"link":ut("error",u),ut("load",u);break;case"details":ut("toggle",u);break;case"input":Vs(u,m),ut("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!m.multiple},ut("invalid",u);break;case"textarea":On(u,m),ut("invalid",u)}jo(o,m),f=null;for(var E in m)if(m.hasOwnProperty(E)){var C=m[E];E==="children"?typeof C=="string"?u.textContent!==C&&(m.suppressHydrationWarning!==!0&&Ei(u.textContent,C,t),f=["children",C]):typeof C=="number"&&u.textContent!==""+C&&(m.suppressHydrationWarning!==!0&&Ei(u.textContent,C,t),f=["children",""+C]):a.hasOwnProperty(E)&&C!=null&&E==="onScroll"&&ut("scroll",u)}switch(o){case"input":Vn(u),Pa(u,m,!0);break;case"textarea":Vn(u),ai(u);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(u.onclick=so)}u=f,r.updateQueue=u,u!==null&&(r.flags|=4)}else{E=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Tt(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=E.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=E.createElement(o,{is:u.is}):(t=E.createElement(o),o==="select"&&(E=t,u.multiple?E.multiple=!0:u.size&&(E.size=u.size))):t=E.createElementNS(t,o),t[Xr]=r,t[aa]=u,Op(t,r,!1,!1),r.stateNode=t;e:{switch(E=Ls(o,u),o){case"dialog":ut("cancel",t),ut("close",t),f=u;break;case"iframe":case"object":case"embed":ut("load",t),f=u;break;case"video":case"audio":for(f=0;f<vs.length;f++)ut(vs[f],t);f=u;break;case"source":ut("error",t),f=u;break;case"img":case"image":case"link":ut("error",t),ut("load",t),f=u;break;case"details":ut("toggle",t),f=u;break;case"input":Vs(t,u),f=er(t,u),ut("invalid",t);break;case"option":f=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},f=fe({},u,{value:void 0}),ut("invalid",t);break;case"textarea":On(t,u),f=Vi(t,u),ut("invalid",t);break;default:f=u}jo(o,f),C=f;for(m in C)if(C.hasOwnProperty(m)){var x=C[m];m==="style"?Mo(t,x):m==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&Oo(t,x)):m==="children"?typeof x=="string"?(o!=="textarea"||x!=="")&&Mr(t,x):typeof x=="number"&&Mr(t,""+x):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(a.hasOwnProperty(m)?x!=null&&m==="onScroll"&&ut("scroll",t):x!=null&&je(t,m,x,E))}switch(o){case"input":Vn(t),Pa(t,u,!1);break;case"textarea":Vn(t),ai(t);break;case"option":u.value!=null&&t.setAttribute("value",""+et(u.value));break;case"select":t.multiple=!!u.multiple,m=u.value,m!=null?oi(t,!!u.multiple,m,!1):u.defaultValue!=null&&oi(t,!!u.multiple,u.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=so)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Pn(r),null;case 6:if(t&&r.stateNode!=null)Mp(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Gi(Is.current),Gi(Nr.current),tt(r)){if(u=r.stateNode,o=r.memoizedProps,u[Xr]=r,(m=u.nodeValue!==o)&&(t=Ae,t!==null))switch(t.tag){case 3:Ei(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ei(u.nodeValue,o,(t.mode&1)!==0)}m&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[Xr]=r,r.stateNode=u}return Pn(r),null;case 13:if(gt(kt),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pe&&Te!==null&&r.mode&1&&!(r.flags&128))ct(),Ye(),r.flags|=98560,m=!1;else if(m=tt(r),u!==null&&u.dehydrated!==null){if(t===null){if(!m)throw Error(n(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[Xr]=r}else Ye(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Pn(r),m=!1}else $e!==null&&(sf($e),$e=null),m=!0;if(!m)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,r.mode&1&&(t===null||kt.current&1?on===0&&(on=3):lf())),r.updateQueue!==null&&(r.flags|=4),Pn(r),null);case 4:return As(),Kh(t,r),t===null&&ia(r.stateNode.containerInfo),Pn(r),null;case 10:return Rn(r.type._context),Pn(r),null;case 17:return Cn(r.type)&&Wa(),Pn(r),null;case 19:if(gt(kt),m=r.memoizedState,m===null)return Pn(r),null;if(u=(r.flags&128)!==0,E=m.rendering,E===null)if(u)Xl(m,!1);else{if(on!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(E=ho(t),E!==null){for(r.flags|=128,Xl(m,!1),u=E.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)m=o,t=u,m.flags&=14680066,E=m.alternate,E===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=E.childLanes,m.lanes=E.lanes,m.child=E.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=E.memoizedProps,m.memoizedState=E.memoizedState,m.updateQueue=E.updateQueue,m.type=E.type,t=E.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return wt(kt,kt.current&1|2),r.child}t=t.sibling}m.tail!==null&&mt()>el&&(r.flags|=128,u=!0,Xl(m,!1),r.lanes=4194304)}else{if(!u)if(t=ho(E),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Xl(m,!0),m.tail===null&&m.tailMode==="hidden"&&!E.alternate&&!pe)return Pn(r),null}else 2*mt()-m.renderingStartTime>el&&o!==1073741824&&(r.flags|=128,u=!0,Xl(m,!1),r.lanes=4194304);m.isBackwards?(E.sibling=r.child,r.child=E):(o=m.last,o!==null?o.sibling=E:r.child=E,m.last=E)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=mt(),r.sibling=null,o=kt.current,wt(kt,u?o&1|2:o&1),r):(Pn(r),null);case 22:case 23:return af(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&r.mode&1?Vr&1073741824&&(Pn(r),r.subtreeFlags&6&&(r.flags|=8192)):Pn(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Ev(t,r){switch(Re(r),r.tag){case 1:return Cn(r.type)&&Wa(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return As(),gt(Sn),gt(St),kh(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Wl(r),null;case 13:if(gt(kt),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Ye()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return gt(kt),null;case 4:return As(),null;case 10:return Rn(r.type._context),null;case 22:case 23:return af(),null;case 24:return null;default:return null}}var cc=!1,xn=!1,Tv=typeof WeakSet=="function"?WeakSet:Set,_e=null;function Ja(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Ft(t,r,u)}else o.current=null}function Qh(t,r,o){try{o()}catch(u){Ft(t,r,u)}}var Fp=!1;function Iv(t,r){if(qa=mi,t=Fu(),Fa(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var E=0,C=-1,x=-1,W=0,te=0,ne=t,ee=null;t:for(;;){for(var de;ne!==o||f!==0&&ne.nodeType!==3||(C=E+f),ne!==m||u!==0&&ne.nodeType!==3||(x=E+u),ne.nodeType===3&&(E+=ne.nodeValue.length),(de=ne.firstChild)!==null;)ee=ne,ne=de;for(;;){if(ne===t)break t;if(ee===o&&++W===f&&(C=E),ee===m&&++te===u&&(x=E),(de=ne.nextSibling)!==null)break;ne=ee,ee=ne.parentNode}ne=de}o=C===-1||x===-1?null:{start:C,end:x}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ol={focusedElem:t,selectionRange:o},mi=!1,_e=r;_e!==null;)if(r=_e,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,_e=t;else for(;_e!==null;){r=_e;try{var ye=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var Ee=ye.memoizedProps,Bt=ye.memoizedState,$=r.stateNode,N=$.getSnapshotBeforeUpdate(r.elementType===r.type?Ee:ki(r.type,Ee),Bt);$.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var B=r.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(oe){Ft(r,r.return,oe)}if(t=r.sibling,t!==null){t.return=r.return,_e=t;break}_e=r.return}return ye=Fp,Fp=!1,ye}function Jl(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&t)===t){var m=f.destroy;f.destroy=void 0,m!==void 0&&Qh(r,o,m)}f=f.next}while(f!==u)}}function hc(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function Gh(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function jp(t){var r=t.alternate;r!==null&&(t.alternate=null,jp(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Xr],delete r[aa],delete r[jl],delete r[Yu],delete r[Ul])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Up(t){return t.tag===5||t.tag===3||t.tag===4}function zp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Up(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yh(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=so));else if(u!==4&&(t=t.child,t!==null))for(Yh(t,r,o),t=t.sibling;t!==null;)Yh(t,r,o),t=t.sibling}function Xh(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Xh(t,r,o),t=t.sibling;t!==null;)Xh(t,r,o),t=t.sibling}var _n=null,Pi=!1;function fo(t,r,o){for(o=o.child;o!==null;)$p(t,r,o),o=o.sibling}function $p(t,r,o){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(Li,o)}catch{}switch(o.tag){case 5:xn||Ja(o,r);case 6:var u=_n,f=Pi;_n=null,fo(t,r,o),_n=u,Pi=f,_n!==null&&(Pi?(t=_n,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):_n.removeChild(o.stateNode));break;case 18:_n!==null&&(Pi?(t=_n,o=o.stateNode,t.nodeType===8?Fl(t.parentNode,o):t.nodeType===1&&Fl(t,o),Bn(t)):Fl(_n,o.stateNode));break;case 4:u=_n,f=Pi,_n=o.stateNode.containerInfo,Pi=!0,fo(t,r,o),_n=u,Pi=f;break;case 0:case 11:case 14:case 15:if(!xn&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){f=u=u.next;do{var m=f,E=m.destroy;m=m.tag,E!==void 0&&(m&2||m&4)&&Qh(o,r,E),f=f.next}while(f!==u)}fo(t,r,o);break;case 1:if(!xn&&(Ja(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(C){Ft(o,r,C)}fo(t,r,o);break;case 21:fo(t,r,o);break;case 22:o.mode&1?(xn=(u=xn)||o.memoizedState!==null,fo(t,r,o),xn=u):fo(t,r,o);break;default:fo(t,r,o)}}function Bp(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Tv),r.forEach(function(u){var f=Dv.bind(null,t,u);o.has(u)||(o.add(u),u.then(f,f))})}}function xi(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];try{var m=t,E=r,C=E;e:for(;C!==null;){switch(C.tag){case 5:_n=C.stateNode,Pi=!1;break e;case 3:_n=C.stateNode.containerInfo,Pi=!0;break e;case 4:_n=C.stateNode.containerInfo,Pi=!0;break e}C=C.return}if(_n===null)throw Error(n(160));$p(m,E,f),_n=null,Pi=!1;var x=f.alternate;x!==null&&(x.return=null),f.return=null}catch(W){Ft(f,r,W)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)qp(r,t),r=r.sibling}function qp(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xi(r,t),Xi(t),u&4){try{Jl(3,t,t.return),hc(3,t)}catch(Ee){Ft(t,t.return,Ee)}try{Jl(5,t,t.return)}catch(Ee){Ft(t,t.return,Ee)}}break;case 1:xi(r,t),Xi(t),u&512&&o!==null&&Ja(o,o.return);break;case 5:if(xi(r,t),Xi(t),u&512&&o!==null&&Ja(o,o.return),t.flags&32){var f=t.stateNode;try{Mr(f,"")}catch(Ee){Ft(t,t.return,Ee)}}if(u&4&&(f=t.stateNode,f!=null)){var m=t.memoizedProps,E=o!==null?o.memoizedProps:m,C=t.type,x=t.updateQueue;if(t.updateQueue=null,x!==null)try{C==="input"&&m.type==="radio"&&m.name!=null&&No(f,m),Ls(C,E);var W=Ls(C,m);for(E=0;E<x.length;E+=2){var te=x[E],ne=x[E+1];te==="style"?Mo(f,ne):te==="dangerouslySetInnerHTML"?Oo(f,ne):te==="children"?Mr(f,ne):je(f,te,ne,W)}switch(C){case"input":Vo(f,m);break;case"textarea":is(f,m);break;case"select":var ee=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var de=m.value;de!=null?oi(f,!!m.multiple,de,!1):ee!==!!m.multiple&&(m.defaultValue!=null?oi(f,!!m.multiple,m.defaultValue,!0):oi(f,!!m.multiple,m.multiple?[]:"",!1))}f[aa]=m}catch(Ee){Ft(t,t.return,Ee)}}break;case 6:if(xi(r,t),Xi(t),u&4){if(t.stateNode===null)throw Error(n(162));f=t.stateNode,m=t.memoizedProps;try{f.nodeValue=m}catch(Ee){Ft(t,t.return,Ee)}}break;case 3:if(xi(r,t),Xi(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Bn(r.containerInfo)}catch(Ee){Ft(t,t.return,Ee)}break;case 4:xi(r,t),Xi(t);break;case 13:xi(r,t),Xi(t),f=t.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(ef=mt())),u&4&&Bp(t);break;case 22:if(te=o!==null&&o.memoizedState!==null,t.mode&1?(xn=(W=xn)||te,xi(r,t),xn=W):xi(r,t),Xi(t),u&8192){if(W=t.memoizedState!==null,(t.stateNode.isHidden=W)&&!te&&t.mode&1)for(_e=t,te=t.child;te!==null;){for(ne=_e=te;_e!==null;){switch(ee=_e,de=ee.child,ee.tag){case 0:case 11:case 14:case 15:Jl(4,ee,ee.return);break;case 1:Ja(ee,ee.return);var ye=ee.stateNode;if(typeof ye.componentWillUnmount=="function"){u=ee,o=ee.return;try{r=u,ye.props=r.memoizedProps,ye.state=r.memoizedState,ye.componentWillUnmount()}catch(Ee){Ft(u,o,Ee)}}break;case 5:Ja(ee,ee.return);break;case 22:if(ee.memoizedState!==null){Kp(ne);continue}}de!==null?(de.return=ee,_e=de):Kp(ne)}te=te.sibling}e:for(te=null,ne=t;;){if(ne.tag===5){if(te===null){te=ne;try{f=ne.stateNode,W?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(C=ne.stateNode,x=ne.memoizedProps.style,E=x!=null&&x.hasOwnProperty("display")?x.display:null,C.style.display=Lo("display",E))}catch(Ee){Ft(t,t.return,Ee)}}}else if(ne.tag===6){if(te===null)try{ne.stateNode.nodeValue=W?"":ne.memoizedProps}catch(Ee){Ft(t,t.return,Ee)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===t)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===t)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===t)break e;te===ne&&(te=null),ne=ne.return}te===ne&&(te=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:xi(r,t),Xi(t),u&4&&Bp(t);break;case 21:break;default:xi(r,t),Xi(t)}}function Xi(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Up(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var f=u.stateNode;u.flags&32&&(Mr(f,""),u.flags&=-33);var m=zp(t);Xh(t,m,f);break;case 3:case 4:var E=u.stateNode.containerInfo,C=zp(t);Yh(t,C,E);break;default:throw Error(n(161))}}catch(x){Ft(t,t.return,x)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Av(t,r,o){_e=t,Hp(t)}function Hp(t,r,o){for(var u=(t.mode&1)!==0;_e!==null;){var f=_e,m=f.child;if(f.tag===22&&u){var E=f.memoizedState!==null||cc;if(!E){var C=f.alternate,x=C!==null&&C.memoizedState!==null||xn;C=cc;var W=xn;if(cc=E,(xn=x)&&!W)for(_e=f;_e!==null;)E=_e,x=E.child,E.tag===22&&E.memoizedState!==null?Qp(f):x!==null?(x.return=E,_e=x):Qp(f);for(;m!==null;)_e=m,Hp(m),m=m.sibling;_e=f,cc=C,xn=W}Wp(t)}else f.subtreeFlags&8772&&m!==null?(m.return=f,_e=m):Wp(t)}}function Wp(t){for(;_e!==null;){var r=_e;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:xn||hc(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!xn)if(o===null)u.componentDidMount();else{var f=r.elementType===r.type?o.memoizedProps:ki(r.type,o.memoizedProps);u.componentDidUpdate(f,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var m=r.updateQueue;m!==null&&Ki(r,m,u);break;case 3:var E=r.updateQueue;if(E!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Ki(r,E,o)}break;case 5:var C=r.stateNode;if(o===null&&r.flags&4){o=C;var x=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&o.focus();break;case"img":x.src&&(o.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var W=r.alternate;if(W!==null){var te=W.memoizedState;if(te!==null){var ne=te.dehydrated;ne!==null&&Bn(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}xn||r.flags&512&&Gh(r)}catch(ee){Ft(r,r.return,ee)}}if(r===t){_e=null;break}if(o=r.sibling,o!==null){o.return=r.return,_e=o;break}_e=r.return}}function Kp(t){for(;_e!==null;){var r=_e;if(r===t){_e=null;break}var o=r.sibling;if(o!==null){o.return=r.return,_e=o;break}_e=r.return}}function Qp(t){for(;_e!==null;){var r=_e;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{hc(4,r)}catch(x){Ft(r,o,x)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var f=r.return;try{u.componentDidMount()}catch(x){Ft(r,f,x)}}var m=r.return;try{Gh(r)}catch(x){Ft(r,m,x)}break;case 5:var E=r.return;try{Gh(r)}catch(x){Ft(r,E,x)}}}catch(x){Ft(r,r.return,x)}if(r===t){_e=null;break}var C=r.sibling;if(C!==null){C.return=r.return,_e=C;break}_e=r.return}}var Sv=Math.ceil,fc=We.ReactCurrentDispatcher,Jh=We.ReactCurrentOwner,ni=We.ReactCurrentBatchConfig,it=0,fn=null,Xt=null,yn=0,Vr=0,Za=Ti(0),on=0,Zl=null,ha=0,dc=0,Zh=0,eu=null,gr=null,ef=0,el=1/0,Cs=null,pc=!1,tf=null,po=null,mc=!1,mo=null,gc=0,tu=0,nf=null,_c=-1,yc=0;function Jn(){return it&6?mt():_c!==-1?_c:_c=mt()}function go(t){return t.mode&1?it&2&&yn!==0?yn&-yn:Wn.transition!==null?(yc===0&&(yc=qr()),yc):(t=Be,t!==0||(t=window.event,t=t===void 0?16:Xo(t.type)),t):1}function bi(t,r,o,u){if(50<tu)throw tu=0,nf=null,Error(n(185));Hr(t,o,u),(!(it&2)||t!==fn)&&(t===fn&&(!(it&2)&&(dc|=o),on===4&&_o(t,yn)),_r(t,u),o===1&&it===0&&!(r.mode&1)&&(el=mt()+500,Ts&&w()))}function _r(t,r){var o=t.callbackNode;Gt(t,r);var u=hi(t,t===fn?yn:0);if(u===0)o!==null&&Us(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&Us(o),r===1)t.tag===0?la(Yp.bind(null,t)):Zu(Yp.bind(null,t)),Ch(function(){!(it&6)&&w()}),o=null;else{switch(fi(u)){case 1:o=ui;break;case 4:o=ci;break;case 16:o=Fn;break;case 536870912:o=Bo;break;default:o=Fn}o=im(o,Gp.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Gp(t,r){if(_c=-1,yc=0,it&6)throw Error(n(327));var o=t.callbackNode;if(tl()&&t.callbackNode!==o)return null;var u=hi(t,t===fn?yn:0);if(u===0)return null;if(u&30||u&t.expiredLanes||r)r=vc(t,u);else{r=u;var f=it;it|=2;var m=Jp();(fn!==t||yn!==r)&&(Cs=null,el=mt()+500,da(t,r));do try{kv();break}catch(C){Xp(t,C)}while(!0);rn(),fc.current=m,it=f,Xt!==null?r=0:(fn=null,yn=0,r=on)}if(r!==0){if(r===2&&(f=zt(t),f!==0&&(u=f,r=rf(t,f))),r===1)throw o=Zl,da(t,0),_o(t,u),_r(t,mt()),o;if(r===6)_o(t,u);else{if(f=t.current.alternate,!(u&30)&&!Cv(f)&&(r=vc(t,u),r===2&&(m=zt(t),m!==0&&(u=m,r=rf(t,m))),r===1))throw o=Zl,da(t,0),_o(t,u),_r(t,mt()),o;switch(t.finishedWork=f,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:pa(t,gr,Cs);break;case 3:if(_o(t,u),(u&130023424)===u&&(r=ef+500-mt(),10<r)){if(hi(t,0)!==0)break;if(f=t.suspendedLanes,(f&u)!==u){Jn(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=Ml(pa.bind(null,t,gr,Cs),r);break}pa(t,gr,Cs);break;case 4:if(_o(t,u),(u&4194240)===u)break;for(r=t.eventTimes,f=-1;0<u;){var E=31-cn(u);m=1<<E,E=r[E],E>f&&(f=E),u&=~m}if(u=f,u=mt()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Sv(u/1960))-u,10<u){t.timeoutHandle=Ml(pa.bind(null,t,gr,Cs),u);break}pa(t,gr,Cs);break;case 5:pa(t,gr,Cs);break;default:throw Error(n(329))}}}return _r(t,mt()),t.callbackNode===o?Gp.bind(null,t):null}function rf(t,r){var o=eu;return t.current.memoizedState.isDehydrated&&(da(t,r).flags|=256),t=vc(t,r),t!==2&&(r=gr,gr=o,r!==null&&sf(r)),t}function sf(t){gr===null?gr=t:gr.push.apply(gr,t)}function Cv(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!xr(m(),f))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function _o(t,r){for(r&=~Zh,r&=~dc,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-cn(r),u=1<<o;t[o]=-1,r&=~u}}function Yp(t){if(it&6)throw Error(n(327));tl();var r=hi(t,0);if(!(r&1))return _r(t,mt()),null;var o=vc(t,r);if(t.tag!==0&&o===2){var u=zt(t);u!==0&&(r=u,o=rf(t,u))}if(o===1)throw o=Zl,da(t,0),_o(t,r),_r(t,mt()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,pa(t,gr,Cs),_r(t,mt()),null}function of(t,r){var o=it;it|=1;try{return t(r)}finally{it=o,it===0&&(el=mt()+500,Ts&&w())}}function fa(t){mo!==null&&mo.tag===0&&!(it&6)&&tl();var r=it;it|=1;var o=ni.transition,u=Be;try{if(ni.transition=null,Be=1,t)return t()}finally{Be=u,ni.transition=o,it=r,!(it&6)&&w()}}function af(){Vr=Za.current,gt(Za)}function da(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,oa(o)),Xt!==null)for(o=Xt.return;o!==null;){var u=o;switch(Re(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Wa();break;case 3:As(),gt(Sn),gt(St),kh();break;case 5:Wl(u);break;case 4:As();break;case 13:gt(kt);break;case 19:gt(kt);break;case 10:Rn(u.type._context);break;case 22:case 23:af()}o=o.return}if(fn=t,Xt=t=yo(t.current,null),yn=Vr=r,on=0,Zl=null,Zh=dc=ha=0,gr=eu=null,Wi!==null){for(r=0;r<Wi.length;r++)if(o=Wi[r],u=o.interleaved,u!==null){o.interleaved=null;var f=u.next,m=o.pending;if(m!==null){var E=m.next;m.next=f,u.next=E}o.pending=u}Wi=null}return t}function Xp(t,r){do{var o=Xt;try{if(rn(),nc.current=oc,rc){for(var u=Ot.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}rc=!1}if(ca=0,hn=sn=Ot=null,Kl=!1,Ql=0,Jh.current=null,o===null||o.return===null){on=1,Zl=r,Xt=null;break}e:{var m=t,E=o.return,C=o,x=r;if(r=yn,C.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var W=x,te=C,ne=te.tag;if(!(te.mode&1)&&(ne===0||ne===11||ne===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var de=Tp(E);if(de!==null){de.flags&=-257,Ip(de,E,C,m,r),de.mode&1&&Ep(m,W,r),r=de,x=W;var ye=r.updateQueue;if(ye===null){var Ee=new Set;Ee.add(x),r.updateQueue=Ee}else ye.add(x);break e}else{if(!(r&1)){Ep(m,W,r),lf();break e}x=Error(n(426))}}else if(pe&&C.mode&1){var Bt=Tp(E);if(Bt!==null){!(Bt.flags&65536)&&(Bt.flags|=256),Ip(Bt,E,C,m,r),Ct(Xa(x,C));break e}}m=x=Xa(x,C),on!==4&&(on=2),eu===null?eu=[m]:eu.push(m),m=E;do{switch(m.tag){case 3:m.flags|=65536,r&=-r,m.lanes|=r;var $=vp(m,x,r);tc(m,$);break e;case 1:C=x;var N=m.type,B=m.stateNode;if(!(m.flags&128)&&(typeof N.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(po===null||!po.has(B)))){m.flags|=65536,r&=-r,m.lanes|=r;var oe=wp(m,C,r);tc(m,oe);break e}}m=m.return}while(m!==null)}em(o)}catch(Ie){r=Ie,Xt===o&&o!==null&&(Xt=o=o.return);continue}break}while(!0)}function Jp(){var t=fc.current;return fc.current=oc,t===null?oc:t}function lf(){(on===0||on===3||on===2)&&(on=4),fn===null||!(ha&268435455)&&!(dc&268435455)||_o(fn,yn)}function vc(t,r){var o=it;it|=2;var u=Jp();(fn!==t||yn!==r)&&(Cs=null,da(t,r));do try{Rv();break}catch(f){Xp(t,f)}while(!0);if(rn(),it=o,fc.current=u,Xt!==null)throw Error(n(261));return fn=null,yn=0,on}function Rv(){for(;Xt!==null;)Zp(Xt)}function kv(){for(;Xt!==null&&!zs();)Zp(Xt)}function Zp(t){var r=rm(t.alternate,t,Vr);t.memoizedProps=t.pendingProps,r===null?em(t):Xt=r,Jh.current=null}function em(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=Ev(o,r),o!==null){o.flags&=32767,Xt=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{on=6,Xt=null;return}}else if(o=wv(o,r,Vr),o!==null){Xt=o;return}if(r=r.sibling,r!==null){Xt=r;return}Xt=r=t}while(r!==null);on===0&&(on=5)}function pa(t,r,o){var u=Be,f=ni.transition;try{ni.transition=null,Be=1,Pv(t,r,o,u)}finally{ni.transition=f,Be=u}return null}function Pv(t,r,o,u){do tl();while(mo!==null);if(it&6)throw Error(n(327));o=t.finishedWork;var f=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var m=o.lanes|o.childLanes;if(ft(t,m),t===fn&&(Xt=fn=null,yn=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||mc||(mc=!0,im(Fn,function(){return tl(),null})),m=(o.flags&15990)!==0,o.subtreeFlags&15990||m){m=ni.transition,ni.transition=null;var E=Be;Be=1;var C=it;it|=4,Jh.current=null,Iv(t,o),qp(o,t),ju(Ol),mi=!!qa,Ol=qa=null,t.current=o,Av(o),Oi(),it=C,Be=E,ni.transition=m}else t.current=o;if(mc&&(mc=!1,mo=t,gc=f),m=t.pendingLanes,m===0&&(po=null),qo(o.stateNode),_r(t,mt()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)f=r[o],u(f.value,{componentStack:f.stack,digest:f.digest});if(pc)throw pc=!1,t=tf,tf=null,t;return gc&1&&t.tag!==0&&tl(),m=t.pendingLanes,m&1?t===nf?tu++:(tu=0,nf=t):tu=0,w(),null}function tl(){if(mo!==null){var t=fi(gc),r=ni.transition,o=Be;try{if(ni.transition=null,Be=16>t?16:t,mo===null)var u=!1;else{if(t=mo,mo=null,gc=0,it&6)throw Error(n(331));var f=it;for(it|=4,_e=t.current;_e!==null;){var m=_e,E=m.child;if(_e.flags&16){var C=m.deletions;if(C!==null){for(var x=0;x<C.length;x++){var W=C[x];for(_e=W;_e!==null;){var te=_e;switch(te.tag){case 0:case 11:case 15:Jl(8,te,m)}var ne=te.child;if(ne!==null)ne.return=te,_e=ne;else for(;_e!==null;){te=_e;var ee=te.sibling,de=te.return;if(jp(te),te===W){_e=null;break}if(ee!==null){ee.return=de,_e=ee;break}_e=de}}}var ye=m.alternate;if(ye!==null){var Ee=ye.child;if(Ee!==null){ye.child=null;do{var Bt=Ee.sibling;Ee.sibling=null,Ee=Bt}while(Ee!==null)}}_e=m}}if(m.subtreeFlags&2064&&E!==null)E.return=m,_e=E;else e:for(;_e!==null;){if(m=_e,m.flags&2048)switch(m.tag){case 0:case 11:case 15:Jl(9,m,m.return)}var $=m.sibling;if($!==null){$.return=m.return,_e=$;break e}_e=m.return}}var N=t.current;for(_e=N;_e!==null;){E=_e;var B=E.child;if(E.subtreeFlags&2064&&B!==null)B.return=E,_e=B;else e:for(E=N;_e!==null;){if(C=_e,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:hc(9,C)}}catch(Ie){Ft(C,C.return,Ie)}if(C===E){_e=null;break e}var oe=C.sibling;if(oe!==null){oe.return=C.return,_e=oe;break e}_e=C.return}}if(it=f,w(),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(Li,t)}catch{}u=!0}return u}finally{Be=o,ni.transition=r}}return!1}function tm(t,r,o){r=Xa(o,r),r=vp(t,r,1),t=Ri(t,r,1),r=Jn(),t!==null&&(Hr(t,1,r),_r(t,r))}function Ft(t,r,o){if(t.tag===3)tm(t,t,o);else for(;r!==null;){if(r.tag===3){tm(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(po===null||!po.has(u))){t=Xa(o,t),t=wp(r,t,1),r=Ri(r,t,1),t=Jn(),r!==null&&(Hr(r,1,t),_r(r,t));break}}r=r.return}}function xv(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=Jn(),t.pingedLanes|=t.suspendedLanes&o,fn===t&&(yn&o)===o&&(on===4||on===3&&(yn&130023424)===yn&&500>mt()-ef?da(t,0):Zh|=o),_r(t,r)}function nm(t,r){r===0&&(t.mode&1?(r=sr,sr<<=1,!(sr&130023424)&&(sr=4194304)):r=1);var o=Jn();t=Si(t,r),t!==null&&(Hr(t,r,o),_r(t,o))}function bv(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),nm(t,o)}function Dv(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),nm(t,o)}var rm;rm=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||Sn.current)mr=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return mr=!1,vv(t,r,o);mr=!!(t.flags&131072)}else mr=!1,pe&&r.flags&1048576&&ce(r,V,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;uc(t,r),t=r.pendingProps;var f=lo(r,St.current);Ai(r,o),f=bh(null,r,u,t,f,o);var m=Dh();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Cn(u)?(m=!0,Ka(r)):m=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Bl(r),f.updater=ac,r.stateNode=f,f._reactInternals=r,Fh(r,u,t,o),r=$h(null,r,u,!0,m,o)):(r.tag=0,pe&&m&&Ne(r),Xn(null,r,f,o),r=r.child),r;case 16:u=r.elementType;e:{switch(uc(t,r),t=r.pendingProps,f=u._init,u=f(u._payload),r.type=u,f=r.tag=Vv(u),t=ki(u,t),f){case 0:r=zh(null,r,u,t,o);break e;case 1:r=Pp(null,r,u,t,o);break e;case 11:r=Ap(null,r,u,t,o);break e;case 14:r=Sp(null,r,u,ki(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:ki(u,f),zh(t,r,u,f,o);case 1:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:ki(u,f),Pp(t,r,u,f,o);case 3:e:{if(xp(r),t===null)throw Error(n(387));u=r.pendingProps,m=r.memoizedState,f=m.element,ql(t,r),Qa(r,u,null,o);var E=r.memoizedState;if(u=E.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){f=Xa(Error(n(423)),r),r=bp(t,r,u,o,f);break e}else if(u!==f){f=Xa(Error(n(424)),r),r=bp(t,r,u,o,f);break e}else for(Te=Bi(r.stateNode.containerInfo.firstChild),Ae=r,pe=!0,$e=null,o=Dr(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ye(),u===f){r=Ss(t,r,o);break e}Xn(t,r,u,o)}r=r.child}return r;case 5:return Hl(r),t===null&&Me(r),u=r.type,f=r.pendingProps,m=t!==null?t.memoizedProps:null,E=f.children,Ll(u,f)?E=null:m!==null&&Ll(u,m)&&(r.flags|=32),kp(t,r),Xn(t,r,E,o),r.child;case 6:return t===null&&Me(r),null;case 13:return Dp(t,r,o);case 4:return Ga(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=yt(r,null,u,o):Xn(t,r,u,o),r.child;case 11:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:ki(u,f),Ap(t,r,u,f,o);case 7:return Xn(t,r,r.pendingProps,o),r.child;case 8:return Xn(t,r,r.pendingProps.children,o),r.child;case 12:return Xn(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,f=r.pendingProps,m=r.memoizedProps,E=f.value,wt(Gn,u._currentValue),u._currentValue=E,m!==null)if(xr(m.value,E)){if(m.children===f.children&&!Sn.current){r=Ss(t,r,o);break e}}else for(m=r.child,m!==null&&(m.return=r);m!==null;){var C=m.dependencies;if(C!==null){E=m.child;for(var x=C.firstContext;x!==null;){if(x.context===u){if(m.tag===1){x=Ci(-1,o&-o),x.tag=2;var W=m.updateQueue;if(W!==null){W=W.shared;var te=W.pending;te===null?x.next=x:(x.next=te.next,te.next=x),W.pending=x}}m.lanes|=o,x=m.alternate,x!==null&&(x.lanes|=o),Zr(m.return,o,r),C.lanes|=o;break}x=x.next}}else if(m.tag===10)E=m.type===r.type?null:m.child;else if(m.tag===18){if(E=m.return,E===null)throw Error(n(341));E.lanes|=o,C=E.alternate,C!==null&&(C.lanes|=o),Zr(E,o,r),E=m.sibling}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===r){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}Xn(t,r,f.children,o),r=r.child}return r;case 9:return f=r.type,u=r.pendingProps.children,Ai(r,o),f=Yn(f),u=u(f),r.flags|=1,Xn(t,r,u,o),r.child;case 14:return u=r.type,f=ki(u,r.pendingProps),f=ki(u.type,f),Sp(t,r,u,f,o);case 15:return Cp(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:ki(u,f),uc(t,r),r.tag=1,Cn(u)?(t=!0,Ka(r)):t=!1,Ai(r,o),_p(r,u,f),Fh(r,u,f,o),$h(null,r,u,!0,t,o);case 19:return Vp(t,r,o);case 22:return Rp(t,r,o)}throw Error(n(156,r.tag))};function im(t,r){return Ir(t,r)}function Nv(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ri(t,r,o,u){return new Nv(t,r,o,u)}function uf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vv(t){if(typeof t=="function")return uf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===U)return 11;if(t===Ht)return 14}return 2}function yo(t,r){var o=t.alternate;return o===null?(o=ri(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function wc(t,r,o,u,f,m){var E=2;if(u=t,typeof t=="function")uf(t)&&(E=1);else if(typeof t=="string")E=5;else e:switch(t){case L:return ma(o.children,f,m,r);case R:E=8,f|=8;break;case P:return t=ri(12,o,r,f|2),t.elementType=P,t.lanes=m,t;case k:return t=ri(13,o,r,f),t.elementType=k,t.lanes=m,t;case xt:return t=ri(19,o,r,f),t.elementType=xt,t.lanes=m,t;case ot:return Ec(o,f,m,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D:E=10;break e;case M:E=9;break e;case U:E=11;break e;case Ht:E=14;break e;case un:E=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=ri(E,o,r,f),r.elementType=t,r.type=u,r.lanes=m,r}function ma(t,r,o,u){return t=ri(7,t,u,r),t.lanes=o,t}function Ec(t,r,o,u){return t=ri(22,t,u,r),t.elementType=ot,t.lanes=o,t.stateNode={isHidden:!1},t}function cf(t,r,o){return t=ri(6,t,null,r),t.lanes=o,t}function hf(t,r,o){return r=ri(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Ov(t,r,o,u,f){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Un(0),this.expirationTimes=Un(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Un(0),this.identifierPrefix=u,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function ff(t,r,o,u,f,m,E,C,x){return t=new Ov(t,r,o,C,x),r===1?(r=1,m===!0&&(r|=8)):r=0,m=ri(3,null,null,r),t.current=m,m.stateNode=t,m.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bl(m),t}function Lv(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ke,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function sm(t){if(!t)return An;t=t._reactInternals;e:{if(At(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Cn(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Cn(o))return Ju(t,o,r)}return r}function om(t,r,o,u,f,m,E,C,x){return t=ff(o,u,!0,t,f,m,E,C,x),t.context=sm(null),o=t.current,u=Jn(),f=go(o),m=Ci(u,f),m.callback=r??null,Ri(o,m,f),t.current.lanes=f,Hr(t,f,u),_r(t,u),t}function Tc(t,r,o,u){var f=r.current,m=Jn(),E=go(f);return o=sm(o),r.context===null?r.context=o:r.pendingContext=o,r=Ci(m,E),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Ri(f,r,E),t!==null&&(bi(t,f,E,m),ua(t,f,E)),E}function Ic(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function am(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function df(t,r){am(t,r),(t=t.alternate)&&am(t,r)}function Mv(){return null}var lm=typeof reportError=="function"?reportError:function(t){console.error(t)};function pf(t){this._internalRoot=t}Ac.prototype.render=pf.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Tc(t,r,null,null)},Ac.prototype.unmount=pf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;fa(function(){Tc(null,t,null,null)}),r[Jr]=null}};function Ac(t){this._internalRoot=t}Ac.prototype.unstable_scheduleHydration=function(t){if(t){var r=cs();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Wr.length&&r!==0&&r<Wr[o].priority;o++);Wr.splice(o,0,t),o===0&&ba(t)}};function mf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function um(){}function Fv(t,r,o,u,f){if(f){if(typeof u=="function"){var m=u;u=function(){var W=Ic(E);m.call(W)}}var E=om(r,u,t,0,null,!1,!1,"",um);return t._reactRootContainer=E,t[Jr]=E.current,ia(t.nodeType===8?t.parentNode:t),fa(),E}for(;f=t.lastChild;)t.removeChild(f);if(typeof u=="function"){var C=u;u=function(){var W=Ic(x);C.call(W)}}var x=ff(t,0,!1,null,null,!1,!1,"",um);return t._reactRootContainer=x,t[Jr]=x.current,ia(t.nodeType===8?t.parentNode:t),fa(function(){Tc(r,x,o,u)}),x}function Cc(t,r,o,u,f){var m=o._reactRootContainer;if(m){var E=m;if(typeof f=="function"){var C=f;f=function(){var x=Ic(E);C.call(x)}}Tc(r,E,t,f)}else E=Fv(o,r,t,f,u);return Ic(E)}or=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Ut(r.pendingLanes);o!==0&&(zn(r,o|1),_r(r,mt()),!(it&6)&&(el=mt()+500,w()))}break;case 13:fa(function(){var u=Si(t,1);if(u!==null){var f=Jn();bi(u,t,1,f)}}),df(t,1)}},Hs=function(t){if(t.tag===13){var r=Si(t,134217728);if(r!==null){var o=Jn();bi(r,t,134217728,o)}df(t,134217728)}},Ar=function(t){if(t.tag===13){var r=go(t),o=Si(t,r);if(o!==null){var u=Jn();bi(o,t,r,u)}df(t,r)}},cs=function(){return Be},Ko=function(t,r){var o=Be;try{return Be=t,r()}finally{Be=o}},ls=function(t,r,o){switch(r){case"input":if(Vo(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var f=ao(u);if(!f)throw Error(n(90));rs(u),Vo(u,f)}}}break;case"textarea":is(t,o);break;case"select":r=o.value,r!=null&&oi(t,!!o.multiple,r,!1)}},Er=of,Uo=fa;var jv={usingClientEntryPoint:!1,Events:[br,ws,ao,Ur,zr,of]},nu={findFiberByHostInstance:qi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Uv={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:We.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Br(t),t===null?null:t.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||Mv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{Li=Rc.inject(Uv),Tn=Rc}catch{}}return yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jv,yr.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mf(r))throw Error(n(200));return Lv(t,r,null,o)},yr.createRoot=function(t,r){if(!mf(t))throw Error(n(299));var o=!1,u="",f=lm;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=ff(t,1,!1,null,null,o,!1,u,f),t[Jr]=r.current,ia(t.nodeType===8?t.parentNode:t),new pf(r)},yr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=Br(r),t=t===null?null:t.stateNode,t},yr.flushSync=function(t){return fa(t)},yr.hydrate=function(t,r,o){if(!Sc(r))throw Error(n(200));return Cc(null,t,r,!0,o)},yr.hydrateRoot=function(t,r,o){if(!mf(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,f=!1,m="",E=lm;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(E=o.onRecoverableError)),r=om(r,null,t,1,o??null,f,!1,m,E),t[Jr]=r.current,ia(t),u)for(t=0;t<u.length;t++)o=u[t],f=o._getVersion,f=f(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,f]:r.mutableSourceEagerHydrationData.push(o,f);return new Ac(r)},yr.render=function(t,r,o){if(!Sc(r))throw Error(n(200));return Cc(null,t,r,!1,o)},yr.unmountComponentAtNode=function(t){if(!Sc(t))throw Error(n(40));return t._reactRootContainer?(fa(function(){Cc(null,null,t,!1,function(){t._reactRootContainer=null,t[Jr]=null})}),!0):!1},yr.unstable_batchedUpdates=of,yr.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Sc(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Cc(t,r,o,!1,u)},yr.version="18.3.1-next-f1338f8080-20240426",yr}var _m;function Yv(){if(_m)return yf.exports;_m=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),yf.exports=Gv(),yf.exports}var ym;function Xv(){if(ym)return kc;ym=1;var i=Yv();return kc.createRoot=i.createRoot,kc.hydrateRoot=i.hydrateRoot,kc}var Jv=Xv();/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(i,e){typeof lv=="object"&&typeof rd<"u"?rd.exports=e():typeof define=="function"&&define.amd?define(e):(i=typeof globalThis<"u"?globalThis:i||self).bootstrap=e()})(void 0,function(){const i=new Map,e={set(w,h,g){i.has(w)||i.set(w,new Map);const I=i.get(w);I.has(h)||I.size===0?I.set(h,g):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(I.keys())[0]}.`)},get:(w,h)=>i.has(w)&&i.get(w).get(h)||null,remove(w,h){if(!i.has(w))return;const g=i.get(w);g.delete(h),g.size===0&&i.delete(w)}},n="transitionend",s=w=>(w&&window.CSS&&window.CSS.escape&&(w=w.replace(/#([^\s"#']+)/g,(h,g)=>`#${CSS.escape(g)}`)),w),a=w=>{w.dispatchEvent(new Event(n))},c=w=>!(!w||typeof w!="object")&&(w.jquery!==void 0&&(w=w[0]),w.nodeType!==void 0),d=w=>c(w)?w.jquery?w[0]:w:typeof w=="string"&&w.length>0?document.querySelector(s(w)):null,_=w=>{if(!c(w)||w.getClientRects().length===0)return!1;const h=getComputedStyle(w).getPropertyValue("visibility")==="visible",g=w.closest("details:not([open])");if(!g)return h;if(g!==w){const I=w.closest("summary");if(I&&I.parentNode!==g||I===null)return!1}return h},v=w=>!w||w.nodeType!==Node.ELEMENT_NODE||!!w.classList.contains("disabled")||(w.disabled!==void 0?w.disabled:w.hasAttribute("disabled")&&w.getAttribute("disabled")!=="false"),T=w=>{if(!document.documentElement.attachShadow)return null;if(typeof w.getRootNode=="function"){const h=w.getRootNode();return h instanceof ShadowRoot?h:null}return w instanceof ShadowRoot?w:w.parentNode?T(w.parentNode):null},S=()=>{},b=w=>{w.offsetHeight},q=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Q=[],ie=()=>document.documentElement.dir==="rtl",re=w=>{var h;h=()=>{const g=q();if(g){const I=w.NAME,V=g.fn[I];g.fn[I]=w.jQueryInterface,g.fn[I].Constructor=w,g.fn[I].noConflict=()=>(g.fn[I]=V,w.jQueryInterface)}},document.readyState==="loading"?(Q.length||document.addEventListener("DOMContentLoaded",()=>{for(const g of Q)g()}),Q.push(h)):h()},X=(w,h=[],g=w)=>typeof w=="function"?w(...h):g,Oe=(w,h,g=!0)=>{if(!g)return void X(w);const I=(H=>{if(!H)return 0;let{transitionDuration:Y,transitionDelay:se}=window.getComputedStyle(H);const ue=Number.parseFloat(Y),he=Number.parseFloat(se);return ue||he?(Y=Y.split(",")[0],se=se.split(",")[0],1e3*(Number.parseFloat(Y)+Number.parseFloat(se))):0})(h)+5;let V=!1;const O=({target:H})=>{H===h&&(V=!0,h.removeEventListener(n,O),X(w))};h.addEventListener(n,O),setTimeout(()=>{V||a(h)},I)},Le=(w,h,g,I)=>{const V=w.length;let O=w.indexOf(h);return O===-1?!g&&I?w[V-1]:w[0]:(O+=g?1:-1,I&&(O=(O+V)%V),w[Math.max(0,Math.min(O,V-1))])},je=/[^.]*(?=\..*)\.|.*/,We=/\..*/,bt=/::\d+$/,Ke={};let L=1;const R={mouseenter:"mouseover",mouseleave:"mouseout"},P=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function D(w,h){return h&&`${h}::${L++}`||w.uidEvent||L++}function M(w){const h=D(w);return w.uidEvent=h,Ke[h]=Ke[h]||{},Ke[h]}function U(w,h,g=null){return Object.values(w).find(I=>I.callable===h&&I.delegationSelector===g)}function k(w,h,g){const I=typeof h=="string",V=I?g:h||g;let O=ot(w);return P.has(O)||(O=w),[I,V,O]}function xt(w,h,g,I,V){if(typeof h!="string"||!w)return;let[O,H,Y]=k(h,g,I);h in R&&(H=(Ae=>function(Te){if(!Te.relatedTarget||Te.relatedTarget!==Te.delegateTarget&&!Te.delegateTarget.contains(Te.relatedTarget))return Ae.call(this,Te)})(H));const se=M(w),ue=se[Y]||(se[Y]={}),he=U(ue,H,O?g:null);if(he)return void(he.oneOff=he.oneOff&&V);const ce=D(H,h.replace(je,"")),Ne=O?function(Re,Ae,Te){return function pe($e){const _t=Re.querySelectorAll(Ae);for(let{target:ze}=$e;ze&&ze!==this;ze=ze.parentNode)for(const Je of _t)if(Je===ze)return Se($e,{delegateTarget:ze}),pe.oneOff&&F.off(Re,$e.type,Ae,Te),Te.apply(ze,[$e])}}(w,g,H):function(Re,Ae){return function Te(pe){return Se(pe,{delegateTarget:Re}),Te.oneOff&&F.off(Re,pe.type,Ae),Ae.apply(Re,[pe])}}(w,H);Ne.delegationSelector=O?g:null,Ne.callable=H,Ne.oneOff=V,Ne.uidEvent=ce,ue[ce]=Ne,w.addEventListener(Y,Ne,O)}function Ht(w,h,g,I,V){const O=U(h[g],I,V);O&&(w.removeEventListener(g,O,!!V),delete h[g][O.uidEvent])}function un(w,h,g,I){const V=h[g]||{};for(const[O,H]of Object.entries(V))O.includes(I)&&Ht(w,h,g,H.callable,H.delegationSelector)}function ot(w){return w=w.replace(We,""),R[w]||w}const F={on(w,h,g,I){xt(w,h,g,I,!1)},one(w,h,g,I){xt(w,h,g,I,!0)},off(w,h,g,I){if(typeof h!="string"||!w)return;const[V,O,H]=k(h,g,I),Y=H!==h,se=M(w),ue=se[H]||{},he=h.startsWith(".");if(O===void 0){if(he)for(const ce of Object.keys(se))un(w,se,ce,h.slice(1));for(const[ce,Ne]of Object.entries(ue)){const Re=ce.replace(bt,"");Y&&!h.includes(Re)||Ht(w,se,H,Ne.callable,Ne.delegationSelector)}}else{if(!Object.keys(ue).length)return;Ht(w,se,H,O,V?g:null)}},trigger(w,h,g){if(typeof h!="string"||!w)return null;const I=q();let V=null,O=!0,H=!0,Y=!1;h!==ot(h)&&I&&(V=I.Event(h,g),I(w).trigger(V),O=!V.isPropagationStopped(),H=!V.isImmediatePropagationStopped(),Y=V.isDefaultPrevented());const se=Se(new Event(h,{bubbles:O,cancelable:!0}),g);return Y&&se.preventDefault(),H&&w.dispatchEvent(se),se.defaultPrevented&&V&&V.preventDefault(),se}};function Se(w,h={}){for(const[g,I]of Object.entries(h))try{w[g]=I}catch{Object.defineProperty(w,g,{configurable:!0,get:()=>I})}return w}function fe(w){if(w==="true")return!0;if(w==="false")return!1;if(w===Number(w).toString())return Number(w);if(w===""||w==="null")return null;if(typeof w!="string")return w;try{return JSON.parse(decodeURIComponent(w))}catch{return w}}function j(w){return w.replace(/[A-Z]/g,h=>`-${h.toLowerCase()}`)}const G={setDataAttribute(w,h,g){w.setAttribute(`data-bs-${j(h)}`,g)},removeDataAttribute(w,h){w.removeAttribute(`data-bs-${j(h)}`)},getDataAttributes(w){if(!w)return{};const h={},g=Object.keys(w.dataset).filter(I=>I.startsWith("bs")&&!I.startsWith("bsConfig"));for(const I of g){let V=I.replace(/^bs/,"");V=V.charAt(0).toLowerCase()+V.slice(1,V.length),h[V]=fe(w.dataset[I])}return h},getDataAttribute:(w,h)=>fe(w.getAttribute(`data-bs-${j(h)}`))};class we{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(h){return h=this._mergeConfigObj(h),h=this._configAfterMerge(h),this._typeCheckConfig(h),h}_configAfterMerge(h){return h}_mergeConfigObj(h,g){const I=c(g)?G.getDataAttribute(g,"config"):{};return{...this.constructor.Default,...typeof I=="object"?I:{},...c(g)?G.getDataAttributes(g):{},...typeof h=="object"?h:{}}}_typeCheckConfig(h,g=this.constructor.DefaultType){for(const[V,O]of Object.entries(g)){const H=h[V],Y=c(H)?"element":(I=H)==null?`${I}`:Object.prototype.toString.call(I).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(O).test(Y))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${V}" provided type "${Y}" but expected type "${O}".`)}var I}}class xe extends we{constructor(h,g){super(),(h=d(h))&&(this._element=h,this._config=this._getConfig(g),e.set(this._element,this.constructor.DATA_KEY,this))}dispose(){e.remove(this._element,this.constructor.DATA_KEY),F.off(this._element,this.constructor.EVENT_KEY);for(const h of Object.getOwnPropertyNames(this))this[h]=null}_queueCallback(h,g,I=!0){Oe(h,g,I)}_getConfig(h){return h=this._mergeConfigObj(h,this._element),h=this._configAfterMerge(h),this._typeCheckConfig(h),h}static getInstance(h){return e.get(d(h),this.DATA_KEY)}static getOrCreateInstance(h,g={}){return this.getInstance(h)||new this(h,typeof g=="object"?g:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(h){return`${h}${this.EVENT_KEY}`}}const Ue=w=>{let h=w.getAttribute("data-bs-target");if(!h||h==="#"){let g=w.getAttribute("href");if(!g||!g.includes("#")&&!g.startsWith("."))return null;g.includes("#")&&!g.startsWith("#")&&(g=`#${g.split("#")[1]}`),h=g&&g!=="#"?g.trim():null}return h?h.split(",").map(g=>s(g)).join(","):null},ae={find:(w,h=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(h,w)),findOne:(w,h=document.documentElement)=>Element.prototype.querySelector.call(h,w),children:(w,h)=>[].concat(...w.children).filter(g=>g.matches(h)),parents(w,h){const g=[];let I=w.parentNode.closest(h);for(;I;)g.push(I),I=I.parentNode.closest(h);return g},prev(w,h){let g=w.previousElementSibling;for(;g;){if(g.matches(h))return[g];g=g.previousElementSibling}return[]},next(w,h){let g=w.nextElementSibling;for(;g;){if(g.matches(h))return[g];g=g.nextElementSibling}return[]},focusableChildren(w){const h=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(g=>`${g}:not([tabindex^="-"])`).join(",");return this.find(h,w).filter(g=>!v(g)&&_(g))},getSelectorFromElement(w){const h=Ue(w);return h&&ae.findOne(h)?h:null},getElementFromSelector(w){const h=Ue(w);return h?ae.findOne(h):null},getMultipleElementsFromSelector(w){const h=Ue(w);return h?ae.find(h):[]}},Ge=(w,h="hide")=>{const g=`click.dismiss${w.EVENT_KEY}`,I=w.NAME;F.on(document,g,`[data-bs-dismiss="${I}"]`,function(V){if(["A","AREA"].includes(this.tagName)&&V.preventDefault(),v(this))return;const O=ae.getElementFromSelector(this)||this.closest(`.${I}`);w.getOrCreateInstance(O)[h]()})},et=".bs.alert",vt=`close${et}`,Wt=`closed${et}`;class Vn extends xe{static get NAME(){return"alert"}close(){if(F.trigger(this._element,vt).defaultPrevented)return;this._element.classList.remove("show");const h=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,h)}_destroyElement(){this._element.remove(),F.trigger(this._element,Wt),this.dispose()}static jQueryInterface(h){return this.each(function(){const g=Vn.getOrCreateInstance(this);if(typeof h=="string"){if(g[h]===void 0||h.startsWith("_")||h==="constructor")throw new TypeError(`No method named "${h}"`);g[h](this)}})}}Ge(Vn,"close"),re(Vn);const rs='[data-bs-toggle="button"]';class Zn extends xe{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(h){return this.each(function(){const g=Zn.getOrCreateInstance(this);h==="toggle"&&g[h]()})}}F.on(document,"click.bs.button.data-api",rs,w=>{w.preventDefault();const h=w.target.closest(rs);Zn.getOrCreateInstance(h).toggle()}),re(Zn);const er=".bs.swipe",Vs=`touchstart${er}`,No=`touchmove${er}`,Vo=`touchend${er}`,Pa=`pointerdown${er}`,Os=`pointerup${er}`,si={endCallback:null,leftCallback:null,rightCallback:null},oi={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Vi extends we{constructor(h,g){super(),this._element=h,h&&Vi.isSupported()&&(this._config=this._getConfig(g),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return si}static get DefaultType(){return oi}static get NAME(){return"swipe"}dispose(){F.off(this._element,er)}_start(h){this._supportPointerEvents?this._eventIsPointerPenTouch(h)&&(this._deltaX=h.clientX):this._deltaX=h.touches[0].clientX}_end(h){this._eventIsPointerPenTouch(h)&&(this._deltaX=h.clientX-this._deltaX),this._handleSwipe(),X(this._config.endCallback)}_move(h){this._deltaX=h.touches&&h.touches.length>1?0:h.touches[0].clientX-this._deltaX}_handleSwipe(){const h=Math.abs(this._deltaX);if(h<=40)return;const g=h/this._deltaX;this._deltaX=0,g&&X(g>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(F.on(this._element,Pa,h=>this._start(h)),F.on(this._element,Os,h=>this._end(h)),this._element.classList.add("pointer-event")):(F.on(this._element,Vs,h=>this._start(h)),F.on(this._element,No,h=>this._move(h)),F.on(this._element,Vo,h=>this._end(h)))}_eventIsPointerPenTouch(h){return this._supportPointerEvents&&(h.pointerType==="pen"||h.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const On=".bs.carousel",is=".data-api",ai="next",Tt="prev",It="left",tr="right",Oo=`slide${On}`,Mr=`slid${On}`,ss=`keydown${On}`,os=`mouseenter${On}`,Lo=`mouseleave${On}`,Mo=`dragstart${On}`,Fo=`load${On}${is}`,jo=`click${On}${is}`,Ls="carousel",Fr="active",as=".active",ls=".carousel-item",nr=as+ls,jr={ArrowLeft:tr,ArrowRight:It},Ms={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ur={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class zr extends xe{constructor(h,g){super(h,g),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ae.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Ls&&this.cycle()}static get Default(){return Ms}static get DefaultType(){return Ur}static get NAME(){return"carousel"}next(){this._slide(ai)}nextWhenVisible(){!document.hidden&&_(this._element)&&this.next()}prev(){this._slide(Tt)}pause(){this._isSliding&&a(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?F.one(this._element,Mr,()=>this.cycle()):this.cycle())}to(h){const g=this._getItems();if(h>g.length-1||h<0)return;if(this._isSliding)return void F.one(this._element,Mr,()=>this.to(h));const I=this._getItemIndex(this._getActive());if(I===h)return;const V=h>I?ai:Tt;this._slide(V,g[h])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(h){return h.defaultInterval=h.interval,h}_addEventListeners(){this._config.keyboard&&F.on(this._element,ss,h=>this._keydown(h)),this._config.pause==="hover"&&(F.on(this._element,os,()=>this.pause()),F.on(this._element,Lo,()=>this._maybeEnableCycle())),this._config.touch&&Vi.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const g of ae.find(".carousel-item img",this._element))F.on(g,Mo,I=>I.preventDefault());const h={leftCallback:()=>this._slide(this._directionToOrder(It)),rightCallback:()=>this._slide(this._directionToOrder(tr)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Vi(this._element,h)}_keydown(h){if(/input|textarea/i.test(h.target.tagName))return;const g=jr[h.key];g&&(h.preventDefault(),this._slide(this._directionToOrder(g)))}_getItemIndex(h){return this._getItems().indexOf(h)}_setActiveIndicatorElement(h){if(!this._indicatorsElement)return;const g=ae.findOne(as,this._indicatorsElement);g.classList.remove(Fr),g.removeAttribute("aria-current");const I=ae.findOne(`[data-bs-slide-to="${h}"]`,this._indicatorsElement);I&&(I.classList.add(Fr),I.setAttribute("aria-current","true"))}_updateInterval(){const h=this._activeElement||this._getActive();if(!h)return;const g=Number.parseInt(h.getAttribute("data-bs-interval"),10);this._config.interval=g||this._config.defaultInterval}_slide(h,g=null){if(this._isSliding)return;const I=this._getActive(),V=h===ai,O=g||Le(this._getItems(),I,V,this._config.wrap);if(O===I)return;const H=this._getItemIndex(O),Y=ce=>F.trigger(this._element,ce,{relatedTarget:O,direction:this._orderToDirection(h),from:this._getItemIndex(I),to:H});if(Y(Oo).defaultPrevented||!I||!O)return;const se=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(H),this._activeElement=O;const ue=V?"carousel-item-start":"carousel-item-end",he=V?"carousel-item-next":"carousel-item-prev";O.classList.add(he),b(O),I.classList.add(ue),O.classList.add(ue),this._queueCallback(()=>{O.classList.remove(ue,he),O.classList.add(Fr),I.classList.remove(Fr,he,ue),this._isSliding=!1,Y(Mr)},I,this._isAnimated()),se&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ae.findOne(nr,this._element)}_getItems(){return ae.find(ls,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(h){return ie()?h===It?Tt:ai:h===It?ai:Tt}_orderToDirection(h){return ie()?h===Tt?It:tr:h===Tt?tr:It}static jQueryInterface(h){return this.each(function(){const g=zr.getOrCreateInstance(this,h);if(typeof h!="number"){if(typeof h=="string"){if(g[h]===void 0||h.startsWith("_")||h==="constructor")throw new TypeError(`No method named "${h}"`);g[h]()}}else g.to(h)})}}F.on(document,jo,"[data-bs-slide], [data-bs-slide-to]",function(w){const h=ae.getElementFromSelector(this);if(!h||!h.classList.contains(Ls))return;w.preventDefault();const g=zr.getOrCreateInstance(h),I=this.getAttribute("data-bs-slide-to");return I?(g.to(I),void g._maybeEnableCycle()):G.getDataAttribute(this,"slide")==="next"?(g.next(),void g._maybeEnableCycle()):(g.prev(),void g._maybeEnableCycle())}),F.on(window,Fo,()=>{const w=ae.find('[data-bs-ride="carousel"]');for(const h of w)zr.getOrCreateInstance(h)}),re(zr);const Er=".bs.collapse",Uo=`show${Er}`,li=`shown${Er}`,zo=`hide${Er}`,Dt=`hidden${Er}`,Fs=`click${Er}.data-api`,Ln="show",rr="collapse",$r="collapsing",js=`:scope .${rr} .${rr}`,Mn='[data-bs-toggle="collapse"]',$o={parent:null,toggle:!0},vl={parent:"(null|element)",toggle:"boolean"};class Tr extends xe{constructor(h,g){super(h,g),this._isTransitioning=!1,this._triggerArray=[];const I=ae.find(Mn);for(const V of I){const O=ae.getSelectorFromElement(V),H=ae.find(O).filter(Y=>Y===this._element);O!==null&&H.length&&this._triggerArray.push(V)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return $o}static get DefaultType(){return vl}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let h=[];if(this._config.parent&&(h=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(V=>V!==this._element).map(V=>Tr.getOrCreateInstance(V,{toggle:!1}))),h.length&&h[0]._isTransitioning||F.trigger(this._element,Uo).defaultPrevented)return;for(const V of h)V.hide();const g=this._getDimension();this._element.classList.remove(rr),this._element.classList.add($r),this._element.style[g]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const I=`scroll${g[0].toUpperCase()+g.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove($r),this._element.classList.add(rr,Ln),this._element.style[g]="",F.trigger(this._element,li)},this._element,!0),this._element.style[g]=`${this._element[I]}px`}hide(){if(this._isTransitioning||!this._isShown()||F.trigger(this._element,zo).defaultPrevented)return;const h=this._getDimension();this._element.style[h]=`${this._element.getBoundingClientRect()[h]}px`,b(this._element),this._element.classList.add($r),this._element.classList.remove(rr,Ln);for(const g of this._triggerArray){const I=ae.getElementFromSelector(g);I&&!this._isShown(I)&&this._addAriaAndCollapsedClass([g],!1)}this._isTransitioning=!0,this._element.style[h]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove($r),this._element.classList.add(rr),F.trigger(this._element,Dt)},this._element,!0)}_isShown(h=this._element){return h.classList.contains(Ln)}_configAfterMerge(h){return h.toggle=!!h.toggle,h.parent=d(h.parent),h}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const h=this._getFirstLevelChildren(Mn);for(const g of h){const I=ae.getElementFromSelector(g);I&&this._addAriaAndCollapsedClass([g],this._isShown(I))}}_getFirstLevelChildren(h){const g=ae.find(js,this._config.parent);return ae.find(h,this._config.parent).filter(I=>!g.includes(I))}_addAriaAndCollapsedClass(h,g){if(h.length)for(const I of h)I.classList.toggle("collapsed",!g),I.setAttribute("aria-expanded",g)}static jQueryInterface(h){const g={};return typeof h=="string"&&/show|hide/.test(h)&&(g.toggle=!1),this.each(function(){const I=Tr.getOrCreateInstance(this,g);if(typeof h=="string"){if(I[h]===void 0)throw new TypeError(`No method named "${h}"`);I[h]()}})}}F.on(document,Fs,Mn,function(w){(w.target.tagName==="A"||w.delegateTarget&&w.delegateTarget.tagName==="A")&&w.preventDefault();for(const h of ae.getMultipleElementsFromSelector(this))Tr.getOrCreateInstance(h,{toggle:!1}).toggle()}),re(Tr);var Kt="top",At="bottom",jt="right",Et="left",us="auto",Br=[Kt,At,jt,Et],ir="start",Ir="end",Us="clippingParents",zs="viewport",Oi="popper",mt="reference",$s=Br.reduce(function(w,h){return w.concat([h+"-"+ir,h+"-"+Ir])},[]),ui=[].concat(Br,[us]).reduce(function(w,h){return w.concat([h,h+"-"+ir,h+"-"+Ir])},[]),ci="beforeRead",Fn="read",Bs="afterRead",Bo="beforeMain",Li="main",Tn="afterMain",qo="beforeWrite",cn="write",qs="afterWrite",Ho=[ci,Fn,Bs,Bo,Li,Tn,qo,cn,qs];function jn(w){return w?(w.nodeName||"").toLowerCase():null}function Qt(w){if(w==null)return window;if(w.toString()!=="[object Window]"){var h=w.ownerDocument;return h&&h.defaultView||window}return w}function sr(w){return w instanceof Qt(w).Element||w instanceof Element}function Ut(w){return w instanceof Qt(w).HTMLElement||w instanceof HTMLElement}function hi(w){return typeof ShadowRoot<"u"&&(w instanceof Qt(w).ShadowRoot||w instanceof ShadowRoot)}const Wo={name:"applyStyles",enabled:!0,phase:"write",fn:function(w){var h=w.state;Object.keys(h.elements).forEach(function(g){var I=h.styles[g]||{},V=h.attributes[g]||{},O=h.elements[g];Ut(O)&&jn(O)&&(Object.assign(O.style,I),Object.keys(V).forEach(function(H){var Y=V[H];Y===!1?O.removeAttribute(H):O.setAttribute(H,Y===!0?"":Y)}))})},effect:function(w){var h=w.state,g={popper:{position:h.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(h.elements.popper.style,g.popper),h.styles=g,h.elements.arrow&&Object.assign(h.elements.arrow.style,g.arrow),function(){Object.keys(h.elements).forEach(function(I){var V=h.elements[I],O=h.attributes[I]||{},H=Object.keys(h.styles.hasOwnProperty(I)?h.styles[I]:g[I]).reduce(function(Y,se){return Y[se]="",Y},{});Ut(V)&&jn(V)&&(Object.assign(V.style,H),Object.keys(O).forEach(function(Y){V.removeAttribute(Y)}))})}},requires:["computeStyles"]};function Gt(w){return w.split("-")[0]}var zt=Math.max,qr=Math.min,Un=Math.round;function Hr(){var w=navigator.userAgentData;return w!=null&&w.brands&&Array.isArray(w.brands)?w.brands.map(function(h){return h.brand+"/"+h.version}).join(" "):navigator.userAgent}function ft(){return!/^((?!chrome|android).)*safari/i.test(Hr())}function zn(w,h,g){h===void 0&&(h=!1),g===void 0&&(g=!1);var I=w.getBoundingClientRect(),V=1,O=1;h&&Ut(w)&&(V=w.offsetWidth>0&&Un(I.width)/w.offsetWidth||1,O=w.offsetHeight>0&&Un(I.height)/w.offsetHeight||1);var H=(sr(w)?Qt(w):window).visualViewport,Y=!ft()&&g,se=(I.left+(Y&&H?H.offsetLeft:0))/V,ue=(I.top+(Y&&H?H.offsetTop:0))/O,he=I.width/V,ce=I.height/O;return{width:he,height:ce,top:ue,right:se+he,bottom:ue+ce,left:se,x:se,y:ue}}function Be(w){var h=zn(w),g=w.offsetWidth,I=w.offsetHeight;return Math.abs(h.width-g)<=1&&(g=h.width),Math.abs(h.height-I)<=1&&(I=h.height),{x:w.offsetLeft,y:w.offsetTop,width:g,height:I}}function fi(w,h){var g=h.getRootNode&&h.getRootNode();if(w.contains(h))return!0;if(g&&hi(g)){var I=h;do{if(I&&w.isSameNode(I))return!0;I=I.parentNode||I.host}while(I)}return!1}function or(w){return Qt(w).getComputedStyle(w)}function Hs(w){return["table","td","th"].indexOf(jn(w))>=0}function Ar(w){return((sr(w)?w.ownerDocument:w.document)||window.document).documentElement}function cs(w){return jn(w)==="html"?w:w.assignedSlot||w.parentNode||(hi(w)?w.host:null)||Ar(w)}function Ko(w){return Ut(w)&&or(w).position!=="fixed"?w.offsetParent:null}function di(w){for(var h=Qt(w),g=Ko(w);g&&Hs(g)&&or(g).position==="static";)g=Ko(g);return g&&(jn(g)==="html"||jn(g)==="body"&&or(g).position==="static")?h:g||function(I){var V=/firefox/i.test(Hr());if(/Trident/i.test(Hr())&&Ut(I)&&or(I).position==="fixed")return null;var O=cs(I);for(hi(O)&&(O=O.host);Ut(O)&&["html","body"].indexOf(jn(O))<0;){var H=or(O);if(H.transform!=="none"||H.perspective!=="none"||H.contain==="paint"||["transform","perspective"].indexOf(H.willChange)!==-1||V&&H.willChange==="filter"||V&&H.filter&&H.filter!=="none")return O;O=O.parentNode}return null}(w)||h}function ar(w){return["top","bottom"].indexOf(w)>=0?"x":"y"}function Nt(w,h,g){return zt(w,qr(h,g))}function lr(w){return Object.assign({},{top:0,right:0,bottom:0,left:0},w)}function ur(w,h){return h.reduce(function(g,I){return g[I]=w,g},{})}const pi={name:"arrow",enabled:!0,phase:"main",fn:function(w){var h,g=w.state,I=w.name,V=w.options,O=g.elements.arrow,H=g.modifiersData.popperOffsets,Y=Gt(g.placement),se=ar(Y),ue=[Et,jt].indexOf(Y)>=0?"height":"width";if(O&&H){var he=function(ct,Ye){return lr(typeof(ct=typeof ct=="function"?ct(Object.assign({},Ye.rects,{placement:Ye.placement})):ct)!="number"?ct:ur(ct,Br))}(V.padding,g),ce=Be(O),Ne=se==="y"?Kt:Et,Re=se==="y"?At:jt,Ae=g.rects.reference[ue]+g.rects.reference[se]-H[se]-g.rects.popper[ue],Te=H[se]-g.rects.reference[se],pe=di(O),$e=pe?se==="y"?pe.clientHeight||0:pe.clientWidth||0:0,_t=Ae/2-Te/2,ze=he[Ne],Je=$e-ce[ue]-he[Re],Me=$e/2-ce[ue]/2+_t,qe=Nt(ze,Me,Je),tt=se;g.modifiersData[I]=((h={})[tt]=qe,h.centerOffset=qe-Me,h)}},effect:function(w){var h=w.state,g=w.options.element,I=g===void 0?"[data-popper-arrow]":g;I!=null&&(typeof I!="string"||(I=h.elements.popper.querySelector(I)))&&fi(h.elements.popper,I)&&(h.elements.arrow=I)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function en(w){return w.split("-")[1]}var Wr={top:"auto",right:"auto",bottom:"auto",left:"auto"};function xa(w){var h,g=w.popper,I=w.popperRect,V=w.placement,O=w.variation,H=w.offsets,Y=w.position,se=w.gpuAcceleration,ue=w.adaptive,he=w.roundOffsets,ce=w.isFixed,Ne=H.x,Re=Ne===void 0?0:Ne,Ae=H.y,Te=Ae===void 0?0:Ae,pe=typeof he=="function"?he({x:Re,y:Te}):{x:Re,y:Te};Re=pe.x,Te=pe.y;var $e=H.hasOwnProperty("x"),_t=H.hasOwnProperty("y"),ze=Et,Je=Kt,Me=window;if(ue){var qe=di(g),tt="clientHeight",ct="clientWidth";qe===Qt(g)&&or(qe=Ar(g)).position!=="static"&&Y==="absolute"&&(tt="scrollHeight",ct="scrollWidth"),(V===Kt||(V===Et||V===jt)&&O===Ir)&&(Je=At,Te-=(ce&&qe===Me&&Me.visualViewport?Me.visualViewport.height:qe[tt])-I.height,Te*=se?1:-1),V!==Et&&(V!==Kt&&V!==At||O!==Ir)||(ze=jt,Re-=(ce&&qe===Me&&Me.visualViewport?Me.visualViewport.width:qe[ct])-I.width,Re*=se?1:-1)}var Ye,Ct=Object.assign({position:Y},ue&&Wr),Wn=he===!0?function(gn,Yt){var Kn=gn.x,Qn=gn.y,yt=Yt.devicePixelRatio||1;return{x:Un(Kn*yt)/yt||0,y:Un(Qn*yt)/yt||0}}({x:Re,y:Te},Qt(g)):{x:Re,y:Te};return Re=Wn.x,Te=Wn.y,se?Object.assign({},Ct,((Ye={})[Je]=_t?"0":"",Ye[ze]=$e?"0":"",Ye.transform=(Me.devicePixelRatio||1)<=1?"translate("+Re+"px, "+Te+"px)":"translate3d("+Re+"px, "+Te+"px, 0)",Ye)):Object.assign({},Ct,((h={})[Je]=_t?Te+"px":"",h[ze]=$e?Re+"px":"",h.transform="",h))}const Ws={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(w){var h=w.state,g=w.options,I=g.gpuAcceleration,V=I===void 0||I,O=g.adaptive,H=O===void 0||O,Y=g.roundOffsets,se=Y===void 0||Y,ue={placement:Gt(h.placement),variation:en(h.placement),popper:h.elements.popper,popperRect:h.rects.popper,gpuAcceleration:V,isFixed:h.options.strategy==="fixed"};h.modifiersData.popperOffsets!=null&&(h.styles.popper=Object.assign({},h.styles.popper,xa(Object.assign({},ue,{offsets:h.modifiersData.popperOffsets,position:h.options.strategy,adaptive:H,roundOffsets:se})))),h.modifiersData.arrow!=null&&(h.styles.arrow=Object.assign({},h.styles.arrow,xa(Object.assign({},ue,{offsets:h.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:se})))),h.attributes.popper=Object.assign({},h.attributes.popper,{"data-popper-placement":h.placement})},data:{}};var tn={passive:!0};const Qo={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(w){var h=w.state,g=w.instance,I=w.options,V=I.scroll,O=V===void 0||V,H=I.resize,Y=H===void 0||H,se=Qt(h.elements.popper),ue=[].concat(h.scrollParents.reference,h.scrollParents.popper);return O&&ue.forEach(function(he){he.addEventListener("scroll",g.update,tn)}),Y&&se.addEventListener("resize",g.update,tn),function(){O&&ue.forEach(function(he){he.removeEventListener("scroll",g.update,tn)}),Y&&se.removeEventListener("resize",g.update,tn)}},data:{}};var ba={left:"right",right:"left",bottom:"top",top:"bottom"};function cr(w){return w.replace(/left|right|bottom|top/g,function(h){return ba[h]})}var hs={start:"end",end:"start"};function Go(w){return w.replace(/start|end/g,function(h){return hs[h]})}function $n(w){var h=Qt(w);return{scrollLeft:h.pageXOffset,scrollTop:h.pageYOffset}}function Bn(w){return zn(Ar(w)).left+$n(w).scrollLeft}function Sr(w){var h=or(w),g=h.overflow,I=h.overflowX,V=h.overflowY;return/auto|scroll|overlay|hidden/.test(g+V+I)}function mi(w){return["html","body","#document"].indexOf(jn(w))>=0?w.ownerDocument.body:Ut(w)&&Sr(w)?w:mi(cs(w))}function dt(w,h){var g;h===void 0&&(h=[]);var I=mi(w),V=I===((g=w.ownerDocument)==null?void 0:g.body),O=Qt(I),H=V?[O].concat(O.visualViewport||[],Sr(I)?I:[]):I,Y=h.concat(H);return V?Y:Y.concat(dt(cs(H)))}function Yo(w){return Object.assign({},w,{left:w.x,top:w.y,right:w.x+w.width,bottom:w.y+w.height})}function Ks(w,h,g){return h===zs?Yo(function(I,V){var O=Qt(I),H=Ar(I),Y=O.visualViewport,se=H.clientWidth,ue=H.clientHeight,he=0,ce=0;if(Y){se=Y.width,ue=Y.height;var Ne=ft();(Ne||!Ne&&V==="fixed")&&(he=Y.offsetLeft,ce=Y.offsetTop)}return{width:se,height:ue,x:he+Bn(I),y:ce}}(w,g)):sr(h)?function(I,V){var O=zn(I,!1,V==="fixed");return O.top=O.top+I.clientTop,O.left=O.left+I.clientLeft,O.bottom=O.top+I.clientHeight,O.right=O.left+I.clientWidth,O.width=I.clientWidth,O.height=I.clientHeight,O.x=O.left,O.y=O.top,O}(h,g):Yo(function(I){var V,O=Ar(I),H=$n(I),Y=(V=I.ownerDocument)==null?void 0:V.body,se=zt(O.scrollWidth,O.clientWidth,Y?Y.scrollWidth:0,Y?Y.clientWidth:0),ue=zt(O.scrollHeight,O.clientHeight,Y?Y.scrollHeight:0,Y?Y.clientHeight:0),he=-H.scrollLeft+Bn(I),ce=-H.scrollTop;return or(Y||O).direction==="rtl"&&(he+=zt(O.clientWidth,Y?Y.clientWidth:0)-se),{width:se,height:ue,x:he,y:ce}}(Ar(w)))}function Mi(w){var h,g=w.reference,I=w.element,V=w.placement,O=V?Gt(V):null,H=V?en(V):null,Y=g.x+g.width/2-I.width/2,se=g.y+g.height/2-I.height/2;switch(O){case Kt:h={x:Y,y:g.y-I.height};break;case At:h={x:Y,y:g.y+g.height};break;case jt:h={x:g.x+g.width,y:se};break;case Et:h={x:g.x-I.width,y:se};break;default:h={x:g.x,y:g.y}}var ue=O?ar(O):null;if(ue!=null){var he=ue==="y"?"height":"width";switch(H){case ir:h[ue]=h[ue]-(g[he]/2-I[he]/2);break;case Ir:h[ue]=h[ue]+(g[he]/2-I[he]/2)}}return h}function Cr(w,h){h===void 0&&(h={});var g=h,I=g.placement,V=I===void 0?w.placement:I,O=g.strategy,H=O===void 0?w.strategy:O,Y=g.boundary,se=Y===void 0?Us:Y,ue=g.rootBoundary,he=ue===void 0?zs:ue,ce=g.elementContext,Ne=ce===void 0?Oi:ce,Re=g.altBoundary,Ae=Re!==void 0&&Re,Te=g.padding,pe=Te===void 0?0:Te,$e=lr(typeof pe!="number"?pe:ur(pe,Br)),_t=Ne===Oi?mt:Oi,ze=w.rects.popper,Je=w.elements[Ae?_t:Ne],Me=function(Yt,Kn,Qn,yt){var Dr=Kn==="clippingParents"?function(ht){var rn=dt(cs(ht)),Rn=["absolute","fixed"].indexOf(or(ht).position)>=0&&Ut(ht)?di(ht):ht;return sr(Rn)?rn.filter(function(Zr){return sr(Zr)&&fi(Zr,Rn)&&jn(Zr)!=="body"}):[]}(Yt):[].concat(Kn),Gn=[].concat(Dr,[Qn]),Ii=Gn[0],Rt=Gn.reduce(function(ht,rn){var Rn=Ks(Yt,rn,yt);return ht.top=zt(Rn.top,ht.top),ht.right=qr(Rn.right,ht.right),ht.bottom=qr(Rn.bottom,ht.bottom),ht.left=zt(Rn.left,ht.left),ht},Ks(Yt,Ii,yt));return Rt.width=Rt.right-Rt.left,Rt.height=Rt.bottom-Rt.top,Rt.x=Rt.left,Rt.y=Rt.top,Rt}(sr(Je)?Je:Je.contextElement||Ar(w.elements.popper),se,he,H),qe=zn(w.elements.reference),tt=Mi({reference:qe,element:ze,placement:V}),ct=Yo(Object.assign({},ze,tt)),Ye=Ne===Oi?ct:qe,Ct={top:Me.top-Ye.top+$e.top,bottom:Ye.bottom-Me.bottom+$e.bottom,left:Me.left-Ye.left+$e.left,right:Ye.right-Me.right+$e.right},Wn=w.modifiersData.offset;if(Ne===Oi&&Wn){var gn=Wn[V];Object.keys(Ct).forEach(function(Yt){var Kn=[jt,At].indexOf(Yt)>=0?1:-1,Qn=[Kt,At].indexOf(Yt)>=0?"y":"x";Ct[Yt]+=gn[Qn]*Kn})}return Ct}function Xo(w,h){h===void 0&&(h={});var g=h,I=g.placement,V=g.boundary,O=g.rootBoundary,H=g.padding,Y=g.flipVariations,se=g.allowedAutoPlacements,ue=se===void 0?ui:se,he=en(I),ce=he?Y?$s:$s.filter(function(Ae){return en(Ae)===he}):Br,Ne=ce.filter(function(Ae){return ue.indexOf(Ae)>=0});Ne.length===0&&(Ne=ce);var Re=Ne.reduce(function(Ae,Te){return Ae[Te]=Cr(w,{placement:Te,boundary:V,rootBoundary:O,padding:H})[Gt(Te)],Ae},{});return Object.keys(Re).sort(function(Ae,Te){return Re[Ae]-Re[Te]})}const In={name:"flip",enabled:!0,phase:"main",fn:function(w){var h=w.state,g=w.options,I=w.name;if(!h.modifiersData[I]._skip){for(var V=g.mainAxis,O=V===void 0||V,H=g.altAxis,Y=H===void 0||H,se=g.fallbackPlacements,ue=g.padding,he=g.boundary,ce=g.rootBoundary,Ne=g.altBoundary,Re=g.flipVariations,Ae=Re===void 0||Re,Te=g.allowedAutoPlacements,pe=h.options.placement,$e=Gt(pe),_t=se||($e!==pe&&Ae?function(ht){if(Gt(ht)===us)return[];var rn=cr(ht);return[Go(ht),rn,Go(rn)]}(pe):[cr(pe)]),ze=[pe].concat(_t).reduce(function(ht,rn){return ht.concat(Gt(rn)===us?Xo(h,{placement:rn,boundary:he,rootBoundary:ce,padding:ue,flipVariations:Ae,allowedAutoPlacements:Te}):rn)},[]),Je=h.rects.reference,Me=h.rects.popper,qe=new Map,tt=!0,ct=ze[0],Ye=0;Ye<ze.length;Ye++){var Ct=ze[Ye],Wn=Gt(Ct),gn=en(Ct)===ir,Yt=[Kt,At].indexOf(Wn)>=0,Kn=Yt?"width":"height",Qn=Cr(h,{placement:Ct,boundary:he,rootBoundary:ce,altBoundary:Ne,padding:ue}),yt=Yt?gn?jt:Et:gn?At:Kt;Je[Kn]>Me[Kn]&&(yt=cr(yt));var Dr=cr(yt),Gn=[];if(O&&Gn.push(Qn[Wn]<=0),Y&&Gn.push(Qn[yt]<=0,Qn[Dr]<=0),Gn.every(function(ht){return ht})){ct=Ct,tt=!1;break}qe.set(Ct,Gn)}if(tt)for(var Ii=function(ht){var rn=ze.find(function(Rn){var Zr=qe.get(Rn);if(Zr)return Zr.slice(0,ht).every(function(Ai){return Ai})});if(rn)return ct=rn,"break"},Rt=Ae?3:1;Rt>0&&Ii(Rt)!=="break";Rt--);h.placement!==ct&&(h.modifiersData[I]._skip=!0,h.placement=ct,h.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function fs(w,h,g){return g===void 0&&(g={x:0,y:0}),{top:w.top-h.height-g.y,right:w.right-h.width+g.x,bottom:w.bottom-h.height+g.y,left:w.left-h.width-g.x}}function mn(w){return[Kt,jt,At,Et].some(function(h){return w[h]>=0})}const Qs={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(w){var h=w.state,g=w.name,I=h.rects.reference,V=h.rects.popper,O=h.modifiersData.preventOverflow,H=Cr(h,{elementContext:"reference"}),Y=Cr(h,{altBoundary:!0}),se=fs(H,I),ue=fs(Y,V,O),he=mn(se),ce=mn(ue);h.modifiersData[g]={referenceClippingOffsets:se,popperEscapeOffsets:ue,isReferenceHidden:he,hasPopperEscaped:ce},h.attributes.popper=Object.assign({},h.attributes.popper,{"data-popper-reference-hidden":he,"data-popper-escaped":ce})}},ds={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(w){var h=w.state,g=w.options,I=w.name,V=g.offset,O=V===void 0?[0,0]:V,H=ui.reduce(function(he,ce){return he[ce]=function(Ne,Re,Ae){var Te=Gt(Ne),pe=[Et,Kt].indexOf(Te)>=0?-1:1,$e=typeof Ae=="function"?Ae(Object.assign({},Re,{placement:Ne})):Ae,_t=$e[0],ze=$e[1];return _t=_t||0,ze=(ze||0)*pe,[Et,jt].indexOf(Te)>=0?{x:ze,y:_t}:{x:_t,y:ze}}(ce,h.rects,O),he},{}),Y=H[h.placement],se=Y.x,ue=Y.y;h.modifiersData.popperOffsets!=null&&(h.modifiersData.popperOffsets.x+=se,h.modifiersData.popperOffsets.y+=ue),h.modifiersData[I]=H}},hr={name:"popperOffsets",enabled:!0,phase:"read",fn:function(w){var h=w.state,g=w.name;h.modifiersData[g]=Mi({reference:h.rects.reference,element:h.rects.popper,placement:h.placement})},data:{}},Gs={name:"preventOverflow",enabled:!0,phase:"main",fn:function(w){var h=w.state,g=w.options,I=w.name,V=g.mainAxis,O=V===void 0||V,H=g.altAxis,Y=H!==void 0&&H,se=g.boundary,ue=g.rootBoundary,he=g.altBoundary,ce=g.padding,Ne=g.tether,Re=Ne===void 0||Ne,Ae=g.tetherOffset,Te=Ae===void 0?0:Ae,pe=Cr(h,{boundary:se,rootBoundary:ue,padding:ce,altBoundary:he}),$e=Gt(h.placement),_t=en(h.placement),ze=!_t,Je=ar($e),Me=Je==="x"?"y":"x",qe=h.modifiersData.popperOffsets,tt=h.rects.reference,ct=h.rects.popper,Ye=typeof Te=="function"?Te(Object.assign({},h.rects,{placement:h.placement})):Te,Ct=typeof Ye=="number"?{mainAxis:Ye,altAxis:Ye}:Object.assign({mainAxis:0,altAxis:0},Ye),Wn=h.modifiersData.offset?h.modifiersData.offset[h.placement]:null,gn={x:0,y:0};if(qe){if(O){var Yt,Kn=Je==="y"?Kt:Et,Qn=Je==="y"?At:jt,yt=Je==="y"?"height":"width",Dr=qe[Je],Gn=Dr+pe[Kn],Ii=Dr-pe[Qn],Rt=Re?-ct[yt]/2:0,ht=_t===ir?tt[yt]:ct[yt],rn=_t===ir?-ct[yt]:-tt[yt],Rn=h.elements.arrow,Zr=Re&&Rn?Be(Rn):{width:0,height:0},Ai=h.modifiersData["arrow#persistent"]?h.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Yn=Ai[Kn],Wi=Ai[Qn],uo=Nt(0,tt[yt],Zr[yt]),ec=ze?tt[yt]/2-Rt-uo-Yn-Ct.mainAxis:ht-uo-Yn-Ct.mainAxis,Si=ze?-tt[yt]/2+Rt+uo+Wi+Ct.mainAxis:rn+uo+Wi+Ct.mainAxis,ei=h.elements.arrow&&di(h.elements.arrow),Bl=ei?Je==="y"?ei.clientTop||0:ei.clientLeft||0:0,ql=(Yt=Wn==null?void 0:Wn[Je])!=null?Yt:0,Ci=Dr+Si-ql,Ri=Nt(Re?qr(Gn,Dr+ec-ql-Bl):Gn,Dr,Re?zt(Ii,Ci):Ii);qe[Je]=Ri,gn[Je]=Ri-Dr}if(Y){var ua,tc=Je==="x"?Kt:Et,Qa=Je==="x"?At:jt,Ki=qe[Me],Qi=Me==="y"?"height":"width",Nr=Ki+pe[tc],co=Ki-pe[Qa],Is=[Kt,Et].indexOf($e)!==-1,Gi=(ua=Wn==null?void 0:Wn[Me])!=null?ua:0,Ga=Is?Nr:Ki-tt[Qi]-ct[Qi]-Gi+Ct.altAxis,As=Is?Ki+tt[Qi]+ct[Qi]-Gi-Ct.altAxis:co,Hl=Re&&Is?function(Wl,kt,ho){var Ya=Nt(Wl,kt,ho);return Ya>ho?ho:Ya}(Ga,Ki,As):Nt(Re?Ga:Nr,Ki,Re?As:co);qe[Me]=Hl,gn[Me]=Hl-Ki}h.modifiersData[I]=gn}},requiresIfExists:["offset"]};function nn(w,h,g){g===void 0&&(g=!1);var I,V,O=Ut(h),H=Ut(h)&&function(ce){var Ne=ce.getBoundingClientRect(),Re=Un(Ne.width)/ce.offsetWidth||1,Ae=Un(Ne.height)/ce.offsetHeight||1;return Re!==1||Ae!==1}(h),Y=Ar(h),se=zn(w,H,g),ue={scrollLeft:0,scrollTop:0},he={x:0,y:0};return(O||!O&&!g)&&((jn(h)!=="body"||Sr(Y))&&(ue=(I=h)!==Qt(I)&&Ut(I)?{scrollLeft:(V=I).scrollLeft,scrollTop:V.scrollTop}:$n(I)),Ut(h)?((he=zn(h,!0)).x+=h.clientLeft,he.y+=h.clientTop):Y&&(he.x=Bn(Y))),{x:se.left+ue.scrollLeft-he.x,y:se.top+ue.scrollTop-he.y,width:se.width,height:se.height}}function Rr(w){var h=new Map,g=new Set,I=[];function V(O){g.add(O.name),[].concat(O.requires||[],O.requiresIfExists||[]).forEach(function(H){if(!g.has(H)){var Y=h.get(H);Y&&V(Y)}}),I.push(O)}return w.forEach(function(O){h.set(O.name,O)}),w.forEach(function(O){g.has(O.name)||V(O)}),I}var ps={placement:"bottom",modifiers:[],strategy:"absolute"};function kr(){for(var w=arguments.length,h=new Array(w),g=0;g<w;g++)h[g]=arguments[g];return!h.some(function(I){return!(I&&typeof I.getBoundingClientRect=="function")})}function Ys(w){w===void 0&&(w={});var h=w,g=h.defaultModifiers,I=g===void 0?[]:g,V=h.defaultOptions,O=V===void 0?ps:V;return function(H,Y,se){se===void 0&&(se=O);var ue,he,ce={placement:"bottom",orderedModifiers:[],options:Object.assign({},ps,O),modifiersData:{},elements:{reference:H,popper:Y},attributes:{},styles:{}},Ne=[],Re=!1,Ae={state:ce,setOptions:function(pe){var $e=typeof pe=="function"?pe(ce.options):pe;Te(),ce.options=Object.assign({},O,ce.options,$e),ce.scrollParents={reference:sr(H)?dt(H):H.contextElement?dt(H.contextElement):[],popper:dt(Y)};var _t,ze,Je=function(Me){var qe=Rr(Me);return Ho.reduce(function(tt,ct){return tt.concat(qe.filter(function(Ye){return Ye.phase===ct}))},[])}((_t=[].concat(I,ce.options.modifiers),ze=_t.reduce(function(Me,qe){var tt=Me[qe.name];return Me[qe.name]=tt?Object.assign({},tt,qe,{options:Object.assign({},tt.options,qe.options),data:Object.assign({},tt.data,qe.data)}):qe,Me},{}),Object.keys(ze).map(function(Me){return ze[Me]})));return ce.orderedModifiers=Je.filter(function(Me){return Me.enabled}),ce.orderedModifiers.forEach(function(Me){var qe=Me.name,tt=Me.options,ct=tt===void 0?{}:tt,Ye=Me.effect;if(typeof Ye=="function"){var Ct=Ye({state:ce,name:qe,instance:Ae,options:ct});Ne.push(Ct||function(){})}}),Ae.update()},forceUpdate:function(){if(!Re){var pe=ce.elements,$e=pe.reference,_t=pe.popper;if(kr($e,_t)){ce.rects={reference:nn($e,di(_t),ce.options.strategy==="fixed"),popper:Be(_t)},ce.reset=!1,ce.placement=ce.options.placement,ce.orderedModifiers.forEach(function(Ye){return ce.modifiersData[Ye.name]=Object.assign({},Ye.data)});for(var ze=0;ze<ce.orderedModifiers.length;ze++)if(ce.reset!==!0){var Je=ce.orderedModifiers[ze],Me=Je.fn,qe=Je.options,tt=qe===void 0?{}:qe,ct=Je.name;typeof Me=="function"&&(ce=Me({state:ce,options:tt,name:ct,instance:Ae})||ce)}else ce.reset=!1,ze=-1}}},update:(ue=function(){return new Promise(function(pe){Ae.forceUpdate(),pe(ce)})},function(){return he||(he=new Promise(function(pe){Promise.resolve().then(function(){he=void 0,pe(ue())})})),he}),destroy:function(){Te(),Re=!0}};if(!kr(H,Y))return Ae;function Te(){Ne.forEach(function(pe){return pe()}),Ne=[]}return Ae.setOptions(se).then(function(pe){!Re&&se.onFirstUpdate&&se.onFirstUpdate(pe)}),Ae}}var Xs=Ys(),gi=Ys({defaultModifiers:[Qo,hr,Ws,Wo]}),Kr=Ys({defaultModifiers:[Qo,hr,Ws,Wo,ds,In,Gs,pi,Qs]});const Fi=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Tn,afterRead:Bs,afterWrite:qs,applyStyles:Wo,arrow:pi,auto:us,basePlacements:Br,beforeMain:Bo,beforeRead:ci,beforeWrite:qo,bottom:At,clippingParents:Us,computeStyles:Ws,createPopper:Kr,createPopperBase:Xs,createPopperLite:gi,detectOverflow:Cr,end:Ir,eventListeners:Qo,flip:In,hide:Qs,left:Et,main:Li,modifierPhases:Ho,offset:ds,placements:ui,popper:Oi,popperGenerator:Ys,popperOffsets:hr,preventOverflow:Gs,read:Fn,reference:mt,right:jt,start:ir,top:Kt,variationPlacements:$s,viewport:zs,write:cn},Symbol.toStringTag,{value:"Module"})),ms="dropdown",Pr=".bs.dropdown",Js=".data-api",Zs="ArrowUp",gs="ArrowDown",Da=`hide${Pr}`,_i=`hidden${Pr}`,Na=`show${Pr}`,Va=`shown${Pr}`,Jo=`click${Pr}${Js}`,eo=`keydown${Pr}${Js}`,to=`keyup${Pr}${Js}`,Mt="show",Qr='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Oa=`${Qr}.${Mt}`,qn=".dropdown-menu",l=ie()?"top-end":"top-start",p=ie()?"top-start":"top-end",y=ie()?"bottom-end":"bottom-start",A=ie()?"bottom-start":"bottom-end",z=ie()?"left-start":"right-start",K=ie()?"right-start":"left-start",le={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},at={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class lt extends xe{constructor(h,g){super(h,g),this._popper=null,this._parent=this._element.parentNode,this._menu=ae.next(this._element,qn)[0]||ae.prev(this._element,qn)[0]||ae.findOne(qn,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return le}static get DefaultType(){return at}static get NAME(){return ms}toggle(){return this._isShown()?this.hide():this.show()}show(){if(v(this._element)||this._isShown())return;const h={relatedTarget:this._element};if(!F.trigger(this._element,Na,h).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const g of[].concat(...document.body.children))F.on(g,"mouseover",S);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Mt),this._element.classList.add(Mt),F.trigger(this._element,Va,h)}}hide(){if(v(this._element)||!this._isShown())return;const h={relatedTarget:this._element};this._completeHide(h)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(h){if(!F.trigger(this._element,Da,h).defaultPrevented){if("ontouchstart"in document.documentElement)for(const g of[].concat(...document.body.children))F.off(g,"mouseover",S);this._popper&&this._popper.destroy(),this._menu.classList.remove(Mt),this._element.classList.remove(Mt),this._element.setAttribute("aria-expanded","false"),G.removeDataAttribute(this._menu,"popper"),F.trigger(this._element,_i,h)}}_getConfig(h){if(typeof(h=super._getConfig(h)).reference=="object"&&!c(h.reference)&&typeof h.reference.getBoundingClientRect!="function")throw new TypeError(`${ms.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return h}_createPopper(){if(Fi===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let h=this._element;this._config.reference==="parent"?h=this._parent:c(this._config.reference)?h=d(this._config.reference):typeof this._config.reference=="object"&&(h=this._config.reference);const g=this._getPopperConfig();this._popper=Kr(h,this._menu,g)}_isShown(){return this._menu.classList.contains(Mt)}_getPlacement(){const h=this._parent;if(h.classList.contains("dropend"))return z;if(h.classList.contains("dropstart"))return K;if(h.classList.contains("dropup-center"))return"top";if(h.classList.contains("dropdown-center"))return"bottom";const g=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return h.classList.contains("dropup")?g?p:l:g?A:y}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:h}=this._config;return typeof h=="string"?h.split(",").map(g=>Number.parseInt(g,10)):typeof h=="function"?g=>h(g,this._element):h}_getPopperConfig(){const h={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(G.setDataAttribute(this._menu,"popper","static"),h.modifiers=[{name:"applyStyles",enabled:!1}]),{...h,...X(this._config.popperConfig,[h])}}_selectMenuItem({key:h,target:g}){const I=ae.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(V=>_(V));I.length&&Le(I,g,h===gs,!I.includes(g)).focus()}static jQueryInterface(h){return this.each(function(){const g=lt.getOrCreateInstance(this,h);if(typeof h=="string"){if(g[h]===void 0)throw new TypeError(`No method named "${h}"`);g[h]()}})}static clearMenus(h){if(h.button===2||h.type==="keyup"&&h.key!=="Tab")return;const g=ae.find(Oa);for(const I of g){const V=lt.getInstance(I);if(!V||V._config.autoClose===!1)continue;const O=h.composedPath(),H=O.includes(V._menu);if(O.includes(V._element)||V._config.autoClose==="inside"&&!H||V._config.autoClose==="outside"&&H||V._menu.contains(h.target)&&(h.type==="keyup"&&h.key==="Tab"||/input|select|option|textarea|form/i.test(h.target.tagName)))continue;const Y={relatedTarget:V._element};h.type==="click"&&(Y.clickEvent=h),V._completeHide(Y)}}static dataApiKeydownHandler(h){const g=/input|textarea/i.test(h.target.tagName),I=h.key==="Escape",V=[Zs,gs].includes(h.key);if(!V&&!I||g&&!I)return;h.preventDefault();const O=this.matches(Qr)?this:ae.prev(this,Qr)[0]||ae.next(this,Qr)[0]||ae.findOne(Qr,h.delegateTarget.parentNode),H=lt.getOrCreateInstance(O);if(V)return h.stopPropagation(),H.show(),void H._selectMenuItem(h);H._isShown()&&(h.stopPropagation(),H.hide(),O.focus())}}F.on(document,eo,Qr,lt.dataApiKeydownHandler),F.on(document,eo,qn,lt.dataApiKeydownHandler),F.on(document,Jo,lt.clearMenus),F.on(document,to,lt.clearMenus),F.on(document,Jo,Qr,function(w){w.preventDefault(),lt.getOrCreateInstance(this).toggle()}),re(lt);const Qe="backdrop",$t="show",Vt=`mousedown.bs.${Qe}`,fr={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Hn={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class ji extends we{constructor(h){super(),this._config=this._getConfig(h),this._isAppended=!1,this._element=null}static get Default(){return fr}static get DefaultType(){return Hn}static get NAME(){return Qe}show(h){if(!this._config.isVisible)return void X(h);this._append();const g=this._getElement();this._config.isAnimated&&b(g),g.classList.add($t),this._emulateAnimation(()=>{X(h)})}hide(h){this._config.isVisible?(this._getElement().classList.remove($t),this._emulateAnimation(()=>{this.dispose(),X(h)})):X(h)}dispose(){this._isAppended&&(F.off(this._element,Vt),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const h=document.createElement("div");h.className=this._config.className,this._config.isAnimated&&h.classList.add("fade"),this._element=h}return this._element}_configAfterMerge(h){return h.rootElement=d(h.rootElement),h}_append(){if(this._isAppended)return;const h=this._getElement();this._config.rootElement.append(h),F.on(h,Vt,()=>{X(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(h){Oe(h,this._getElement(),this._config.isAnimated)}}const yi=".bs.focustrap",Pu=`focusin${yi}`,xu=`keydown.tab${yi}`,wl="backward",no={autofocus:!0,trapElement:null},vh={autofocus:"boolean",trapElement:"element"};class bu extends we{constructor(h){super(),this._config=this._getConfig(h),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return no}static get DefaultType(){return vh}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),F.off(document,yi),F.on(document,Pu,h=>this._handleFocusin(h)),F.on(document,xu,h=>this._handleKeydown(h)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,F.off(document,yi))}_handleFocusin(h){const{trapElement:g}=this._config;if(h.target===document||h.target===g||g.contains(h.target))return;const I=ae.focusableChildren(g);I.length===0?g.focus():this._lastTabNavDirection===wl?I[I.length-1].focus():I[0].focus()}_handleKeydown(h){h.key==="Tab"&&(this._lastTabNavDirection=h.shiftKey?wl:"forward")}}const Du=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",El=".sticky-top",Zo="padding-right",ro="margin-right";class _s{constructor(){this._element=document.body}getWidth(){const h=document.documentElement.clientWidth;return Math.abs(window.innerWidth-h)}hide(){const h=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Zo,g=>g+h),this._setElementAttributes(Du,Zo,g=>g+h),this._setElementAttributes(El,ro,g=>g-h)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Zo),this._resetElementAttributes(Du,Zo),this._resetElementAttributes(El,ro)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(h,g,I){const V=this.getWidth();this._applyManipulationCallback(h,O=>{if(O!==this._element&&window.innerWidth>O.clientWidth+V)return;this._saveInitialAttribute(O,g);const H=window.getComputedStyle(O).getPropertyValue(g);O.style.setProperty(g,`${I(Number.parseFloat(H))}px`)})}_saveInitialAttribute(h,g){const I=h.style.getPropertyValue(g);I&&G.setDataAttribute(h,g,I)}_resetElementAttributes(h,g){this._applyManipulationCallback(h,I=>{const V=G.getDataAttribute(I,g);V!==null?(G.removeDataAttribute(I,g),I.style.setProperty(g,V)):I.style.removeProperty(g)})}_applyManipulationCallback(h,g){if(c(h))g(h);else for(const I of ae.find(h,this._element))g(I)}}const dr=".bs.modal",La=`hide${dr}`,wh=`hidePrevented${dr}`,Tl=`hidden${dr}`,Ma=`show${dr}`,Il=`shown${dr}`,Nu=`resize${dr}`,Vu=`click.dismiss${dr}`,Ou=`mousedown.dismiss${dr}`,Eh=`keydown.dismiss${dr}`,Th=`click${dr}.data-api`,Lu="modal-open",Mu="show",Al="modal-static",xr={backdrop:!0,focus:!0,keyboard:!0},ea={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Ui extends xe{constructor(h,g){super(h,g),this._dialog=ae.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new _s,this._addEventListeners()}static get Default(){return xr}static get DefaultType(){return ea}static get NAME(){return"modal"}toggle(h){return this._isShown?this.hide():this.show(h)}show(h){this._isShown||this._isTransitioning||F.trigger(this._element,Ma,{relatedTarget:h}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Lu),this._adjustDialog(),this._backdrop.show(()=>this._showElement(h)))}hide(){this._isShown&&!this._isTransitioning&&(F.trigger(this._element,La).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Mu),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){F.off(window,dr),F.off(this._dialog,dr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new ji({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new bu({trapElement:this._element})}_showElement(h){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const g=ae.findOne(".modal-body",this._dialog);g&&(g.scrollTop=0),b(this._element),this._element.classList.add(Mu),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,F.trigger(this._element,Il,{relatedTarget:h})},this._dialog,this._isAnimated())}_addEventListeners(){F.on(this._element,Eh,h=>{h.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),F.on(window,Nu,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),F.on(this._element,Ou,h=>{F.one(this._element,Vu,g=>{this._element===h.target&&this._element===g.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Lu),this._resetAdjustments(),this._scrollBar.reset(),F.trigger(this._element,Tl)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(F.trigger(this._element,wh).defaultPrevented)return;const h=this._element.scrollHeight>document.documentElement.clientHeight,g=this._element.style.overflowY;g==="hidden"||this._element.classList.contains(Al)||(h||(this._element.style.overflowY="hidden"),this._element.classList.add(Al),this._queueCallback(()=>{this._element.classList.remove(Al),this._queueCallback(()=>{this._element.style.overflowY=g},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const h=this._element.scrollHeight>document.documentElement.clientHeight,g=this._scrollBar.getWidth(),I=g>0;if(I&&!h){const V=ie()?"paddingLeft":"paddingRight";this._element.style[V]=`${g}px`}if(!I&&h){const V=ie()?"paddingRight":"paddingLeft";this._element.style[V]=`${g}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(h,g){return this.each(function(){const I=Ui.getOrCreateInstance(this,h);if(typeof h=="string"){if(I[h]===void 0)throw new TypeError(`No method named "${h}"`);I[h](g)}})}}F.on(document,Th,'[data-bs-toggle="modal"]',function(w){const h=ae.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&w.preventDefault(),F.one(h,Ma,I=>{I.defaultPrevented||F.one(h,Tl,()=>{_(this)&&this.focus()})});const g=ae.findOne(".modal.show");g&&Ui.getInstance(g).hide(),Ui.getOrCreateInstance(h).toggle(this)}),Ge(Ui),re(Ui);const Gr=".bs.offcanvas",Sl=".data-api",Fu=`load${Gr}${Sl}`,Fa="show",ju="showing",Uu="hiding",ys=".offcanvas.show",Cl=`show${Gr}`,ta=`shown${Gr}`,Rl=`hide${Gr}`,kl=`hidePrevented${Gr}`,na=`hidden${Gr}`,io=`resize${Gr}`,Pl=`click${Gr}${Sl}`,zu=`keydown.dismiss${Gr}`,ja={backdrop:!0,keyboard:!0,scroll:!1},$u={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Yr extends xe{constructor(h,g){super(h,g),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return ja}static get DefaultType(){return $u}static get NAME(){return"offcanvas"}toggle(h){return this._isShown?this.hide():this.show(h)}show(h){this._isShown||F.trigger(this._element,Cl,{relatedTarget:h}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new _s().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(ju),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Fa),this._element.classList.remove(ju),F.trigger(this._element,ta,{relatedTarget:h})},this._element,!0))}hide(){this._isShown&&(F.trigger(this._element,Rl).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Uu),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Fa,Uu),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new _s().reset(),F.trigger(this._element,na)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const h=!!this._config.backdrop;return new ji({className:"offcanvas-backdrop",isVisible:h,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:h?()=>{this._config.backdrop!=="static"?this.hide():F.trigger(this._element,kl)}:null})}_initializeFocusTrap(){return new bu({trapElement:this._element})}_addEventListeners(){F.on(this._element,zu,h=>{h.key==="Escape"&&(this._config.keyboard?this.hide():F.trigger(this._element,kl))})}static jQueryInterface(h){return this.each(function(){const g=Yr.getOrCreateInstance(this,h);if(typeof h=="string"){if(g[h]===void 0||h.startsWith("_")||h==="constructor")throw new TypeError(`No method named "${h}"`);g[h](this)}})}}F.on(document,Pl,'[data-bs-toggle="offcanvas"]',function(w){const h=ae.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&w.preventDefault(),v(this))return;F.one(h,na,()=>{_(this)&&this.focus()});const g=ae.findOne(ys);g&&g!==h&&Yr.getInstance(g).hide(),Yr.getOrCreateInstance(h).toggle(this)}),F.on(window,Fu,()=>{for(const w of ae.find(ys))Yr.getOrCreateInstance(w).show()}),F.on(window,io,()=>{for(const w of ae.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(w).position!=="fixed"&&Yr.getOrCreateInstance(w).hide()}),Ge(Yr),re(Yr);const xl={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Bu=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),qu=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Hu=(w,h)=>{const g=w.nodeName.toLowerCase();return h.includes(g)?!Bu.has(g)||!!qu.test(w.nodeValue):h.filter(I=>I instanceof RegExp).some(I=>I.test(g))},zi={allowList:xl,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},bl={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Dl={entry:"(string|element|function|null)",selector:"(string|element)"};class Ih extends we{constructor(h){super(),this._config=this._getConfig(h)}static get Default(){return zi}static get DefaultType(){return bl}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(h=>this._resolvePossibleFunction(h)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(h){return this._checkContent(h),this._config.content={...this._config.content,...h},this}toHtml(){const h=document.createElement("div");h.innerHTML=this._maybeSanitize(this._config.template);for(const[V,O]of Object.entries(this._config.content))this._setContent(h,O,V);const g=h.children[0],I=this._resolvePossibleFunction(this._config.extraClass);return I&&g.classList.add(...I.split(" ")),g}_typeCheckConfig(h){super._typeCheckConfig(h),this._checkContent(h.content)}_checkContent(h){for(const[g,I]of Object.entries(h))super._typeCheckConfig({selector:g,entry:I},Dl)}_setContent(h,g,I){const V=ae.findOne(I,h);V&&((g=this._resolvePossibleFunction(g))?c(g)?this._putElementInTemplate(d(g),V):this._config.html?V.innerHTML=this._maybeSanitize(g):V.textContent=g:V.remove())}_maybeSanitize(h){return this._config.sanitize?function(g,I,V){if(!g.length)return g;if(V&&typeof V=="function")return V(g);const O=new window.DOMParser().parseFromString(g,"text/html"),H=[].concat(...O.body.querySelectorAll("*"));for(const Y of H){const se=Y.nodeName.toLowerCase();if(!Object.keys(I).includes(se)){Y.remove();continue}const ue=[].concat(...Y.attributes),he=[].concat(I["*"]||[],I[se]||[]);for(const ce of ue)Hu(ce,he)||Y.removeAttribute(ce.nodeName)}return O.body.innerHTML}(h,this._config.allowList,this._config.sanitizeFn):h}_resolvePossibleFunction(h){return X(h,[this])}_putElementInTemplate(h,g){if(this._config.html)return g.innerHTML="",void g.append(h);g.textContent=h.textContent}}const Ah=new Set(["sanitize","allowList","sanitizeFn"]),vs="fade",Ua="show",Nl=".modal",Vl="hide.bs.modal",ut="hover",ra="focus",za={AUTO:"auto",TOP:"top",RIGHT:ie()?"left":"right",BOTTOM:"bottom",LEFT:ie()?"right":"left"},ia={allowList:xl,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Wu={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class vi extends xe{constructor(h,g){if(Fi===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(h,g),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return ia}static get DefaultType(){return Wu}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),F.off(this._element.closest(Nl),Vl,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const h=F.trigger(this._element,this.constructor.eventName("show")),g=(T(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(h.defaultPrevented||!g)return;this._disposePopper();const I=this._getTipElement();this._element.setAttribute("aria-describedby",I.getAttribute("id"));const{container:V}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(V.append(I),F.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(I),I.classList.add(Ua),"ontouchstart"in document.documentElement)for(const O of[].concat(...document.body.children))F.on(O,"mouseover",S);this._queueCallback(()=>{F.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!F.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Ua),"ontouchstart"in document.documentElement)for(const h of[].concat(...document.body.children))F.off(h,"mouseover",S);this._activeTrigger.click=!1,this._activeTrigger[ra]=!1,this._activeTrigger[ut]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),F.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(h){const g=this._getTemplateFactory(h).toHtml();if(!g)return null;g.classList.remove(vs,Ua),g.classList.add(`bs-${this.constructor.NAME}-auto`);const I=(V=>{do V+=Math.floor(1e6*Math.random());while(document.getElementById(V));return V})(this.constructor.NAME).toString();return g.setAttribute("id",I),this._isAnimated()&&g.classList.add(vs),g}setContent(h){this._newContent=h,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(h){return this._templateFactory?this._templateFactory.changeContent(h):this._templateFactory=new Ih({...this._config,content:h,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(h){return this.constructor.getOrCreateInstance(h.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(vs)}_isShown(){return this.tip&&this.tip.classList.contains(Ua)}_createPopper(h){const g=X(this._config.placement,[this,h,this._element]),I=za[g.toUpperCase()];return Kr(this._element,h,this._getPopperConfig(I))}_getOffset(){const{offset:h}=this._config;return typeof h=="string"?h.split(",").map(g=>Number.parseInt(g,10)):typeof h=="function"?g=>h(g,this._element):h}_resolvePossibleFunction(h){return X(h,[this._element])}_getPopperConfig(h){const g={placement:h,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:I=>{this._getTipElement().setAttribute("data-popper-placement",I.state.placement)}}]};return{...g,...X(this._config.popperConfig,[g])}}_setListeners(){const h=this._config.trigger.split(" ");for(const g of h)if(g==="click")F.on(this._element,this.constructor.eventName("click"),this._config.selector,I=>{this._initializeOnDelegatedTarget(I).toggle()});else if(g!=="manual"){const I=g===ut?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),V=g===ut?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");F.on(this._element,I,this._config.selector,O=>{const H=this._initializeOnDelegatedTarget(O);H._activeTrigger[O.type==="focusin"?ra:ut]=!0,H._enter()}),F.on(this._element,V,this._config.selector,O=>{const H=this._initializeOnDelegatedTarget(O);H._activeTrigger[O.type==="focusout"?ra:ut]=H._element.contains(O.relatedTarget),H._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},F.on(this._element.closest(Nl),Vl,this._hideModalHandler)}_fixTitle(){const h=this._element.getAttribute("title");h&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",h),this._element.setAttribute("data-bs-original-title",h),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(h,g){clearTimeout(this._timeout),this._timeout=setTimeout(h,g)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(h){const g=G.getDataAttributes(this._element);for(const I of Object.keys(g))Ah.has(I)&&delete g[I];return h={...g,...typeof h=="object"&&h?h:{}},h=this._mergeConfigObj(h),h=this._configAfterMerge(h),this._typeCheckConfig(h),h}_configAfterMerge(h){return h.container=h.container===!1?document.body:d(h.container),typeof h.delay=="number"&&(h.delay={show:h.delay,hide:h.delay}),typeof h.title=="number"&&(h.title=h.title.toString()),typeof h.content=="number"&&(h.content=h.content.toString()),h}_getDelegateConfig(){const h={};for(const[g,I]of Object.entries(this._config))this.constructor.Default[g]!==I&&(h[g]=I);return h.selector=!1,h.trigger="manual",h}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(h){return this.each(function(){const g=vi.getOrCreateInstance(this,h);if(typeof h=="string"){if(g[h]===void 0)throw new TypeError(`No method named "${h}"`);g[h]()}})}}re(vi);const sa={...vi.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},$a={...vi.DefaultType,content:"(null|string|element|function)"};class wi extends vi{static get Default(){return sa}static get DefaultType(){return $a}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(h){return this.each(function(){const g=wi.getOrCreateInstance(this,h);if(typeof h=="string"){if(g[h]===void 0)throw new TypeError(`No method named "${h}"`);g[h]()}})}}re(wi);const Ba=".bs.scrollspy",Sh=`activate${Ba}`,Ku=`click${Ba}`,Qu=`load${Ba}.data-api`,Ei="active",so="[href]",qa=".nav-link",Ol=`${qa}, .nav-item > ${qa}, .list-group-item`,Ll={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Ml={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class oa extends xe{constructor(h,g){super(h,g),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Ll}static get DefaultType(){return Ml}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const h of this._observableSections.values())this._observer.observe(h)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(h){return h.target=d(h.target)||document.body,h.rootMargin=h.offset?`${h.offset}px 0px -30%`:h.rootMargin,typeof h.threshold=="string"&&(h.threshold=h.threshold.split(",").map(g=>Number.parseFloat(g))),h}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(F.off(this._config.target,Ku),F.on(this._config.target,Ku,so,h=>{const g=this._observableSections.get(h.target.hash);if(g){h.preventDefault();const I=this._rootElement||window,V=g.offsetTop-this._element.offsetTop;if(I.scrollTo)return void I.scrollTo({top:V,behavior:"smooth"});I.scrollTop=V}}))}_getNewObserver(){const h={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(g=>this._observerCallback(g),h)}_observerCallback(h){const g=H=>this._targetLinks.get(`#${H.target.id}`),I=H=>{this._previousScrollData.visibleEntryTop=H.target.offsetTop,this._process(g(H))},V=(this._rootElement||document.documentElement).scrollTop,O=V>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=V;for(const H of h){if(!H.isIntersecting){this._activeTarget=null,this._clearActiveClass(g(H));continue}const Y=H.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(O&&Y){if(I(H),!V)return}else O||Y||I(H)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const h=ae.find(so,this._config.target);for(const g of h){if(!g.hash||v(g))continue;const I=ae.findOne(decodeURI(g.hash),this._element);_(I)&&(this._targetLinks.set(decodeURI(g.hash),g),this._observableSections.set(g.hash,I))}}_process(h){this._activeTarget!==h&&(this._clearActiveClass(this._config.target),this._activeTarget=h,h.classList.add(Ei),this._activateParents(h),F.trigger(this._element,Sh,{relatedTarget:h}))}_activateParents(h){if(h.classList.contains("dropdown-item"))ae.findOne(".dropdown-toggle",h.closest(".dropdown")).classList.add(Ei);else for(const g of ae.parents(h,".nav, .list-group"))for(const I of ae.prev(g,Ol))I.classList.add(Ei)}_clearActiveClass(h){h.classList.remove(Ei);const g=ae.find(`${so}.${Ei}`,h);for(const I of g)I.classList.remove(Ei)}static jQueryInterface(h){return this.each(function(){const g=oa.getOrCreateInstance(this,h);if(typeof h=="string"){if(g[h]===void 0||h.startsWith("_")||h==="constructor")throw new TypeError(`No method named "${h}"`);g[h]()}})}}F.on(window,Qu,()=>{for(const w of ae.find('[data-bs-spy="scroll"]'))oa.getOrCreateInstance(w)}),re(oa);const $i=".bs.tab",Ch=`hide${$i}`,Rh=`hidden${$i}`,Fl=`show${$i}`,Bi=`shown${$i}`,Gu=`click${$i}`,oo=`keydown${$i}`,Xr=`load${$i}`,aa="ArrowLeft",Jr="ArrowRight",jl="ArrowUp",Yu="ArrowDown",Ul="Home",qi="End",br="active",ws="fade",ao="show",Ha=".dropdown-toggle",Hi=`:not(${Ha})`,Ti='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',gt=`.nav-link${Hi}, .list-group-item${Hi}, [role="tab"]${Hi}, ${Ti}`,wt=`.${br}[data-bs-toggle="tab"], .${br}[data-bs-toggle="pill"], .${br}[data-bs-toggle="list"]`;class An extends xe{constructor(h){super(h),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),F.on(this._element,oo,g=>this._keydown(g)))}static get NAME(){return"tab"}show(){const h=this._element;if(this._elemIsActive(h))return;const g=this._getActiveElem(),I=g?F.trigger(g,Ch,{relatedTarget:h}):null;F.trigger(h,Fl,{relatedTarget:g}).defaultPrevented||I&&I.defaultPrevented||(this._deactivate(g,h),this._activate(h,g))}_activate(h,g){h&&(h.classList.add(br),this._activate(ae.getElementFromSelector(h)),this._queueCallback(()=>{h.getAttribute("role")==="tab"?(h.removeAttribute("tabindex"),h.setAttribute("aria-selected",!0),this._toggleDropDown(h,!0),F.trigger(h,Bi,{relatedTarget:g})):h.classList.add(ao)},h,h.classList.contains(ws)))}_deactivate(h,g){h&&(h.classList.remove(br),h.blur(),this._deactivate(ae.getElementFromSelector(h)),this._queueCallback(()=>{h.getAttribute("role")==="tab"?(h.setAttribute("aria-selected",!1),h.setAttribute("tabindex","-1"),this._toggleDropDown(h,!1),F.trigger(h,Rh,{relatedTarget:g})):h.classList.remove(ao)},h,h.classList.contains(ws)))}_keydown(h){if(![aa,Jr,jl,Yu,Ul,qi].includes(h.key))return;h.stopPropagation(),h.preventDefault();const g=this._getChildren().filter(V=>!v(V));let I;if([Ul,qi].includes(h.key))I=g[h.key===Ul?0:g.length-1];else{const V=[Jr,Yu].includes(h.key);I=Le(g,h.target,V,!0)}I&&(I.focus({preventScroll:!0}),An.getOrCreateInstance(I).show())}_getChildren(){return ae.find(gt,this._parent)}_getActiveElem(){return this._getChildren().find(h=>this._elemIsActive(h))||null}_setInitialAttributes(h,g){this._setAttributeIfNotExists(h,"role","tablist");for(const I of g)this._setInitialAttributesOnChild(I)}_setInitialAttributesOnChild(h){h=this._getInnerElement(h);const g=this._elemIsActive(h),I=this._getOuterElement(h);h.setAttribute("aria-selected",g),I!==h&&this._setAttributeIfNotExists(I,"role","presentation"),g||h.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(h,"role","tab"),this._setInitialAttributesOnTargetPanel(h)}_setInitialAttributesOnTargetPanel(h){const g=ae.getElementFromSelector(h);g&&(this._setAttributeIfNotExists(g,"role","tabpanel"),h.id&&this._setAttributeIfNotExists(g,"aria-labelledby",`${h.id}`))}_toggleDropDown(h,g){const I=this._getOuterElement(h);if(!I.classList.contains("dropdown"))return;const V=(O,H)=>{const Y=ae.findOne(O,I);Y&&Y.classList.toggle(H,g)};V(Ha,br),V(".dropdown-menu",ao),I.setAttribute("aria-expanded",g)}_setAttributeIfNotExists(h,g,I){h.hasAttribute(g)||h.setAttribute(g,I)}_elemIsActive(h){return h.classList.contains(br)}_getInnerElement(h){return h.matches(gt)?h:ae.findOne(gt,h)}_getOuterElement(h){return h.closest(".nav-item, .list-group-item")||h}static jQueryInterface(h){return this.each(function(){const g=An.getOrCreateInstance(this);if(typeof h=="string"){if(g[h]===void 0||h.startsWith("_")||h==="constructor")throw new TypeError(`No method named "${h}"`);g[h]()}})}}F.on(document,Gu,Ti,function(w){["A","AREA"].includes(this.tagName)&&w.preventDefault(),v(this)||An.getOrCreateInstance(this).show()}),F.on(window,Xr,()=>{for(const w of ae.find(wt))An.getOrCreateInstance(w)}),re(An);const St=".bs.toast",Sn=`mouseover${St}`,Es=`mouseout${St}`,lo=`focusin${St}`,Cn=`focusout${St}`,Wa=`hide${St}`,Xu=`hidden${St}`,Ju=`show${St}`,Ka=`shown${St}`,zl="hide",pr="show",Ts="showing",$l={animation:"boolean",autohide:"boolean",delay:"number"},Zu={animation:!0,autohide:!0,delay:5e3};class la extends xe{constructor(h,g){super(h,g),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Zu}static get DefaultType(){return $l}static get NAME(){return"toast"}show(){F.trigger(this._element,Ju).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(zl),b(this._element),this._element.classList.add(pr,Ts),this._queueCallback(()=>{this._element.classList.remove(Ts),F.trigger(this._element,Ka),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(F.trigger(this._element,Wa).defaultPrevented||(this._element.classList.add(Ts),this._queueCallback(()=>{this._element.classList.add(zl),this._element.classList.remove(Ts,pr),F.trigger(this._element,Xu)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(pr),super.dispose()}isShown(){return this._element.classList.contains(pr)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(h,g){switch(h.type){case"mouseover":case"mouseout":this._hasMouseInteraction=g;break;case"focusin":case"focusout":this._hasKeyboardInteraction=g}if(g)return void this._clearTimeout();const I=h.relatedTarget;this._element===I||this._element.contains(I)||this._maybeScheduleHide()}_setListeners(){F.on(this._element,Sn,h=>this._onInteraction(h,!0)),F.on(this._element,Es,h=>this._onInteraction(h,!1)),F.on(this._element,lo,h=>this._onInteraction(h,!0)),F.on(this._element,Cn,h=>this._onInteraction(h,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(h){return this.each(function(){const g=la.getOrCreateInstance(this,h);if(typeof h=="string"){if(g[h]===void 0)throw new TypeError(`No method named "${h}"`);g[h](this)}})}}return Ge(la),re(la),{Alert:Vn,Button:Zn,Carousel:zr,Collapse:Tr,Dropdown:lt,Modal:Ui,Offcanvas:Yr,Popover:wi,ScrollSpy:oa,Tab:An,Toast:la,Tooltip:vi}});var Ef={exports:{}},Tf,vm;function Zv(){if(vm)return Tf;vm=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Tf=i,Tf}var If,wm;function ew(){if(wm)return If;wm=1;var i=Zv();function e(){}function n(){}return n.resetWarningCache=e,If=function(){function s(d,_,v,T,S,b){if(b!==i){var q=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw q.name="Invariant Violation",q}}s.isRequired=s;function a(){return s}var c={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return c.PropTypes=c,c},If}var Em;function tw(){return Em||(Em=1,Ef.exports=ew()()),Ef.exports}var nw=tw();const pu=Bv(nw);function Qg(i){const e=i.incomeSnapshots,n=i.expenseSnapshots;let s=0,a=0;for(let c of e)s+=parseInt(c.data().amount);for(let c of n)a+=parseInt(c.data().amount);return ge.jsxs(ge.Fragment,{children:[ge.jsx("img",{src:"/images/Budget1.png",alt:"aesthetic top",width:"100%"}),ge.jsx("div",{className:"container1",children:ge.jsxs("div",{className:"thing",children:[ge.jsx("h1",{children:"Avaliable Budget"}),ge.jsx("h2",{id:"number",children:(s-a).toLocaleString(void 0,{maximumFractionDigits:2,minimumFractionDigits:2})})," ",ge.jsxs("div",{className:"amount",children:[ge.jsxs("h3",{id:"income",children:["Income      + ",s.toLocaleString(void 0,{maximumFractionDigits:2,minimumFractionDigits:2})]}),ge.jsxs("h3",{id:"expense",children:["Expenses       - ",a.toLocaleString(void 0,{maximumFractionDigits:2,minimumFractionDigits:2})]})]})]})})]})}Qg.propTypes={incomeSnapshots:pu.array.isRequired,expenseSnapshots:pu.array.isRequired};function Gg(i){const e=i.manager;return ge.jsx(ge.Fragment,{children:ge.jsxs("div",{className:"row g-3 align-items-center",children:[ge.jsxs("div",{className:"col-auto",children:[ge.jsx("button",{className:"btn btn-secondary dropdown-toggle fs-5",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",id:"dropdown",children:"Income"}),ge.jsxs("ul",{className:"dropdown-menu",children:[ge.jsx("li",{children:ge.jsx("a",{className:"dropdown-item",href:"#",onClick:()=>{document.getElementById("dropdown").textContent="Income"},children:"Income"})}),ge.jsx("li",{children:ge.jsx("a",{className:"dropdown-item",href:"#",onClick:()=>{document.getElementById("dropdown").textContent="Expense"},children:"Expense"})})]})]}),ge.jsxs("div",{className:"col-auto",children:[ge.jsx("label",{className:"fs-2"}),ge.jsxs("div",{className:"d-flex gap-2",children:[ge.jsx("input",{type:"text",id:"inputDesc",className:"form-control fs-5",placeholder:"Add description",required:!0}),ge.jsx("input",{type:"text",id:"inputMoney",className:"form-control fs-5",placeholder:"Enter Amount",required:!0}),ge.jsx("button",{className:"btn fs-5",type:"button",style:{backgroundColor:"#2C3930",color:"white"},onClick:n=>{const s=document.getElementById("inputDesc").value,a=document.getElementById("inputMoney").value;if(rw(s,a)){if(a.length==0){document.getElementById("inputMoney").classList.add("invalid");return}else document.getElementById("inputMoney").classList.remove("invalid");document.getElementById("dropdown").textContent==="Income"?e.add("Income",s,a):document.getElementById("dropdown").textContent==="Expense"&&e.add("Expense",s,a)}},children:"Submit"})]})]})]})})}Gg.propTypes={manager:pu.object.isRequired};function rw(i,e){let n=!0;return i.length==0?(document.getElementById("inputDesc").classList.add("invalid"),n=!1):document.getElementById("inputDesc").classList.remove("invalid"),e.length==0?(document.getElementById("inputMoney").classList.add("invalid"),n=!1):document.getElementById("inputMoney").classList.remove("invalid"),n}function iw(){return ge.jsx(ge.Fragment,{children:ge.jsx("nav",{className:"navbar navbar-expand-lg",children:ge.jsxs("div",{className:"container-fluid",children:[ge.jsx("a",{className:"navbar-brand",href:"#",children:"Budget Your Goal"}),ge.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:ge.jsx("span",{className:"navbar-toggler-icon"})}),ge.jsx("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:ge.jsxs("div",{className:"navbar-nav",children:[ge.jsx("a",{className:"nav-link active","aria-current":"page",href:"#",children:"Balance"}),ge.jsx("a",{className:"nav-link",href:"#",children:"Goal"})]})})]})})})}function Yg(i){const e=i.incomeSnapshots,n=i.expenseSnapshots;return ge.jsx(ge.Fragment,{children:ge.jsxs("div",{className:"container2",children:[ge.jsxs("table",{className:"table table-striped",children:[ge.jsx("thead",{children:ge.jsx("tr",{children:ge.jsx("th",{scope:"col",id:"tableIncome",children:"INCOME"})})}),ge.jsx("tbody",{children:e.map(s=>ge.jsxs("tr",{children:[ge.jsx("th",{scope:"row",children:s.data().description}),ge.jsx("td",{children:parseInt(s.data().amount).toLocaleString(void 0,{maximumFractionDigits:2,minimumFractionDigits:2})})]},s.id))})]}),ge.jsxs("table",{className:"table table-striped",children:[ge.jsx("thead",{children:ge.jsx("tr",{children:ge.jsx("th",{scope:"col",id:"tableExpenses",children:"EXPENSES"})})}),ge.jsx("tbody",{children:n.map(s=>ge.jsxs("tr",{children:[ge.jsx("th",{scope:"row",children:s.data().description}),ge.jsx("td",{children:parseInt(s.data().amount).toLocaleString(void 0,{maximumFractionDigits:2,minimumFractionDigits:2})})]},s.id))})]})]})})}Yg.propTypes={incomeSnapshots:pu.array.isRequired,expenseSnapshots:pu.array.isRequired};var Tm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},sw=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],d=i[n++],_=i[n++],v=((a&7)<<18|(c&63)<<12|(d&63)<<6|_&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const c=i[n++],d=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Jg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],d=a+1<i.length,_=d?i[a+1]:0,v=a+2<i.length,T=v?i[a+2]:0,S=c>>2,b=(c&3)<<4|_>>4;let q=(_&15)<<2|T>>6,Q=T&63;v||(Q=64,d||(q=64)),s.push(n[S],n[b],n[q],n[Q])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Xg(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):sw(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],_=a<i.length?n[i.charAt(a)]:0;++a;const T=a<i.length?n[i.charAt(a)]:64;++a;const b=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||_==null||T==null||b==null)throw new ow;const q=c<<2|_>>4;if(s.push(q),T!==64){const Q=_<<4&240|T>>2;if(s.push(Q),b!==64){const ie=T<<6&192|b;s.push(ie)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class ow extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aw=function(i){const e=Xg(i);return Jg.encodeByteArray(e,!0)},zc=function(i){return aw(i).replace(/\./g,"")},lw=function(i){try{return Jg.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=()=>uw().__FIREBASE_DEFAULTS__,hw=()=>{if(typeof process>"u"||typeof Tm>"u")return;const i=Tm.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},fw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&lw(i[1]);return e&&JSON.parse(e)},sd=()=>{try{return cw()||hw()||fw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},dw=i=>{var e,n;return(n=(e=sd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},pw=i=>{const e=dw(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Zg=()=>{var i;return(i=sd())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[zc(JSON.stringify(n)),zc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yw(){var i;const e=(i=sd())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vw(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function ww(){return!yw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function e_(){try{return typeof indexedDB=="object"}catch{return!1}}function t_(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}function Ew(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="FirebaseError";class Do extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Tw,Object.setPrototypeOf(this,Do.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rh.prototype.create)}}class rh{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],d=c?Iw(c,s):"Error",_=`${this.serviceName}: ${d} (${a}).`;return new Do(a,_,s)}}function Iw(i,e){return i.replace(Aw,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const Aw=/\{\$([^}]+)}/g;function $c(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],d=e[a];if(Im(c)&&Im(d)){if(!$c(c,d))return!1}else if(c!==d)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Im(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=1e3,Cw=2,Rw=4*60*60*1e3,kw=.5;function Am(i,e=Sw,n=Cw){const s=e*Math.pow(n,i),a=Math.round(kw*s*(Math.random()-.5)*2);return Math.min(Rw,s+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(i){return i&&i._delegate?i._delegate:i}class xs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new mw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bw(e))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ga){return this.instances.has(e)}getOptions(e=ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(c);s===_&&d.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const d=this.instances.get(a);return d&&e(d,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:xw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ga){return this.component?this.component.multipleInstances?e:ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xw(i){return i===ga?void 0:i}function bw(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Pw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(rt||(rt={}));const Nw={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},Vw=rt.INFO,Ow={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},Lw=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=Ow[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class od{constructor(e){this.name=e,this._logLevel=Vw,this._logHandler=Lw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Nw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const Mw=(i,e)=>e.some(n=>i instanceof n);let Sm,Cm;function Fw(){return Sm||(Sm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jw(){return Cm||(Cm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const n_=new WeakMap,Of=new WeakMap,r_=new WeakMap,Af=new WeakMap,ad=new WeakMap;function Uw(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{n(Eo(i.result)),a()},d=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&n_.set(n,i)}).catch(()=>{}),ad.set(e,i),e}function zw(i){if(Of.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{n(),a()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});Of.set(i,e)}let Lf={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Of.get(i);if(e==="objectStoreNames")return i.objectStoreNames||r_.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Eo(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function $w(i){Lf=i(Lf)}function Bw(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Sf(this),e,...n);return r_.set(s,e.sort?e.sort():[e]),Eo(s)}:jw().includes(i)?function(...e){return i.apply(Sf(this),e),Eo(n_.get(this))}:function(...e){return Eo(i.apply(Sf(this),e))}}function qw(i){return typeof i=="function"?Bw(i):(i instanceof IDBTransaction&&zw(i),Mw(i,Fw())?new Proxy(i,Lf):i)}function Eo(i){if(i instanceof IDBRequest)return Uw(i);if(Af.has(i))return Af.get(i);const e=qw(i);return e!==i&&(Af.set(i,e),ad.set(e,i)),e}const Sf=i=>ad.get(i);function i_(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const d=indexedDB.open(i,e),_=Eo(d);return s&&d.addEventListener("upgradeneeded",v=>{s(Eo(d.result),v.oldVersion,v.newVersion,Eo(d.transaction),v)}),n&&d.addEventListener("blocked",v=>n(v.oldVersion,v.newVersion,v)),_.then(v=>{c&&v.addEventListener("close",()=>c()),a&&v.addEventListener("versionchange",T=>a(T.oldVersion,T.newVersion,T))}).catch(()=>{}),_}const Hw=["get","getKey","getAll","getAllKeys","count"],Ww=["put","add","delete","clear"],Cf=new Map;function Rm(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Cf.get(e))return Cf.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=Ww.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||Hw.includes(n)))return;const c=async function(d,..._){const v=this.transaction(d,a?"readwrite":"readonly");let T=v.store;return s&&(T=T.index(_.shift())),(await Promise.all([T[n](..._),a&&v.done]))[0]};return Cf.set(e,c),c}$w(i=>({...i,get:(e,n,s)=>Rm(e,n)||i.get(e,n,s),has:(e,n)=>!!Rm(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Qw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Qw(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mf="@firebase/app",km="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new od("@firebase/app"),Gw="@firebase/app-compat",Yw="@firebase/analytics-compat",Xw="@firebase/analytics",Jw="@firebase/app-check-compat",Zw="@firebase/app-check",eE="@firebase/auth",tE="@firebase/auth-compat",nE="@firebase/database",rE="@firebase/data-connect",iE="@firebase/database-compat",sE="@firebase/functions",oE="@firebase/functions-compat",aE="@firebase/installations",lE="@firebase/installations-compat",uE="@firebase/messaging",cE="@firebase/messaging-compat",hE="@firebase/performance",fE="@firebase/performance-compat",dE="@firebase/remote-config",pE="@firebase/remote-config-compat",mE="@firebase/storage",gE="@firebase/storage-compat",_E="@firebase/firestore",yE="@firebase/vertexai",vE="@firebase/firestore-compat",wE="firebase",EE="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="[DEFAULT]",TE={[Mf]:"fire-core",[Gw]:"fire-core-compat",[Xw]:"fire-analytics",[Yw]:"fire-analytics-compat",[Zw]:"fire-app-check",[Jw]:"fire-app-check-compat",[eE]:"fire-auth",[tE]:"fire-auth-compat",[nE]:"fire-rtdb",[rE]:"fire-data-connect",[iE]:"fire-rtdb-compat",[sE]:"fire-fn",[oE]:"fire-fn-compat",[aE]:"fire-iid",[lE]:"fire-iid-compat",[uE]:"fire-fcm",[cE]:"fire-fcm-compat",[hE]:"fire-perf",[fE]:"fire-perf-compat",[dE]:"fire-rc",[pE]:"fire-rc-compat",[mE]:"fire-gcs",[gE]:"fire-gcs-compat",[_E]:"fire-fst",[vE]:"fire-fst-compat",[yE]:"fire-vertex","fire-js":"fire-js",[wE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=new Map,IE=new Map,jf=new Map;function Pm(i,e){try{i.container.addComponent(e)}catch(n){bs.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function So(i){const e=i.name;if(jf.has(e))return bs.debug(`There were multiple attempts to register component ${e}.`),!1;jf.set(e,i);for(const n of Bc.values())Pm(n,i);for(const n of IE.values())Pm(n,i);return!0}function Au(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function AE(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},To=new rh("app","Firebase",SE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw To.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=EE;function s_(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Ff,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw To.create("bad-app-name",{appName:String(a)});if(n||(n=Zg()),!n)throw To.create("no-options");const c=Bc.get(a);if(c){if($c(n,c.options)&&$c(s,c.config))return c;throw To.create("duplicate-app",{appName:a})}const d=new Dw(a);for(const v of jf.values())d.addComponent(v);const _=new CE(n,s,d);return Bc.set(a,_),_}function o_(i=Ff){const e=Bc.get(i);if(!e&&i===Ff&&Zg())return s_();if(!e)throw To.create("no-app",{appName:i});return e}function Zi(i,e,n){var s;let a=(s=TE[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const _=[`Unable to register library "${a}" with version "${e}":`];c&&_.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&d&&_.push("and"),d&&_.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bs.warn(_.join(" "));return}So(new xs(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="firebase-heartbeat-database",PE=1,mu="firebase-heartbeat-store";let Rf=null;function a_(){return Rf||(Rf=i_(kE,PE,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(mu)}catch(n){console.warn(n)}}}}).catch(i=>{throw To.create("idb-open",{originalErrorMessage:i.message})})),Rf}async function xE(i){try{const n=(await a_()).transaction(mu),s=await n.objectStore(mu).get(l_(i));return await n.done,s}catch(e){if(e instanceof Do)bs.warn(e.message);else{const n=To.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bs.warn(n.message)}}}async function xm(i,e){try{const s=(await a_()).transaction(mu,"readwrite");await s.objectStore(mu).put(e,l_(i)),await s.done}catch(n){if(n instanceof Do)bs.warn(n.message);else{const s=To.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bs.warn(s.message)}}}function l_(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=1024,DE=30;class NE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OE(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=bm();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats.length>DE){const d=LE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){bs.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bm(),{heartbeatsToSend:s,unsentEntries:a}=VE(this._heartbeatsCache.heartbeats),c=zc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return bs.warn(n),""}}}function bm(){return new Date().toISOString().substring(0,10)}function VE(i,e=bE){const n=[];let s=i.slice();for(const a of i){const c=n.find(d=>d.agent===a.agent);if(c){if(c.dates.push(a.date),Dm(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Dm(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class OE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return e_()?t_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return xm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return xm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Dm(i){return zc(JSON.stringify({version:2,heartbeats:i})).length}function LE(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(i){So(new xs("platform-logger",e=>new Kw(e),"PRIVATE")),So(new xs("heartbeat",e=>new NE(e),"PRIVATE")),Zi(Mf,km,i),Zi(Mf,km,"esm2017"),Zi("fire-js","")}ME("");var Nm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Io,u_;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,R){function P(){}P.prototype=R.prototype,L.D=R.prototype,L.prototype=new P,L.prototype.constructor=L,L.C=function(D,M,U){for(var k=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)k[xt-2]=arguments[xt];return R.prototype[M].apply(D,k)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(L,R,P){P||(P=0);var D=Array(16);if(typeof R=="string")for(var M=0;16>M;++M)D[M]=R.charCodeAt(P++)|R.charCodeAt(P++)<<8|R.charCodeAt(P++)<<16|R.charCodeAt(P++)<<24;else for(M=0;16>M;++M)D[M]=R[P++]|R[P++]<<8|R[P++]<<16|R[P++]<<24;R=L.g[0],P=L.g[1],M=L.g[2];var U=L.g[3],k=R+(U^P&(M^U))+D[0]+3614090360&4294967295;R=P+(k<<7&4294967295|k>>>25),k=U+(M^R&(P^M))+D[1]+3905402710&4294967295,U=R+(k<<12&4294967295|k>>>20),k=M+(P^U&(R^P))+D[2]+606105819&4294967295,M=U+(k<<17&4294967295|k>>>15),k=P+(R^M&(U^R))+D[3]+3250441966&4294967295,P=M+(k<<22&4294967295|k>>>10),k=R+(U^P&(M^U))+D[4]+4118548399&4294967295,R=P+(k<<7&4294967295|k>>>25),k=U+(M^R&(P^M))+D[5]+1200080426&4294967295,U=R+(k<<12&4294967295|k>>>20),k=M+(P^U&(R^P))+D[6]+2821735955&4294967295,M=U+(k<<17&4294967295|k>>>15),k=P+(R^M&(U^R))+D[7]+4249261313&4294967295,P=M+(k<<22&4294967295|k>>>10),k=R+(U^P&(M^U))+D[8]+1770035416&4294967295,R=P+(k<<7&4294967295|k>>>25),k=U+(M^R&(P^M))+D[9]+2336552879&4294967295,U=R+(k<<12&4294967295|k>>>20),k=M+(P^U&(R^P))+D[10]+4294925233&4294967295,M=U+(k<<17&4294967295|k>>>15),k=P+(R^M&(U^R))+D[11]+2304563134&4294967295,P=M+(k<<22&4294967295|k>>>10),k=R+(U^P&(M^U))+D[12]+1804603682&4294967295,R=P+(k<<7&4294967295|k>>>25),k=U+(M^R&(P^M))+D[13]+4254626195&4294967295,U=R+(k<<12&4294967295|k>>>20),k=M+(P^U&(R^P))+D[14]+2792965006&4294967295,M=U+(k<<17&4294967295|k>>>15),k=P+(R^M&(U^R))+D[15]+1236535329&4294967295,P=M+(k<<22&4294967295|k>>>10),k=R+(M^U&(P^M))+D[1]+4129170786&4294967295,R=P+(k<<5&4294967295|k>>>27),k=U+(P^M&(R^P))+D[6]+3225465664&4294967295,U=R+(k<<9&4294967295|k>>>23),k=M+(R^P&(U^R))+D[11]+643717713&4294967295,M=U+(k<<14&4294967295|k>>>18),k=P+(U^R&(M^U))+D[0]+3921069994&4294967295,P=M+(k<<20&4294967295|k>>>12),k=R+(M^U&(P^M))+D[5]+3593408605&4294967295,R=P+(k<<5&4294967295|k>>>27),k=U+(P^M&(R^P))+D[10]+38016083&4294967295,U=R+(k<<9&4294967295|k>>>23),k=M+(R^P&(U^R))+D[15]+3634488961&4294967295,M=U+(k<<14&4294967295|k>>>18),k=P+(U^R&(M^U))+D[4]+3889429448&4294967295,P=M+(k<<20&4294967295|k>>>12),k=R+(M^U&(P^M))+D[9]+568446438&4294967295,R=P+(k<<5&4294967295|k>>>27),k=U+(P^M&(R^P))+D[14]+3275163606&4294967295,U=R+(k<<9&4294967295|k>>>23),k=M+(R^P&(U^R))+D[3]+4107603335&4294967295,M=U+(k<<14&4294967295|k>>>18),k=P+(U^R&(M^U))+D[8]+1163531501&4294967295,P=M+(k<<20&4294967295|k>>>12),k=R+(M^U&(P^M))+D[13]+2850285829&4294967295,R=P+(k<<5&4294967295|k>>>27),k=U+(P^M&(R^P))+D[2]+4243563512&4294967295,U=R+(k<<9&4294967295|k>>>23),k=M+(R^P&(U^R))+D[7]+1735328473&4294967295,M=U+(k<<14&4294967295|k>>>18),k=P+(U^R&(M^U))+D[12]+2368359562&4294967295,P=M+(k<<20&4294967295|k>>>12),k=R+(P^M^U)+D[5]+4294588738&4294967295,R=P+(k<<4&4294967295|k>>>28),k=U+(R^P^M)+D[8]+2272392833&4294967295,U=R+(k<<11&4294967295|k>>>21),k=M+(U^R^P)+D[11]+1839030562&4294967295,M=U+(k<<16&4294967295|k>>>16),k=P+(M^U^R)+D[14]+4259657740&4294967295,P=M+(k<<23&4294967295|k>>>9),k=R+(P^M^U)+D[1]+2763975236&4294967295,R=P+(k<<4&4294967295|k>>>28),k=U+(R^P^M)+D[4]+1272893353&4294967295,U=R+(k<<11&4294967295|k>>>21),k=M+(U^R^P)+D[7]+4139469664&4294967295,M=U+(k<<16&4294967295|k>>>16),k=P+(M^U^R)+D[10]+3200236656&4294967295,P=M+(k<<23&4294967295|k>>>9),k=R+(P^M^U)+D[13]+681279174&4294967295,R=P+(k<<4&4294967295|k>>>28),k=U+(R^P^M)+D[0]+3936430074&4294967295,U=R+(k<<11&4294967295|k>>>21),k=M+(U^R^P)+D[3]+3572445317&4294967295,M=U+(k<<16&4294967295|k>>>16),k=P+(M^U^R)+D[6]+76029189&4294967295,P=M+(k<<23&4294967295|k>>>9),k=R+(P^M^U)+D[9]+3654602809&4294967295,R=P+(k<<4&4294967295|k>>>28),k=U+(R^P^M)+D[12]+3873151461&4294967295,U=R+(k<<11&4294967295|k>>>21),k=M+(U^R^P)+D[15]+530742520&4294967295,M=U+(k<<16&4294967295|k>>>16),k=P+(M^U^R)+D[2]+3299628645&4294967295,P=M+(k<<23&4294967295|k>>>9),k=R+(M^(P|~U))+D[0]+4096336452&4294967295,R=P+(k<<6&4294967295|k>>>26),k=U+(P^(R|~M))+D[7]+1126891415&4294967295,U=R+(k<<10&4294967295|k>>>22),k=M+(R^(U|~P))+D[14]+2878612391&4294967295,M=U+(k<<15&4294967295|k>>>17),k=P+(U^(M|~R))+D[5]+4237533241&4294967295,P=M+(k<<21&4294967295|k>>>11),k=R+(M^(P|~U))+D[12]+1700485571&4294967295,R=P+(k<<6&4294967295|k>>>26),k=U+(P^(R|~M))+D[3]+2399980690&4294967295,U=R+(k<<10&4294967295|k>>>22),k=M+(R^(U|~P))+D[10]+4293915773&4294967295,M=U+(k<<15&4294967295|k>>>17),k=P+(U^(M|~R))+D[1]+2240044497&4294967295,P=M+(k<<21&4294967295|k>>>11),k=R+(M^(P|~U))+D[8]+1873313359&4294967295,R=P+(k<<6&4294967295|k>>>26),k=U+(P^(R|~M))+D[15]+4264355552&4294967295,U=R+(k<<10&4294967295|k>>>22),k=M+(R^(U|~P))+D[6]+2734768916&4294967295,M=U+(k<<15&4294967295|k>>>17),k=P+(U^(M|~R))+D[13]+1309151649&4294967295,P=M+(k<<21&4294967295|k>>>11),k=R+(M^(P|~U))+D[4]+4149444226&4294967295,R=P+(k<<6&4294967295|k>>>26),k=U+(P^(R|~M))+D[11]+3174756917&4294967295,U=R+(k<<10&4294967295|k>>>22),k=M+(R^(U|~P))+D[2]+718787259&4294967295,M=U+(k<<15&4294967295|k>>>17),k=P+(U^(M|~R))+D[9]+3951481745&4294967295,L.g[0]=L.g[0]+R&4294967295,L.g[1]=L.g[1]+(M+(k<<21&4294967295|k>>>11))&4294967295,L.g[2]=L.g[2]+M&4294967295,L.g[3]=L.g[3]+U&4294967295}s.prototype.u=function(L,R){R===void 0&&(R=L.length);for(var P=R-this.blockSize,D=this.B,M=this.h,U=0;U<R;){if(M==0)for(;U<=P;)a(this,L,U),U+=this.blockSize;if(typeof L=="string"){for(;U<R;)if(D[M++]=L.charCodeAt(U++),M==this.blockSize){a(this,D),M=0;break}}else for(;U<R;)if(D[M++]=L[U++],M==this.blockSize){a(this,D),M=0;break}}this.h=M,this.o+=R},s.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var R=1;R<L.length-8;++R)L[R]=0;var P=8*this.o;for(R=L.length-8;R<L.length;++R)L[R]=P&255,P/=256;for(this.u(L),L=Array(16),R=P=0;4>R;++R)for(var D=0;32>D;D+=8)L[P++]=this.g[R]>>>D&255;return L};function c(L,R){var P=_;return Object.prototype.hasOwnProperty.call(P,L)?P[L]:P[L]=R(L)}function d(L,R){this.h=R;for(var P=[],D=!0,M=L.length-1;0<=M;M--){var U=L[M]|0;D&&U==R||(P[M]=U,D=!1)}this.g=P}var _={};function v(L){return-128<=L&&128>L?c(L,function(R){return new d([R|0],0>R?-1:0)}):new d([L|0],0>L?-1:0)}function T(L){if(isNaN(L)||!isFinite(L))return b;if(0>L)return X(T(-L));for(var R=[],P=1,D=0;L>=P;D++)R[D]=L/P|0,P*=4294967296;return new d(R,0)}function S(L,R){if(L.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(L.charAt(0)=="-")return X(S(L.substring(1),R));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=T(Math.pow(R,8)),D=b,M=0;M<L.length;M+=8){var U=Math.min(8,L.length-M),k=parseInt(L.substring(M,M+U),R);8>U?(U=T(Math.pow(R,U)),D=D.j(U).add(T(k))):(D=D.j(P),D=D.add(T(k)))}return D}var b=v(0),q=v(1),Q=v(16777216);i=d.prototype,i.m=function(){if(re(this))return-X(this).m();for(var L=0,R=1,P=0;P<this.g.length;P++){var D=this.i(P);L+=(0<=D?D:4294967296+D)*R,R*=4294967296}return L},i.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(ie(this))return"0";if(re(this))return"-"+X(this).toString(L);for(var R=T(Math.pow(L,6)),P=this,D="";;){var M=We(P,R).g;P=Oe(P,M.j(R));var U=((0<P.g.length?P.g[0]:P.h)>>>0).toString(L);if(P=M,ie(P))return U+D;for(;6>U.length;)U="0"+U;D=U+D}},i.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function ie(L){if(L.h!=0)return!1;for(var R=0;R<L.g.length;R++)if(L.g[R]!=0)return!1;return!0}function re(L){return L.h==-1}i.l=function(L){return L=Oe(this,L),re(L)?-1:ie(L)?0:1};function X(L){for(var R=L.g.length,P=[],D=0;D<R;D++)P[D]=~L.g[D];return new d(P,~L.h).add(q)}i.abs=function(){return re(this)?X(this):this},i.add=function(L){for(var R=Math.max(this.g.length,L.g.length),P=[],D=0,M=0;M<=R;M++){var U=D+(this.i(M)&65535)+(L.i(M)&65535),k=(U>>>16)+(this.i(M)>>>16)+(L.i(M)>>>16);D=k>>>16,U&=65535,k&=65535,P[M]=k<<16|U}return new d(P,P[P.length-1]&-2147483648?-1:0)};function Oe(L,R){return L.add(X(R))}i.j=function(L){if(ie(this)||ie(L))return b;if(re(this))return re(L)?X(this).j(X(L)):X(X(this).j(L));if(re(L))return X(this.j(X(L)));if(0>this.l(Q)&&0>L.l(Q))return T(this.m()*L.m());for(var R=this.g.length+L.g.length,P=[],D=0;D<2*R;D++)P[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<L.g.length;M++){var U=this.i(D)>>>16,k=this.i(D)&65535,xt=L.i(M)>>>16,Ht=L.i(M)&65535;P[2*D+2*M]+=k*Ht,Le(P,2*D+2*M),P[2*D+2*M+1]+=U*Ht,Le(P,2*D+2*M+1),P[2*D+2*M+1]+=k*xt,Le(P,2*D+2*M+1),P[2*D+2*M+2]+=U*xt,Le(P,2*D+2*M+2)}for(D=0;D<R;D++)P[D]=P[2*D+1]<<16|P[2*D];for(D=R;D<2*R;D++)P[D]=0;return new d(P,0)};function Le(L,R){for(;(L[R]&65535)!=L[R];)L[R+1]+=L[R]>>>16,L[R]&=65535,R++}function je(L,R){this.g=L,this.h=R}function We(L,R){if(ie(R))throw Error("division by zero");if(ie(L))return new je(b,b);if(re(L))return R=We(X(L),R),new je(X(R.g),X(R.h));if(re(R))return R=We(L,X(R)),new je(X(R.g),R.h);if(30<L.g.length){if(re(L)||re(R))throw Error("slowDivide_ only works with positive integers.");for(var P=q,D=R;0>=D.l(L);)P=bt(P),D=bt(D);var M=Ke(P,1),U=Ke(D,1);for(D=Ke(D,2),P=Ke(P,2);!ie(D);){var k=U.add(D);0>=k.l(L)&&(M=M.add(P),U=k),D=Ke(D,1),P=Ke(P,1)}return R=Oe(L,M.j(R)),new je(M,R)}for(M=b;0<=L.l(R);){for(P=Math.max(1,Math.floor(L.m()/R.m())),D=Math.ceil(Math.log(P)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),U=T(P),k=U.j(R);re(k)||0<k.l(L);)P-=D,U=T(P),k=U.j(R);ie(U)&&(U=q),M=M.add(U),L=Oe(L,k)}return new je(M,L)}i.A=function(L){return We(this,L).h},i.and=function(L){for(var R=Math.max(this.g.length,L.g.length),P=[],D=0;D<R;D++)P[D]=this.i(D)&L.i(D);return new d(P,this.h&L.h)},i.or=function(L){for(var R=Math.max(this.g.length,L.g.length),P=[],D=0;D<R;D++)P[D]=this.i(D)|L.i(D);return new d(P,this.h|L.h)},i.xor=function(L){for(var R=Math.max(this.g.length,L.g.length),P=[],D=0;D<R;D++)P[D]=this.i(D)^L.i(D);return new d(P,this.h^L.h)};function bt(L){for(var R=L.g.length+1,P=[],D=0;D<R;D++)P[D]=L.i(D)<<1|L.i(D-1)>>>31;return new d(P,L.h)}function Ke(L,R){var P=R>>5;R%=32;for(var D=L.g.length-P,M=[],U=0;U<D;U++)M[U]=0<R?L.i(U+P)>>>R|L.i(U+P+1)<<32-R:L.i(U+P);return new d(M,L.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,u_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=T,d.fromString=S,Io=d}).apply(typeof Nm<"u"?Nm:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var c_,iu,h_,Oc,Uf,f_,d_,p_;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,y){return l==Array.prototype||l==Object.prototype||(l[p]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var p=0;p<l.length;++p){var y=l[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function a(l,p){if(p)e:{var y=s;l=l.split(".");for(var A=0;A<l.length-1;A++){var z=l[A];if(!(z in y))break e;y=y[z]}l=l[l.length-1],A=y[l],p=p(A),p!=A&&p!=null&&e(y,l,{configurable:!0,writable:!0,value:p})}}function c(l,p){l instanceof String&&(l+="");var y=0,A=!1,z={next:function(){if(!A&&y<l.length){var K=y++;return{value:p(K,l[K]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}a("Array.prototype.values",function(l){return l||function(){return c(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},_=this||self;function v(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function T(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function S(l,p,y){return l.call.apply(l.bind,arguments)}function b(l,p,y){if(!l)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),l.apply(p,z)}}return function(){return l.apply(p,arguments)}}function q(l,p,y){return q=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:b,q.apply(null,arguments)}function Q(l,p){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),l.apply(this,A)}}function ie(l,p){function y(){}y.prototype=p.prototype,l.aa=p.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(A,z,K){for(var le=Array(arguments.length-2),at=2;at<arguments.length;at++)le[at-2]=arguments[at];return p.prototype[z].apply(A,le)}}function re(l){const p=l.length;if(0<p){const y=Array(p);for(let A=0;A<p;A++)y[A]=l[A];return y}return[]}function X(l,p){for(let y=1;y<arguments.length;y++){const A=arguments[y];if(v(A)){const z=l.length||0,K=A.length||0;l.length=z+K;for(let le=0;le<K;le++)l[z+le]=A[le]}else l.push(A)}}class Oe{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function Le(l){return/^[\s\xa0]*$/.test(l)}function je(){var l=_.navigator;return l&&(l=l.userAgent)?l:""}function We(l){return We[" "](l),l}We[" "]=function(){};var bt=je().indexOf("Gecko")!=-1&&!(je().toLowerCase().indexOf("webkit")!=-1&&je().indexOf("Edge")==-1)&&!(je().indexOf("Trident")!=-1||je().indexOf("MSIE")!=-1)&&je().indexOf("Edge")==-1;function Ke(l,p,y){for(const A in l)p.call(y,l[A],A,l)}function L(l,p){for(const y in l)p.call(void 0,l[y],y,l)}function R(l){const p={};for(const y in l)p[y]=l[y];return p}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(l,p){let y,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(y in A)l[y]=A[y];for(let K=0;K<P.length;K++)y=P[K],Object.prototype.hasOwnProperty.call(A,y)&&(l[y]=A[y])}}function M(l){var p=1;l=l.split(":");const y=[];for(;0<p&&l.length;)y.push(l.shift()),p--;return l.length&&y.push(l.join(":")),y}function U(l){_.setTimeout(()=>{throw l},0)}function k(){var l=Se;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class xt{constructor(){this.h=this.g=null}add(p,y){const A=Ht.get();A.set(p,y),this.h?this.h.next=A:this.g=A,this.h=A}}var Ht=new Oe(()=>new un,l=>l.reset());class un{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,F=!1,Se=new xt,fe=()=>{const l=_.Promise.resolve(void 0);ot=()=>{l.then(j)}};var j=()=>{for(var l;l=k();){try{l.h.call(l.g)}catch(y){U(y)}var p=Ht;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}F=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!_.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};_.addEventListener("test",y,p),_.removeEventListener("test",y,p)}catch{}return l}();function Ue(l,p){if(we.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,A=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(bt){e:{try{We(p.nodeName);var z=!0;break e}catch{}z=!1}z||(p=null)}}else y=="mouseover"?p=l.fromElement:y=="mouseout"&&(p=l.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:ae[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ue.aa.h.call(this)}}ie(Ue,we);var ae={2:"touch",3:"pen",4:"mouse"};Ue.prototype.h=function(){Ue.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ge="closure_listenable_"+(1e6*Math.random()|0),et=0;function vt(l,p,y,A,z){this.listener=l,this.proxy=null,this.src=p,this.type=y,this.capture=!!A,this.ha=z,this.key=++et,this.da=this.fa=!1}function Wt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Vn(l){this.src=l,this.g={},this.h=0}Vn.prototype.add=function(l,p,y,A,z){var K=l.toString();l=this.g[K],l||(l=this.g[K]=[],this.h++);var le=Zn(l,p,A,z);return-1<le?(p=l[le],y||(p.fa=!1)):(p=new vt(p,this.src,K,!!A,z),p.fa=y,l.push(p)),p};function rs(l,p){var y=p.type;if(y in l.g){var A=l.g[y],z=Array.prototype.indexOf.call(A,p,void 0),K;(K=0<=z)&&Array.prototype.splice.call(A,z,1),K&&(Wt(p),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Zn(l,p,y,A){for(var z=0;z<l.length;++z){var K=l[z];if(!K.da&&K.listener==p&&K.capture==!!y&&K.ha==A)return z}return-1}var er="closure_lm_"+(1e6*Math.random()|0),Vs={};function No(l,p,y,A,z){if(Array.isArray(p)){for(var K=0;K<p.length;K++)No(l,p[K],y,A,z);return null}return y=ai(y),l&&l[Ge]?l.K(p,y,T(A)?!!A.capture:!1,z):Vo(l,p,y,!1,A,z)}function Vo(l,p,y,A,z,K){if(!p)throw Error("Invalid event type");var le=T(z)?!!z.capture:!!z,at=On(l);if(at||(l[er]=at=new Vn(l)),y=at.add(p,y,A,le,K),y.proxy)return y;if(A=Pa(),y.proxy=A,A.src=l,A.listener=y,l.addEventListener)xe||(z=le),z===void 0&&(z=!1),l.addEventListener(p.toString(),A,z);else if(l.attachEvent)l.attachEvent(oi(p.toString()),A);else if(l.addListener&&l.removeListener)l.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Pa(){function l(y){return p.call(l.src,l.listener,y)}const p=Vi;return l}function Os(l,p,y,A,z){if(Array.isArray(p))for(var K=0;K<p.length;K++)Os(l,p[K],y,A,z);else A=T(A)?!!A.capture:!!A,y=ai(y),l&&l[Ge]?(l=l.i,p=String(p).toString(),p in l.g&&(K=l.g[p],y=Zn(K,y,A,z),-1<y&&(Wt(K[y]),Array.prototype.splice.call(K,y,1),K.length==0&&(delete l.g[p],l.h--)))):l&&(l=On(l))&&(p=l.g[p.toString()],l=-1,p&&(l=Zn(p,y,A,z)),(y=-1<l?p[l]:null)&&si(y))}function si(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[Ge])rs(p.i,l);else{var y=l.type,A=l.proxy;p.removeEventListener?p.removeEventListener(y,A,l.capture):p.detachEvent?p.detachEvent(oi(y),A):p.addListener&&p.removeListener&&p.removeListener(A),(y=On(p))?(rs(y,l),y.h==0&&(y.src=null,p[er]=null)):Wt(l)}}}function oi(l){return l in Vs?Vs[l]:Vs[l]="on"+l}function Vi(l,p){if(l.da)l=!0;else{p=new Ue(p,this);var y=l.listener,A=l.ha||l.src;l.fa&&si(l),l=y.call(A,p)}return l}function On(l){return l=l[er],l instanceof Vn?l:null}var is="__closure_events_fn_"+(1e9*Math.random()>>>0);function ai(l){return typeof l=="function"?l:(l[is]||(l[is]=function(p){return l.handleEvent(p)}),l[is])}function Tt(){G.call(this),this.i=new Vn(this),this.M=this,this.F=null}ie(Tt,G),Tt.prototype[Ge]=!0,Tt.prototype.removeEventListener=function(l,p,y,A){Os(this,l,p,y,A)};function It(l,p){var y,A=l.F;if(A)for(y=[];A;A=A.F)y.push(A);if(l=l.M,A=p.type||p,typeof p=="string")p=new we(p,l);else if(p instanceof we)p.target=p.target||l;else{var z=p;p=new we(A,l),D(p,z)}if(z=!0,y)for(var K=y.length-1;0<=K;K--){var le=p.g=y[K];z=tr(le,A,!0,p)&&z}if(le=p.g=l,z=tr(le,A,!0,p)&&z,z=tr(le,A,!1,p)&&z,y)for(K=0;K<y.length;K++)le=p.g=y[K],z=tr(le,A,!1,p)&&z}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var y=l.g[p],A=0;A<y.length;A++)Wt(y[A]);delete l.g[p],l.h--}}this.F=null},Tt.prototype.K=function(l,p,y,A){return this.i.add(String(l),p,!1,y,A)},Tt.prototype.L=function(l,p,y,A){return this.i.add(String(l),p,!0,y,A)};function tr(l,p,y,A){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var z=!0,K=0;K<p.length;++K){var le=p[K];if(le&&!le.da&&le.capture==y){var at=le.listener,lt=le.ha||le.src;le.fa&&rs(l.i,le),z=at.call(lt,A)!==!1&&z}}return z&&!A.defaultPrevented}function Oo(l,p,y){if(typeof l=="function")y&&(l=q(l,y));else if(l&&typeof l.handleEvent=="function")l=q(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:_.setTimeout(l,p||0)}function Mr(l){l.g=Oo(()=>{l.g=null,l.i&&(l.i=!1,Mr(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class ss extends G{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Mr(this)}N(){super.N(),this.g&&(_.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function os(l){G.call(this),this.h=l,this.g={}}ie(os,G);var Lo=[];function Mo(l){Ke(l.g,function(p,y){this.g.hasOwnProperty(y)&&si(p)},l),l.g={}}os.prototype.N=function(){os.aa.N.call(this),Mo(this)},os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fo=_.JSON.stringify,jo=_.JSON.parse,Ls=class{stringify(l){return _.JSON.stringify(l,void 0)}parse(l){return _.JSON.parse(l,void 0)}};function Fr(){}Fr.prototype.h=null;function as(l){return l.h||(l.h=l.i())}function ls(){}var nr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jr(){we.call(this,"d")}ie(jr,we);function Ms(){we.call(this,"c")}ie(Ms,we);var Ur={},zr=null;function Er(){return zr=zr||new Tt}Ur.La="serverreachability";function Uo(l){we.call(this,Ur.La,l)}ie(Uo,we);function li(l){const p=Er();It(p,new Uo(p))}Ur.STAT_EVENT="statevent";function zo(l,p){we.call(this,Ur.STAT_EVENT,l),this.stat=p}ie(zo,we);function Dt(l){const p=Er();It(p,new zo(p,l))}Ur.Ma="timingevent";function Fs(l,p){we.call(this,Ur.Ma,l),this.size=p}ie(Fs,we);function Ln(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return _.setTimeout(function(){l()},p)}function rr(){this.g=!0}rr.prototype.xa=function(){this.g=!1};function $r(l,p,y,A,z,K){l.info(function(){if(l.g)if(K)for(var le="",at=K.split("&"),lt=0;lt<at.length;lt++){var Qe=at[lt].split("=");if(1<Qe.length){var $t=Qe[0];Qe=Qe[1];var Vt=$t.split("_");le=2<=Vt.length&&Vt[1]=="type"?le+($t+"="+Qe+"&"):le+($t+"=redacted&")}}else le=null;else le=K;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+p+`
`+y+`
`+le})}function js(l,p,y,A,z,K,le){l.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+p+`
`+y+`
`+K+" "+le})}function Mn(l,p,y,A){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+vl(l,y)+(A?" "+A:"")})}function $o(l,p){l.info(function(){return"TIMEOUT: "+p})}rr.prototype.info=function(){};function vl(l,p){if(!l.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var A=y[l];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var K=z[0];if(K!="noop"&&K!="stop"&&K!="close")for(var le=1;le<z.length;le++)z[le]=""}}}}return Fo(y)}catch{return p}}var Tr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Kt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},At;function jt(){}ie(jt,Fr),jt.prototype.g=function(){return new XMLHttpRequest},jt.prototype.i=function(){return{}},At=new jt;function Et(l,p,y,A){this.j=l,this.i=p,this.l=y,this.R=A||1,this.U=new os(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new us}function us(){this.i=null,this.g="",this.h=!1}var Br={},ir={};function Ir(l,p,y){l.L=1,l.v=zn(zt(p)),l.m=y,l.P=!0,Us(l,null)}function Us(l,p){l.F=Date.now(),mt(l),l.A=zt(l.v);var y=l.A,A=l.R;Array.isArray(A)||(A=[String(A)]),pi(y.i,"t",A),l.C=0,y=l.j.J,l.h=new us,l.g=Jo(l.j,y?p:null,!l.m),0<l.O&&(l.M=new ss(q(l.Y,l,l.g),l.O)),p=l.U,y=l.g,A=l.ca;var z="readystatechange";Array.isArray(z)||(z&&(Lo[0]=z.toString()),z=Lo);for(var K=0;K<z.length;K++){var le=No(y,z[K],A||p.handleEvent,!1,p.h||p);if(!le)break;p.g[le.key]=le}p=l.H?R(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),li(),$r(l.i,l.u,l.A,l.l,l.R,l.m)}Et.prototype.ca=function(l){l=l.target;const p=this.M;p&&mn(l)==3?p.j():this.Y(l)},Et.prototype.Y=function(l){try{if(l==this.g)e:{const Vt=mn(this.g);var p=this.g.Ba();const fr=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||Qs(this.g)))){this.J||Vt!=4||p==7||(p==8||0>=fr?li(3):li(2)),ui(this);var y=this.g.Z();this.X=y;t:if(zs(this)){var A=Qs(this.g);l="";var z=A.length,K=mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fn(this),ci(this);var le="";break t}this.h.i=new _.TextDecoder}for(p=0;p<z;p++)this.h.h=!0,l+=this.h.i.decode(A[p],{stream:!(K&&p==z-1)});A.length=0,this.h.g+=l,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=y==200,js(this.i,this.u,this.A,this.l,this.R,Vt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var at,lt=this.g;if((at=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Le(at)){var Qe=at;break t}}Qe=null}if(y=Qe)Mn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bs(this,y);else{this.o=!1,this.s=3,Dt(12),Fn(this),ci(this);break e}}if(this.P){y=!0;let Hn;for(;!this.J&&this.C<le.length;)if(Hn=Oi(this,le),Hn==ir){Vt==4&&(this.s=4,Dt(14),y=!1),Mn(this.i,this.l,null,"[Incomplete Response]");break}else if(Hn==Br){this.s=4,Dt(15),Mn(this.i,this.l,le,"[Invalid Chunk]"),y=!1;break}else Mn(this.i,this.l,Hn,null),Bs(this,Hn);if(zs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||le.length!=0||this.h.h||(this.s=1,Dt(16),y=!1),this.o=this.o&&y,!y)Mn(this.i,this.l,le,"[Invalid Chunked Response]"),Fn(this),ci(this);else if(0<le.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Pr($t),$t.M=!0,Dt(11))}}else Mn(this.i,this.l,le,null),Bs(this,le);Vt==4&&Fn(this),this.o&&!this.J&&(Vt==4?gs(this.j,this):(this.o=!1,mt(this)))}else ds(this.g),y==400&&0<le.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),Fn(this),ci(this)}}}catch{}finally{}};function zs(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Oi(l,p){var y=l.C,A=p.indexOf(`
`,y);return A==-1?ir:(y=Number(p.substring(y,A)),isNaN(y)?Br:(A+=1,A+y>p.length?ir:(p=p.slice(A,A+y),l.C=A+y,p)))}Et.prototype.cancel=function(){this.J=!0,Fn(this)};function mt(l){l.S=Date.now()+l.I,$s(l,l.I)}function $s(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Ln(q(l.ba,l),p)}function ui(l){l.B&&(_.clearTimeout(l.B),l.B=null)}Et.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?($o(this.i,this.A),this.L!=2&&(li(),Dt(17)),Fn(this),this.s=2,ci(this)):$s(this,this.S-l)};function ci(l){l.j.G==0||l.J||gs(l.j,l)}function Fn(l){ui(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,Mo(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function Bs(l,p){try{var y=l.j;if(y.G!=0&&(y.g==l||cn(y.h,l))){if(!l.K&&cn(y.h,l)&&y.G==3){try{var A=y.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)Zs(y),Rr(y);else break e;ms(y),Dt(18)}}else y.za=z[1],0<y.za-y.T&&37500>z[2]&&y.F&&y.v==0&&!y.C&&(y.C=Ln(q(y.Za,y),6e3));if(1>=qo(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else _i(y,11)}else if((l.K||y.g==l)&&Zs(y),!Le(p))for(z=y.Da.g.parse(p),p=0;p<z.length;p++){let Qe=z[p];if(y.T=Qe[0],Qe=Qe[1],y.G==2)if(Qe[0]=="c"){y.K=Qe[1],y.ia=Qe[2];const $t=Qe[3];$t!=null&&(y.la=$t,y.j.info("VER="+y.la));const Vt=Qe[4];Vt!=null&&(y.Aa=Vt,y.j.info("SVER="+y.Aa));const fr=Qe[5];fr!=null&&typeof fr=="number"&&0<fr&&(A=1.5*fr,y.L=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const Hn=l.g;if(Hn){const ji=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ji){var K=A.h;K.g||ji.indexOf("spdy")==-1&&ji.indexOf("quic")==-1&&ji.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(qs(K,K.h),K.h=null))}if(A.D){const yi=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;yi&&(A.ya=yi,ft(A.I,A.D,yi))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),A=y;var le=l;if(A.qa=Va(A,A.J?A.ia:null,A.W),le.K){Ho(A.h,le);var at=le,lt=A.L;lt&&(at.I=lt),at.B&&(ui(at),mt(at)),A.g=le}else Fi(A);0<y.i.length&&kr(y)}else Qe[0]!="stop"&&Qe[0]!="close"||_i(y,7);else y.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?_i(y,7):nn(y):Qe[0]!="noop"&&y.l&&y.l.ta(Qe),y.v=0)}}li(4)}catch{}}var Bo=class{constructor(l,p){this.g=l,this.map=p}};function Li(l){this.l=l||10,_.PerformanceNavigationTiming?(l=_.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(_.chrome&&_.chrome.loadTimes&&_.chrome.loadTimes()&&_.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tn(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function qo(l){return l.h?1:l.g?l.g.size:0}function cn(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function qs(l,p){l.g?l.g.add(p):l.h=p}function Ho(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}Li.prototype.cancel=function(){if(this.i=jn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function jn(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const y of l.g.values())p=p.concat(y.D);return p}return re(l.i)}function Qt(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(v(l)){for(var p=[],y=l.length,A=0;A<y;A++)p.push(l[A]);return p}p=[],y=0;for(A in l)p[y++]=l[A];return p}function sr(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(v(l)||typeof l=="string"){var p=[];l=l.length;for(var y=0;y<l;y++)p.push(y);return p}p=[],y=0;for(const A in l)p[y++]=A;return p}}}function Ut(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(v(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var y=sr(l),A=Qt(l),z=A.length,K=0;K<z;K++)p.call(void 0,A[K],y&&y[K],l)}var hi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wo(l,p){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var A=l[y].indexOf("="),z=null;if(0<=A){var K=l[y].substring(0,A);z=l[y].substring(A+1)}else K=l[y];p(K,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Gt(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Gt){this.h=l.h,qr(this,l.j),this.o=l.o,this.g=l.g,Un(this,l.s),this.l=l.l;var p=l.i,y=new ar;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),Hr(this,y),this.m=l.m}else l&&(p=String(l).match(hi))?(this.h=!1,qr(this,p[1]||"",!0),this.o=Be(p[2]||""),this.g=Be(p[3]||"",!0),Un(this,p[4]),this.l=Be(p[5]||"",!0),Hr(this,p[6]||"",!0),this.m=Be(p[7]||"")):(this.h=!1,this.i=new ar(null,this.h))}Gt.prototype.toString=function(){var l=[],p=this.j;p&&l.push(fi(p,Hs,!0),":");var y=this.g;return(y||p=="file")&&(l.push("//"),(p=this.o)&&l.push(fi(p,Hs,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(fi(y,y.charAt(0)=="/"?cs:Ar,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",fi(y,di)),l.join("")};function zt(l){return new Gt(l)}function qr(l,p,y){l.j=y?Be(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function Un(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function Hr(l,p,y){p instanceof ar?(l.i=p,Wr(l.i,l.h)):(y||(p=fi(p,Ko)),l.i=new ar(p,l.h))}function ft(l,p,y){l.i.set(p,y)}function zn(l){return ft(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Be(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function fi(l,p,y){return typeof l=="string"?(l=encodeURI(l).replace(p,or),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function or(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Hs=/[#\/\?@]/g,Ar=/[#\?:]/g,cs=/[#\?]/g,Ko=/[#\?@]/g,di=/#/g;function ar(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Nt(l){l.g||(l.g=new Map,l.h=0,l.i&&Wo(l.i,function(p,y){l.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}i=ar.prototype,i.add=function(l,p){Nt(this),this.i=null,l=en(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(p),this.h+=1,this};function lr(l,p){Nt(l),p=en(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function ur(l,p){return Nt(l),p=en(l,p),l.g.has(p)}i.forEach=function(l,p){Nt(this),this.g.forEach(function(y,A){y.forEach(function(z){l.call(p,z,A,this)},this)},this)},i.na=function(){Nt(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let A=0;A<p.length;A++){const z=l[A];for(let K=0;K<z.length;K++)y.push(p[A])}return y},i.V=function(l){Nt(this);let p=[];if(typeof l=="string")ur(this,l)&&(p=p.concat(this.g.get(en(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)p=p.concat(l[y])}return p},i.set=function(l,p){return Nt(this),this.i=null,l=en(this,l),ur(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},i.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function pi(l,p,y){lr(l,p),0<y.length&&(l.i=null,l.g.set(en(l,p),re(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var A=p[y];const K=encodeURIComponent(String(A)),le=this.V(A);for(A=0;A<le.length;A++){var z=K;le[A]!==""&&(z+="="+encodeURIComponent(String(le[A]))),l.push(z)}}return this.i=l.join("&")};function en(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function Wr(l,p){p&&!l.j&&(Nt(l),l.i=null,l.g.forEach(function(y,A){var z=A.toLowerCase();A!=z&&(lr(this,A),pi(this,z,y))},l)),l.j=p}function xa(l,p){const y=new rr;if(_.Image){const A=new Image;A.onload=Q(tn,y,"TestLoadImage: loaded",!0,p,A),A.onerror=Q(tn,y,"TestLoadImage: error",!1,p,A),A.onabort=Q(tn,y,"TestLoadImage: abort",!1,p,A),A.ontimeout=Q(tn,y,"TestLoadImage: timeout",!1,p,A),_.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=l}else p(!1)}function Ws(l,p){const y=new rr,A=new AbortController,z=setTimeout(()=>{A.abort(),tn(y,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:A.signal}).then(K=>{clearTimeout(z),K.ok?tn(y,"TestPingServer: ok",!0,p):tn(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(z),tn(y,"TestPingServer: error",!1,p)})}function tn(l,p,y,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(y)}catch{}}function Qo(){this.g=new Ls}function ba(l,p,y){const A=y||"";try{Ut(l,function(z,K){let le=z;T(z)&&(le=Fo(z)),p.push(A+K+"="+encodeURIComponent(le))})}catch(z){throw p.push(A+"type="+encodeURIComponent("_badmap")),z}}function cr(l){this.l=l.Ub||null,this.j=l.eb||!1}ie(cr,Fr),cr.prototype.g=function(){return new hs(this.l,this.j)},cr.prototype.i=function(l){return function(){return l}}({});function hs(l,p){Tt.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}ie(hs,Tt),i=hs.prototype,i.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,Bn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||_).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof _.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Go(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Go(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?$n(this):Bn(this),this.readyState==3&&Go(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,$n(this))},i.Qa=function(l){this.g&&(this.response=l,$n(this))},i.ga=function(){this.g&&$n(this)};function $n(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Bn(l)}i.setRequestHeader=function(l,p){this.u.append(l,p)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=p.next();return l.join(`\r
`)};function Bn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Sr(l){let p="";return Ke(l,function(y,A){p+=A,p+=":",p+=y,p+=`\r
`}),p}function mi(l,p,y){e:{for(A in y){var A=!1;break e}A=!0}A||(y=Sr(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):ft(l,p,y))}function dt(l){Tt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}ie(dt,Tt);var Yo=/^https?$/i,Ks=["POST","PUT"];i=dt.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,p,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():At.g(),this.v=this.o?as(this.o):as(At),this.g.onreadystatechange=q(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(K){Mi(this,K);return}if(l=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)y.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())y.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(K=>K.toLowerCase()=="content-type"),z=_.FormData&&l instanceof _.FormData,!(0<=Array.prototype.indexOf.call(Ks,p,void 0))||A||z||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,le]of y)this.g.setRequestHeader(K,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fs(this),this.u=!0,this.g.send(l),this.u=!1}catch(K){Mi(this,K)}};function Mi(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,Cr(l),In(l)}function Cr(l){l.A||(l.A=!0,It(l,"complete"),It(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,It(this,"complete"),It(this,"abort"),In(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),In(this,!0)),dt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Xo(this):this.bb())},i.bb=function(){Xo(this)};function Xo(l){if(l.h&&typeof d<"u"&&(!l.v[1]||mn(l)!=4||l.Z()!=2)){if(l.u&&mn(l)==4)Oo(l.Ea,0,l);else if(It(l,"readystatechange"),mn(l)==4){l.h=!1;try{const le=l.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var A;if(A=le===0){var z=String(l.D).match(hi)[1]||null;!z&&_.self&&_.self.location&&(z=_.self.location.protocol.slice(0,-1)),A=!Yo.test(z?z.toLowerCase():"")}y=A}if(y)It(l,"complete"),It(l,"success");else{l.m=6;try{var K=2<mn(l)?l.g.statusText:""}catch{K=""}l.l=K+" ["+l.Z()+"]",Cr(l)}}finally{In(l)}}}}function In(l,p){if(l.g){fs(l);const y=l.g,A=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||It(l,"ready");try{y.onreadystatechange=A}catch{}}}function fs(l){l.I&&(_.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function mn(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),jo(p)}};function Qs(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function ds(l){const p={};l=(l.g&&2<=mn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<l.length;A++){if(Le(l[A]))continue;var y=M(l[A]);const z=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const K=p[z]||[];p[z]=K,K.push(y)}L(p,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hr(l,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||p}function Gs(l){this.Aa=0,this.i=[],this.j=new rr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hr("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hr("baseRetryDelayMs",5e3,l),this.cb=hr("retryDelaySeedMs",1e4,l),this.Wa=hr("forwardChannelMaxRetries",2,l),this.wa=hr("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Li(l&&l.concurrentRequestLimit),this.Da=new Qo,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Gs.prototype,i.la=8,i.G=1,i.connect=function(l,p,y,A){Dt(0),this.W=l,this.H=p||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.I=Va(this,null,this.W),kr(this)};function nn(l){if(ps(l),l.G==3){var p=l.U++,y=zt(l.I);if(ft(y,"SID",l.K),ft(y,"RID",p),ft(y,"TYPE","terminate"),gi(l,y),p=new Et(l,l.j,p),p.L=2,p.v=zn(zt(y)),y=!1,_.navigator&&_.navigator.sendBeacon)try{y=_.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&_.Image&&(new Image().src=p.v,y=!0),y||(p.g=Jo(p.j,null),p.g.ea(p.v)),p.F=Date.now(),mt(p)}Na(l)}function Rr(l){l.g&&(Pr(l),l.g.cancel(),l.g=null)}function ps(l){Rr(l),l.u&&(_.clearTimeout(l.u),l.u=null),Zs(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&_.clearTimeout(l.s),l.s=null)}function kr(l){if(!Tn(l.h)&&!l.s){l.s=!0;var p=l.Ga;ot||fe(),F||(ot(),F=!0),Se.add(p,l),l.B=0}}function Ys(l,p){return qo(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Ln(q(l.Ga,l,p),Da(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const z=new Et(this,this.j,l);let K=this.o;if(this.S&&(K?(K=R(K),D(K,this.S)):K=this.S),this.m!==null||this.O||(z.H=K,K=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=Kr(this,z,p),y=zt(this.I),ft(y,"RID",l),ft(y,"CVER",22),this.D&&ft(y,"X-HTTP-Session-Id",this.D),gi(this,y),K&&(this.O?p="headers="+encodeURIComponent(String(Sr(K)))+"&"+p:this.m&&mi(y,this.m,K)),qs(this.h,z),this.Ua&&ft(y,"TYPE","init"),this.P?(ft(y,"$req",p),ft(y,"SID","null"),z.T=!0,Ir(z,y,null)):Ir(z,y,p),this.G=2}}else this.G==3&&(l?Xs(this,l):this.i.length==0||Tn(this.h)||Xs(this))};function Xs(l,p){var y;p?y=p.l:y=l.U++;const A=zt(l.I);ft(A,"SID",l.K),ft(A,"RID",y),ft(A,"AID",l.T),gi(l,A),l.m&&l.o&&mi(A,l.m,l.o),y=new Et(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),p&&(l.i=p.D.concat(l.i)),p=Kr(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),qs(l.h,y),Ir(y,A,p)}function gi(l,p){l.H&&Ke(l.H,function(y,A){ft(p,A,y)}),l.l&&Ut({},function(y,A){ft(p,A,y)})}function Kr(l,p,y){y=Math.min(l.i.length,y);var A=l.l?q(l.l.Na,l.l,l):null;e:{var z=l.i;let K=-1;for(;;){const le=["count="+y];K==-1?0<y?(K=z[0].g,le.push("ofs="+K)):K=0:le.push("ofs="+K);let at=!0;for(let lt=0;lt<y;lt++){let Qe=z[lt].g;const $t=z[lt].map;if(Qe-=K,0>Qe)K=Math.max(0,z[lt].g-100),at=!1;else try{ba($t,le,"req"+Qe+"_")}catch{A&&A($t)}}if(at){A=le.join("&");break e}}}return l=l.i.splice(0,y),p.D=l,A}function Fi(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;ot||fe(),F||(ot(),F=!0),Se.add(p,l),l.v=0}}function ms(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Ln(q(l.Fa,l),Da(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Js(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Ln(q(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),Rr(this),Js(this))};function Pr(l){l.A!=null&&(_.clearTimeout(l.A),l.A=null)}function Js(l){l.g=new Et(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=zt(l.qa);ft(p,"RID","rpc"),ft(p,"SID",l.K),ft(p,"AID",l.T),ft(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&ft(p,"TO",l.ja),ft(p,"TYPE","xmlhttp"),gi(l,p),l.m&&l.o&&mi(p,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=zn(zt(p)),y.m=null,y.P=!0,Us(y,l)}i.Za=function(){this.C!=null&&(this.C=null,Rr(this),ms(this),Dt(19))};function Zs(l){l.C!=null&&(_.clearTimeout(l.C),l.C=null)}function gs(l,p){var y=null;if(l.g==p){Zs(l),Pr(l),l.g=null;var A=2}else if(cn(l.h,p))y=p.D,Ho(l.h,p),A=1;else return;if(l.G!=0){if(p.o)if(A==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var z=l.B;A=Er(),It(A,new Fs(A,y)),kr(l)}else Fi(l);else if(z=p.s,z==3||z==0&&0<p.X||!(A==1&&Ys(l,p)||A==2&&ms(l)))switch(y&&0<y.length&&(p=l.h,p.i=p.i.concat(y)),z){case 1:_i(l,5);break;case 4:_i(l,10);break;case 3:_i(l,6);break;default:_i(l,2)}}}function Da(l,p){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*p}function _i(l,p){if(l.j.info("Error code "+p),p==2){var y=q(l.fb,l),A=l.Xa;const z=!A;A=new Gt(A||"//www.google.com/images/cleardot.gif"),_.location&&_.location.protocol=="http"||qr(A,"https"),zn(A),z?xa(A.toString(),y):Ws(A.toString(),y)}else Dt(2);l.G=0,l.l&&l.l.sa(p),Na(l),ps(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Na(l){if(l.G=0,l.ka=[],l.l){const p=jn(l.h);(p.length!=0||l.i.length!=0)&&(X(l.ka,p),X(l.ka,l.i),l.h.i.length=0,re(l.i),l.i.length=0),l.l.ra()}}function Va(l,p,y){var A=y instanceof Gt?zt(y):new Gt(y);if(A.g!="")p&&(A.g=p+"."+A.g),Un(A,A.s);else{var z=_.location;A=z.protocol,p=p?p+"."+z.hostname:z.hostname,z=+z.port;var K=new Gt(null);A&&qr(K,A),p&&(K.g=p),z&&Un(K,z),y&&(K.l=y),A=K}return y=l.D,p=l.ya,y&&p&&ft(A,y,p),ft(A,"VER",l.la),gi(l,A),A}function Jo(l,p,y){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new dt(new cr({eb:y})):new dt(l.pa),p.Ha(l.J),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function eo(){}i=eo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function to(){}to.prototype.g=function(l,p){return new Mt(l,p)};function Mt(l,p){Tt.call(this),this.g=new Gs(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!Le(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!Le(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new qn(this)}ie(Mt,Tt),Mt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){nn(this.g)},Mt.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=Fo(l),l=y);p.i.push(new Bo(p.Ya++,l)),p.G==3&&kr(p)},Mt.prototype.N=function(){this.g.l=null,delete this.j,nn(this.g),delete this.g,Mt.aa.N.call(this)};function Qr(l){jr.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const y in p){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}ie(Qr,jr);function Oa(){Ms.call(this),this.status=1}ie(Oa,Ms);function qn(l){this.g=l}ie(qn,eo),qn.prototype.ua=function(){It(this.g,"a")},qn.prototype.ta=function(l){It(this.g,new Qr(l))},qn.prototype.sa=function(l){It(this.g,new Oa)},qn.prototype.ra=function(){It(this.g,"b")},to.prototype.createWebChannel=to.prototype.g,Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,p_=function(){return new to},d_=function(){return Er()},f_=Ur,Uf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,Oc=Tr,Kt.COMPLETE="complete",h_=Kt,ls.EventType=nr,nr.OPEN="a",nr.CLOSE="b",nr.ERROR="c",nr.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,iu=ls,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,c_=dt}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});const Vm="@firebase/firestore",Om="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pl="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new od("@firebase/firestore");function nl(){return wa.logLevel}function me(i,...e){if(wa.logLevel<=rt.DEBUG){const n=e.map(ld);wa.debug(`Firestore (${pl}): ${i}`,...n)}}function Ds(i,...e){if(wa.logLevel<=rt.ERROR){const n=e.map(ld);wa.error(`Firestore (${pl}): ${i}`,...n)}}function al(i,...e){if(wa.logLevel<=rt.WARN){const n=e.map(ld);wa.warn(`Firestore (${pl}): ${i}`,...n)}}function ld(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(i="Unexpected state"){const e=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: `+i;throw Ds(e),new Error(e)}function pt(i,e){i||be()}function Fe(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Do{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dn.UNAUTHENTICATED))}shutdown(){}}class jE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class UE{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){pt(this.o===void 0);let s=this.i;const a=v=>this.i!==s?(s=this.i,n(v)):Promise.resolve();let c=new va;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new va,e.enqueueRetryable(()=>a(this.currentUser))};const d=()=>{const v=c;e.enqueueRetryable(async()=>{await v.promise,await a(this.currentUser)})},_=v=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>_(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?_(v):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new va)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(pt(typeof s.accessToken=="string"),new m_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pt(e===null||typeof e=="string"),new Dn(e)}}class zE{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class $E{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new zE(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BE{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,AE(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){pt(this.o===void 0);const s=c=>{c.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,me("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Lm(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(pt(typeof n.token=="string"),this.R=n.token,new Lm(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=qE(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%62))}return s}}function Ze(i,e){return i<e?-1:i>e?1:0}function ll(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm=-62135596800,Fm=1e6;class an{static now(){return an.fromMillis(Date.now())}static fromDate(e){return an.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Fm);return new an(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Mm)throw new ve(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fm}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Mm;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new an(0,0))}static max(){return new Ve(new an(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="__name__";class Ji{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(),s===void 0?s=e.length-n:s>e.length-n&&be(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ji.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ji?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=Ji.compareSegments(e.get(a),n.get(a));if(c!==0)return c}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=Ji.isNumericId(e),a=Ji.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Ji.extractNumericId(e).compare(Ji.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Io.fromString(e.substring(4,e.length-2))}}class Pt extends Ji{construct(e,n,s){return new Pt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ve(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Pt(n)}static emptyPath(){return new Pt([])}}const HE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends Ji{construct(e,n,s){return new wn(e,n,s)}static isValidIdentifier(e){return HE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jm}static keyField(){return new wn([jm])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new ve(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;a<e.length;){const _=e[a];if(_==="\\"){if(a+1===e.length)throw new ve(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[a+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ve(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,a+=2}else _==="`"?(d=!d,a++):_!=="."||d?(s+=_,a++):(c(),a++)}if(c(),d)throw new ve(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(n)}static emptyPath(){return new wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(Pt.fromString(e))}static fromName(e){return new Ce(Pt.fromString(e).popFirst(5))}static empty(){return new Ce(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new Pt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=-1;function WE(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=Ve.fromTimestamp(s===1e9?new an(n+1,0):new an(n,s));return new Co(a,Ce.empty(),e)}function KE(i){return new Co(i.readTime,i.key,gu)}class Co{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Co(Ve.min(),Ce.empty(),gu)}static max(){return new Co(Ve.max(),Ce.empty(),gu)}}function QE(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(i.documentKey,e.documentKey),n!==0?n:Ze(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(i){if(i.code!==Z.FAILED_PRECONDITION||i.message!==GE)throw i;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let a=0,c=0,d=!1;e.forEach(_=>{++a,_.next(()=>{++c,d&&c===a&&n()},v=>s(v))}),d=!0,c===a&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(a=>a?J.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new J((s,a)=>{const c=e.length,d=new Array(c);let _=0;for(let v=0;v<c;v++){const T=v;n(e[T]).next(S=>{d[T]=S,++_,_===c&&s(d)},S=>a(S))}})}static doWhile(e,n){return new J((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function XE(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gl(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ih.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=-1;function sh(i){return i==null}function qc(i){return i===0&&1/i==-1/0}function JE(i){return typeof i=="number"&&Number.isInteger(i)&&!qc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="";function ZE(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Um(e)),e=e0(i.get(n),e);return Um(e)}function e0(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case __:n+="";break;default:n+=c}}return n}function Um(i){return i+__+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Aa(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function y_(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new Lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xc(this.root,e,this.comparator,!0)}}class xc{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??vn.RED,this.left=a??vn.EMPTY,this.right=c??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new vn(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return vn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,s,a,c){return this}insert(e,n,s){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $m(this.data.getIterator())}getIteratorFrom(e){return new $m(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ln(this.comparator);return n.data=e,n}}class $m{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new Di([])}unionWith(e){let n=new ln(wn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Di(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new v_("Invalid base64 string: "+c):c}}(e);return new En(n)}static fromUint8Array(e){const n=function(a){let c="";for(let d=0;d<a.length;++d)c+=String.fromCharCode(a[d]);return c}(e);return new En(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const t0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ro(i){if(pt(!!i),typeof i=="string"){let e=0;const n=t0.exec(i);if(pt(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:qt(i.seconds),nanos:qt(i.nanos)}}function qt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ko(i){return typeof i=="string"?En.fromBase64String(i):En.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="server_timestamp",E_="__type__",T_="__previous_value__",I_="__local_write_time__";function cd(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[E_])===null||n===void 0?void 0:n.stringValue)===w_}function oh(i){const e=i.mapValue.fields[T_];return cd(e)?oh(e):e}function _u(i){const e=Ro(i.mapValue.fields[I_].timestampValue);return new an(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n,s,a,c,d,_,v,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=_,this.longPollingOptions=v,this.useFetchStreams=T}}const Hc="(default)";class yu{constructor(e,n){this.projectId=e,this.database=n||Hc}static empty(){return new yu("","")}get isDefaultDatabase(){return this.database===Hc}isEqual(e){return e instanceof yu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="__type__",r0="__max__",bc={mapValue:{}},S_="__vector__",Wc="value";function Po(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?cd(i)?4:s0(i)?9007199254740991:i0(i)?10:11:be()}function ns(i,e){if(i===e)return!0;const n=Po(i);if(n!==Po(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return _u(i).isEqual(_u(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const d=Ro(a.timestampValue),_=Ro(c.timestampValue);return d.seconds===_.seconds&&d.nanos===_.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return ko(a.bytesValue).isEqual(ko(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return qt(a.geoPointValue.latitude)===qt(c.geoPointValue.latitude)&&qt(a.geoPointValue.longitude)===qt(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return qt(a.integerValue)===qt(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const d=qt(a.doubleValue),_=qt(c.doubleValue);return d===_?qc(d)===qc(_):isNaN(d)&&isNaN(_)}return!1}(i,e);case 9:return ll(i.arrayValue.values||[],e.arrayValue.values||[],ns);case 10:case 11:return function(a,c){const d=a.mapValue.fields||{},_=c.mapValue.fields||{};if(zm(d)!==zm(_))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(_[v]===void 0||!ns(d[v],_[v])))return!1;return!0}(i,e);default:return be()}}function vu(i,e){return(i.values||[]).find(n=>ns(n,e))!==void 0}function ul(i,e){if(i===e)return 0;const n=Po(i),s=Po(e);if(n!==s)return Ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(i.booleanValue,e.booleanValue);case 2:return function(c,d){const _=qt(c.integerValue||c.doubleValue),v=qt(d.integerValue||d.doubleValue);return _<v?-1:_>v?1:_===v?0:isNaN(_)?isNaN(v)?0:-1:1}(i,e);case 3:return Bm(i.timestampValue,e.timestampValue);case 4:return Bm(_u(i),_u(e));case 5:return Ze(i.stringValue,e.stringValue);case 6:return function(c,d){const _=ko(c),v=ko(d);return _.compareTo(v)}(i.bytesValue,e.bytesValue);case 7:return function(c,d){const _=c.split("/"),v=d.split("/");for(let T=0;T<_.length&&T<v.length;T++){const S=Ze(_[T],v[T]);if(S!==0)return S}return Ze(_.length,v.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,d){const _=Ze(qt(c.latitude),qt(d.latitude));return _!==0?_:Ze(qt(c.longitude),qt(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return qm(i.arrayValue,e.arrayValue);case 10:return function(c,d){var _,v,T,S;const b=c.fields||{},q=d.fields||{},Q=(_=b[Wc])===null||_===void 0?void 0:_.arrayValue,ie=(v=q[Wc])===null||v===void 0?void 0:v.arrayValue,re=Ze(((T=Q==null?void 0:Q.values)===null||T===void 0?void 0:T.length)||0,((S=ie==null?void 0:ie.values)===null||S===void 0?void 0:S.length)||0);return re!==0?re:qm(Q,ie)}(i.mapValue,e.mapValue);case 11:return function(c,d){if(c===bc.mapValue&&d===bc.mapValue)return 0;if(c===bc.mapValue)return 1;if(d===bc.mapValue)return-1;const _=c.fields||{},v=Object.keys(_),T=d.fields||{},S=Object.keys(T);v.sort(),S.sort();for(let b=0;b<v.length&&b<S.length;++b){const q=Ze(v[b],S[b]);if(q!==0)return q;const Q=ul(_[v[b]],T[S[b]]);if(Q!==0)return Q}return Ze(v.length,S.length)}(i.mapValue,e.mapValue);default:throw be()}}function Bm(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ze(i,e);const n=Ro(i),s=Ro(e),a=Ze(n.seconds,s.seconds);return a!==0?a:Ze(n.nanos,s.nanos)}function qm(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=ul(n[a],s[a]);if(c)return c}return Ze(n.length,s.length)}function cl(i){return zf(i)}function zf(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Ro(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return ko(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return Ce.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=zf(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const d of s)c?c=!1:a+=",",a+=`${d}:${zf(n.fields[d])}`;return a+"}"}(i.mapValue):be()}function Lc(i){switch(Po(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=oh(i);return e?16+Lc(e):16;case 5:return 2*i.stringValue.length;case 6:return ko(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+Lc(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return Aa(s.fields,(c,d)=>{a+=c.length+Lc(d)}),a}(i.mapValue);default:throw be()}}function Hm(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function $f(i){return!!i&&"integerValue"in i}function hd(i){return!!i&&"arrayValue"in i}function Wm(i){return!!i&&"nullValue"in i}function Km(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Mc(i){return!!i&&"mapValue"in i}function i0(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[A_])===null||n===void 0?void 0:n.stringValue)===S_}function lu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Aa(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=lu(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=lu(i.arrayValue.values[n]);return e}return Object.assign({},i)}function s0(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===r0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.value=e}static empty(){return new ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Mc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=lu(n)}setAll(e){let n=wn.emptyPath(),s={},a=[];e.forEach((d,_)=>{if(!n.isImmediateParentOf(_)){const v=this.getFieldsMap(n);this.applyChanges(v,s,a),s={},a=[],n=_.popLast()}d?s[_.lastSegment()]=lu(d):a.push(_.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());Mc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ns(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Mc(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Aa(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new ii(lu(this.value))}}function C_(i){const e=[];return Aa(i.fields,(n,s)=>{const a=new wn([n]);if(Mc(s)){const c=C_(s.mapValue).fields;if(c.length===0)e.push(a);else for(const d of c)e.push(a.child(d))}else e.push(a)}),new Di(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n,s,a,c,d,_){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=d,this.documentState=_}static newInvalidDocument(e){return new Nn(e,0,Ve.min(),Ve.min(),Ve.min(),ii.empty(),0)}static newFoundDocument(e,n,s,a){return new Nn(e,1,n,Ve.min(),s,a,0)}static newNoDocument(e,n){return new Nn(e,2,n,Ve.min(),Ve.min(),ii.empty(),0)}static newUnknownDocument(e,n){return new Nn(e,3,n,Ve.min(),Ve.min(),ii.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n){this.position=e,this.inclusive=n}}function Qm(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],d=i.position[a];if(c.field.isKeyField()?s=Ce.comparator(Ce.fromName(d.referenceValue),n.key):s=ul(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Gm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!ns(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n="asc"){this.field=e,this.dir=n}}function o0(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{}class Zt extends R_{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new l0(e,n,s):n==="array-contains"?new h0(e,s):n==="in"?new f0(e,s):n==="not-in"?new d0(e,s):n==="array-contains-any"?new p0(e,s):new Zt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new u0(e,s):new c0(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ul(n,this.value)):n!==null&&Po(this.value)===Po(n)&&this.matchesComparison(ul(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends R_{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Ni(e,n)}matches(e){return k_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function k_(i){return i.op==="and"}function P_(i){return a0(i)&&k_(i)}function a0(i){for(const e of i.filters)if(e instanceof Ni)return!1;return!0}function Bf(i){if(i instanceof Zt)return i.field.canonicalString()+i.op.toString()+cl(i.value);if(P_(i))return i.filters.map(e=>Bf(e)).join(",");{const e=i.filters.map(n=>Bf(n)).join(",");return`${i.op}(${e})`}}function x_(i,e){return i instanceof Zt?function(s,a){return a instanceof Zt&&s.op===a.op&&s.field.isEqual(a.field)&&ns(s.value,a.value)}(i,e):i instanceof Ni?function(s,a){return a instanceof Ni&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,d,_)=>c&&x_(d,a.filters[_]),!0):!1}(i,e):void be()}function b_(i){return i instanceof Zt?function(n){return`${n.field.canonicalString()} ${n.op} ${cl(n.value)}`}(i):i instanceof Ni?function(n){return n.op.toString()+" {"+n.getFilters().map(b_).join(" ,")+"}"}(i):"Filter"}class l0 extends Zt{constructor(e,n,s){super(e,n,s),this.key=Ce.fromName(s.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class u0 extends Zt{constructor(e,n){super(e,"in",n),this.keys=D_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class c0 extends Zt{constructor(e,n){super(e,"not-in",n),this.keys=D_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function D_(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Ce.fromName(s.referenceValue))}class h0 extends Zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hd(n)&&vu(n.arrayValue,this.value)}}class f0 extends Zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vu(this.value.arrayValue,n)}}class d0 extends Zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!vu(this.value.arrayValue,n)}}class p0 extends Zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>vu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n=null,s=[],a=[],c=null,d=null,_=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=d,this.endAt=_,this.le=null}}function Ym(i,e=null,n=[],s=[],a=null,c=null,d=null){return new m0(i,e,n,s,a,c,d)}function fd(i){const e=Fe(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Bf(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>cl(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>cl(s)).join(",")),e.le=n}return e.le}function dd(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!o0(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!x_(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Gm(i.startAt,e.startAt)&&Gm(i.endAt,e.endAt)}function qf(i){return Ce.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n=null,s=[],a=[],c=null,d="F",_=null,v=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=d,this.startAt=_,this.endAt=v,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function g0(i,e,n,s,a,c,d,_){return new _l(i,e,n,s,a,c,d,_)}function pd(i){return new _l(i)}function Xm(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function N_(i){return i.collectionGroup!==null}function uu(i){const e=Fe(i);if(e.he===null){e.he=[];const n=new Set;for(const c of e.explicitOrderBy)e.he.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let _=new ln(wn.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(T=>{T.isInequality()&&(_=_.add(T.field))})}),_})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.he.push(new wu(c,s))}),n.has(wn.keyField().canonicalString())||e.he.push(new wu(wn.keyField(),s))}return e.he}function es(i){const e=Fe(i);return e.Pe||(e.Pe=_0(e,uu(i))),e.Pe}function _0(i,e){if(i.limitType==="F")return Ym(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new wu(a.field,c)});const n=i.endAt?new Kc(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Kc(i.startAt.position,i.startAt.inclusive):null;return Ym(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Hf(i,e){const n=i.filters.concat([e]);return new _l(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Wf(i,e,n){return new _l(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function ah(i,e){return dd(es(i),es(e))&&i.limitType===e.limitType}function V_(i){return`${fd(es(i))}|lt:${i.limitType}`}function rl(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>b_(a)).join(", ")}]`),sh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>cl(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>cl(a)).join(",")),`Target(${s})`}(es(i))}; limitType=${i.limitType})`}function lh(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Ce.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of uu(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(d,_,v){const T=Qm(d,_,v);return d.inclusive?T<=0:T<0}(s.startAt,uu(s),a)||s.endAt&&!function(d,_,v){const T=Qm(d,_,v);return d.inclusive?T>=0:T>0}(s.endAt,uu(s),a))}(i,e)}function y0(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function O_(i){return(e,n)=>{let s=!1;for(const a of uu(i)){const c=v0(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function v0(i,e,n){const s=i.field.isKeyField()?Ce.comparator(e.key,n.key):function(c,d,_){const v=d.data.field(c),T=_.data.field(c);return v!==null&&T!==null?ul(v,T):be()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Aa(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return y_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=new Lt(Ce.comparator);function Ns(){return w0}const L_=new Lt(Ce.comparator);function su(...i){let e=L_;for(const n of i)e=e.insert(n.key,n);return e}function M_(i){let e=L_;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function _a(){return cu()}function F_(){return cu()}function cu(){return new Sa(i=>i.toString(),(i,e)=>i.isEqual(e))}const E0=new Lt(Ce.comparator),T0=new ln(Ce.comparator);function Xe(...i){let e=T0;for(const n of i)e=e.add(n);return e}const I0=new ln(Ze);function A0(){return I0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(e)?"-0":e}}function j_(i){return{integerValue:""+i}}function S0(i,e){return JE(e)?j_(e):md(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(){this._=void 0}}function C0(i,e,n){return i instanceof Eu?function(a,c){const d={fields:{[E_]:{stringValue:w_},[I_]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&cd(c)&&(c=oh(c)),c&&(d.fields[T_]=c),{mapValue:d}}(n,e):i instanceof Tu?z_(i,e):i instanceof Iu?$_(i,e):function(a,c){const d=U_(a,c),_=Jm(d)+Jm(a.Ie);return $f(d)&&$f(a.Ie)?j_(_):md(a.serializer,_)}(i,e)}function R0(i,e,n){return i instanceof Tu?z_(i,e):i instanceof Iu?$_(i,e):n}function U_(i,e){return i instanceof Qc?function(s){return $f(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class Eu extends uh{}class Tu extends uh{constructor(e){super(),this.elements=e}}function z_(i,e){const n=B_(e);for(const s of i.elements)n.some(a=>ns(a,s))||n.push(s);return{arrayValue:{values:n}}}class Iu extends uh{constructor(e){super(),this.elements=e}}function $_(i,e){let n=B_(e);for(const s of i.elements)n=n.filter(a=>!ns(a,s));return{arrayValue:{values:n}}}class Qc extends uh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Jm(i){return qt(i.integerValue||i.doubleValue)}function B_(i){return hd(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,n){this.field=e,this.transform=n}}function P0(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof Tu&&a instanceof Tu||s instanceof Iu&&a instanceof Iu?ll(s.elements,a.elements,ns):s instanceof Qc&&a instanceof Qc?ns(s.Ie,a.Ie):s instanceof Eu&&a instanceof Eu}(i.transform,e.transform)}class x0{constructor(e,n){this.version=e,this.transformResults=n}}class ks{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ks}static exists(e){return new ks(void 0,e)}static updateTime(e){return new ks(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class ch{}function q_(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new W_(i.key,ks.none()):new Su(i.key,i.data,ks.none());{const n=i.data,s=ii.empty();let a=new ln(wn.comparator);for(let c of e.fields)if(!a.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),a=a.add(c)}return new Ca(i.key,s,new Di(a.toArray()),ks.none())}}function b0(i,e,n){i instanceof Su?function(a,c,d){const _=a.value.clone(),v=eg(a.fieldTransforms,c,d.transformResults);_.setAll(v),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(i,e,n):i instanceof Ca?function(a,c,d){if(!Fc(a.precondition,c))return void c.convertToUnknownDocument(d.version);const _=eg(a.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(H_(a)),v.setAll(_),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(i,e,n):function(a,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,n)}function hu(i,e,n,s){return i instanceof Su?function(c,d,_,v){if(!Fc(c.precondition,d))return _;const T=c.value.clone(),S=tg(c.fieldTransforms,v,d);return T.setAll(S),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),null}(i,e,n,s):i instanceof Ca?function(c,d,_,v){if(!Fc(c.precondition,d))return _;const T=tg(c.fieldTransforms,v,d),S=d.data;return S.setAll(H_(c)),S.setAll(T),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),_===null?null:_.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(b=>b.field))}(i,e,n,s):function(c,d,_){return Fc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):_}(i,e,n)}function D0(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=U_(s.transform,a||null);c!=null&&(n===null&&(n=ii.empty()),n.set(s.field,c))}return n||null}function Zm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&ll(s,a,(c,d)=>P0(c,d))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Su extends ch{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ca extends ch{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function H_(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function eg(i,e,n){const s=new Map;pt(i.length===n.length);for(let a=0;a<n.length;a++){const c=i[a],d=c.transform,_=e.data.field(c.field);s.set(c.field,R0(d,_,n[a]))}return s}function tg(i,e,n){const s=new Map;for(const a of i){const c=a.transform,d=n.data.field(a.field);s.set(a.field,C0(c,d,e))}return s}class W_ extends ch{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class N0 extends ch{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&b0(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=hu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=hu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=F_();return this.mutations.forEach(a=>{const c=e.get(a.key),d=c.overlayedDocument;let _=this.applyToLocalView(d,c.mutatedFields);_=n.has(a.key)?null:_;const v=q_(d,_);v!==null&&s.set(a.key,v),d.isValidDocument()||d.convertToNoDocument(Ve.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xe())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,(n,s)=>Zm(n,s))&&ll(this.baseMutations,e.baseMutations,(n,s)=>Zm(n,s))}}class gd{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){pt(e.mutations.length===s.length);let a=function(){return E0}();const c=e.mutations;for(let d=0;d<c.length;d++)a=a.insert(c[d].key,s[d].version);return new gd(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,nt;function M0(i){switch(i){case Z.OK:return be();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return be()}}function K_(i){if(i===void 0)return Ds("GRPC error has no .code"),Z.UNKNOWN;switch(i){case Jt.OK:return Z.OK;case Jt.CANCELLED:return Z.CANCELLED;case Jt.UNKNOWN:return Z.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return Z.INTERNAL;case Jt.UNAVAILABLE:return Z.UNAVAILABLE;case Jt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Jt.NOT_FOUND:return Z.NOT_FOUND;case Jt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Jt.ABORTED:return Z.ABORTED;case Jt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Jt.DATA_LOSS:return Z.DATA_LOSS;default:return be()}}(nt=Jt||(Jt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=new Io([4294967295,4294967295],0);function ng(i){const e=F0().encode(i),n=new u_;return n.update(e),new Uint8Array(n.digest())}function rg(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Io([n,s],0),new Io([a,c],0)]}class _d{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ou(`Invalid padding: ${n}`);if(s<0)throw new ou(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ou(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ou(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Io.fromNumber(this.Ee)}Ae(e,n,s){let a=e.add(n.multiply(Io.fromNumber(s)));return a.compare(j0)===1&&(a=new Io([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=ng(e),[s,a]=rg(n);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,a,c);if(!this.Re(d))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new _d(c,a,n);return s.forEach(_=>d.insert(_)),d}insert(e){if(this.Ee===0)return;const n=ng(e),[s,a]=rg(n);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,a,c);this.Ve(d)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Cu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new hh(Ve.min(),a,new Lt(Ze),Ns(),Xe())}}class Cu{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Cu(s,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n,s,a){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=a}}class Q_{constructor(e,n){this.targetId=e,this.ge=n}}class G_{constructor(e,n,s=En.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class ig{constructor(){this.pe=0,this.ye=sg(),this.we=En.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Xe(),n=Xe(),s=Xe();return this.ye.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:be()}}),new Cu(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=sg()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,pt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class U0{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ns(),this.$e=Dc(),this.Ke=Dc(),this.Ue=new Lt(Ze)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,a)=>{this.Je(a)&&n(a)})}Ze(e){const n=e.targetId,s=e.ge.count,a=this.Xe(n);if(a){const c=a.target;if(qf(c))if(s===0){const d=new Ce(c.path);this.ze(n,d,Nn.newNoDocument(d,Ve.min()))}else pt(s===1);else{const d=this.et(n);if(d!==s){const _=this.tt(e),v=_?this.nt(_,e,d):1;if(v!==0){this.Ye(n);const T=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,T)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let d,_;try{d=ko(s).toUint8Array()}catch(v){if(v instanceof v_)return al("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{_=new _d(d,a,c)}catch(v){return al(v instanceof ou?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return _.Ee===0?null:_}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const d=this.ke.it(),_=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(_)||(this.ze(n,c,null),a++)}),a}ot(e){const n=new Map;this.qe.forEach((c,d)=>{const _=this.Xe(d);if(_){if(c.current&&qf(_.target)){const v=new Ce(_.target.path);this._t(v).has(d)||this.ut(d,v)||this.ze(d,v,Nn.newNoDocument(v,e))}c.ve&&(n.set(d,c.Fe()),c.Me())}});let s=Xe();this.Ke.forEach((c,d)=>{let _=!0;d.forEachWhile(v=>{const T=this.Xe(v);return!T||T.purpose==="TargetPurposeLimboResolution"||(_=!1,!1)}),_&&(s=s.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(e));const a=new hh(e,n,this.Ue,this.Qe,s);return this.Qe=Ns(),this.$e=Dc(),this.Ke=Dc(),this.Ue=new Lt(Ze),a}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const a=this.He(e);this.ut(e,n)?a.xe(n,1):a.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new ig,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new ln(Ze),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new ln(Ze),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new ig),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Dc(){return new Lt(Ce.comparator)}function sg(){return new Lt(Ce.comparator)}const z0={asc:"ASCENDING",desc:"DESCENDING"},$0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B0={and:"AND",or:"OR"};class q0{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Kf(i,e){return i.useProto3Json||sh(e)?e:{value:e}}function Gc(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Y_(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function H0(i,e){return Gc(i,e.toTimestamp())}function ts(i){return pt(!!i),Ve.fromTimestamp(function(n){const s=Ro(n);return new an(s.seconds,s.nanos)}(i))}function yd(i,e){return Qf(i,e).canonicalString()}function Qf(i,e){const n=function(a){return new Pt(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function X_(i){const e=Pt.fromString(i);return pt(ny(e)),e}function Gf(i,e){return yd(i.databaseId,e.path)}function kf(i,e){const n=X_(e);if(n.get(1)!==i.databaseId.projectId)throw new ve(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ve(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ce(Z_(n))}function J_(i,e){return yd(i.databaseId,e)}function W0(i){const e=X_(i);return e.length===4?Pt.emptyPath():Z_(e)}function Yf(i){return new Pt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Z_(i){return pt(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function og(i,e,n){return{name:Gf(i,e),fields:n.value.mapValue.fields}}function K0(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(T){return T==="NO_CHANGE"?0:T==="ADD"?1:T==="REMOVE"?2:T==="CURRENT"?3:T==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(T,S){return T.useProto3Json?(pt(S===void 0||typeof S=="string"),En.fromBase64String(S||"")):(pt(S===void 0||S instanceof Buffer||S instanceof Uint8Array),En.fromUint8Array(S||new Uint8Array))}(i,e.targetChange.resumeToken),d=e.targetChange.cause,_=d&&function(T){const S=T.code===void 0?Z.UNKNOWN:K_(T.code);return new ve(S,T.message||"")}(d);n=new G_(s,a,c,_||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=kf(i,s.document.name),c=ts(s.document.updateTime),d=s.document.createTime?ts(s.document.createTime):Ve.min(),_=new ii({mapValue:{fields:s.document.fields}}),v=Nn.newFoundDocument(a,c,d,_),T=s.targetIds||[],S=s.removedTargetIds||[];n=new jc(T,S,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=kf(i,s.document),c=s.readTime?ts(s.readTime):Ve.min(),d=Nn.newNoDocument(a,c),_=s.removedTargetIds||[];n=new jc([],_,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=kf(i,s.document),c=s.removedTargetIds||[];n=new jc([],c,a,null)}else{if(!("filter"in e))return be();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,d=new L0(a,c),_=s.targetId;n=new Q_(_,d)}}return n}function Q0(i,e){let n;if(e instanceof Su)n={update:og(i,e.key,e.value)};else if(e instanceof W_)n={delete:Gf(i,e.key)};else if(e instanceof Ca)n={update:og(i,e.key,e.data),updateMask:rT(e.fieldMask)};else{if(!(e instanceof N0))return be();n={verify:Gf(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const _=d.transform;if(_ instanceof Eu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof Tu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof Iu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof Qc)return{fieldPath:d.field.canonicalString(),increment:_.Ie};throw be()}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:H0(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:be()}(i,e.precondition)),n}function G0(i,e){return i&&i.length>0?(pt(e!==void 0),i.map(n=>function(a,c){let d=a.updateTime?ts(a.updateTime):ts(c);return d.isEqual(Ve.min())&&(d=ts(c)),new x0(d,a.transformResults||[])}(n,e))):[]}function Y0(i,e){return{documents:[J_(i,e.path)]}}function X0(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=J_(i,a);const c=function(T){if(T.length!==0)return ty(Ni.create(T,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const d=function(T){if(T.length!==0)return T.map(S=>function(q){return{field:il(q.field),direction:eT(q.dir)}}(S))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const _=Kf(i,e.limit);return _!==null&&(n.structuredQuery.limit=_),e.startAt&&(n.structuredQuery.startAt=function(T){return{before:T.inclusive,values:T.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(T){return{before:!T.inclusive,values:T.position}}(e.endAt)),{ht:n,parent:a}}function J0(i){let e=W0(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){pt(s===1);const S=n.from[0];S.allDescendants?a=S.collectionId:e=e.child(S.collectionId)}let c=[];n.where&&(c=function(b){const q=ey(b);return q instanceof Ni&&P_(q)?q.getFilters():[q]}(n.where));let d=[];n.orderBy&&(d=function(b){return b.map(q=>function(ie){return new wu(sl(ie.field),function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ie.direction))}(q))}(n.orderBy));let _=null;n.limit&&(_=function(b){let q;return q=typeof b=="object"?b.value:b,sh(q)?null:q}(n.limit));let v=null;n.startAt&&(v=function(b){const q=!!b.before,Q=b.values||[];return new Kc(Q,q)}(n.startAt));let T=null;return n.endAt&&(T=function(b){const q=!b.before,Q=b.values||[];return new Kc(Q,q)}(n.endAt)),g0(e,a,d,c,_,"F",v,T)}function Z0(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ey(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=sl(n.unaryFilter.field);return Zt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=sl(n.unaryFilter.field);return Zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=sl(n.unaryFilter.field);return Zt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=sl(n.unaryFilter.field);return Zt.create(d,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(i):i.fieldFilter!==void 0?function(n){return Zt.create(sl(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Ni.create(n.compositeFilter.filters.map(s=>ey(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(i):be()}function eT(i){return z0[i]}function tT(i){return $0[i]}function nT(i){return B0[i]}function il(i){return{fieldPath:i.canonicalString()}}function sl(i){return wn.fromServerFormat(i.fieldPath)}function ty(i){return i instanceof Zt?function(n){if(n.op==="=="){if(Km(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NAN"}};if(Wm(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Km(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NOT_NAN"}};if(Wm(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(n.field),op:tT(n.op),value:n.value}}}(i):i instanceof Ni?function(n){const s=n.getFilters().map(a=>ty(a));return s.length===1?s[0]:{compositeFilter:{op:nT(n.op),filters:s}}}(i):be()}function rT(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ny(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n,s,a,c=Ve.min(),d=Ve.min(),_=En.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=_,this.expectedCount=v}withSequenceNumber(e){return new wo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e){this.Tt=e}}function sT(i){const e=J0({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Wf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(){this.Tn=new aT}addToCollectionParentIndex(e,n){return this.Tn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Co.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Co.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class aT{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new ln(Pt.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new ln(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ry=41943040;class vr{static withCacheSize(e){return new vr(e,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vr.DEFAULT_COLLECTION_PERCENTILE=10,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vr.DEFAULT=new vr(ry,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vr.DISABLED=new vr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new hl(0)}static Un(){return new hl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="LruGarbageCollector",lT=1048576;function ug([i,e],[n,s]){const a=Ze(i,n);return a===0?Ze(e,s):a}class uT{constructor(e){this.Hn=e,this.buffer=new ln(ug),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();ug(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cT{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){me(lg,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){gl(n)?me(lg,"Ignoring IndexedDB error during garbage collection: ",n):await ml(n)}await this.er(3e5)})}}class hT{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(ih.ae);const s=new uT(n);return this.tr.forEachTarget(e,a=>s.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>s.Zn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(ag)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ag):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,a,c,d,_,v,T;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,d=Date.now(),this.nthSequenceNumber(e,a))).next(b=>(s=b,_=Date.now(),this.removeTargets(e,s,n))).next(b=>(c=b,v=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(T=Date.now(),nl()<=rt.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${a} in `+(_-d)+`ms
	Removed ${c} targets in `+(v-_)+`ms
	Removed ${b} documents in `+(T-v)+`ms
Total Duration: ${T-S}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:b})))}}function fT(i,e){return new hT(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(){this.changes=new Sa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&hu(s.mutation,a,Di.empty(),an.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Xe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Xe()){const a=_a();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let d=su();return c.forEach((_,v)=>{d=d.insert(_,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const s=_a();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Xe()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((d,_)=>{n.set(d,_)})})}computeViews(e,n,s,a){let c=Ns();const d=cu(),_=function(){return cu()}();return n.forEach((v,T)=>{const S=s.get(T.key);a.has(T.key)&&(S===void 0||S.mutation instanceof Ca)?c=c.insert(T.key,T):S!==void 0?(d.set(T.key,S.mutation.getFieldMask()),hu(S.mutation,T,S.mutation.getFieldMask(),an.now())):d.set(T.key,Di.empty())}),this.recalculateAndSaveOverlays(e,c).next(v=>(v.forEach((T,S)=>d.set(T,S)),n.forEach((T,S)=>{var b;return _.set(T,new pT(S,(b=d.get(T))!==null&&b!==void 0?b:null))}),_))}recalculateAndSaveOverlays(e,n){const s=cu();let a=new Lt((d,_)=>d-_),c=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const _ of d)_.keys().forEach(v=>{const T=n.get(v);if(T===null)return;let S=s.get(v)||Di.empty();S=_.applyToLocalView(T,S),s.set(v,S);const b=(a.get(_.batchId)||Xe()).add(v);a=a.insert(_.batchId,b)})}).next(()=>{const d=[],_=a.getReverseIterator();for(;_.hasNext();){const v=_.getNext(),T=v.key,S=v.value,b=F_();S.forEach(q=>{if(!c.has(q)){const Q=q_(n.get(q),s.get(q));Q!==null&&b.set(q,Q),c=c.add(q)}}),d.push(this.documentOverlayCache.saveOverlays(e,T,b))}return J.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(d){return Ce.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):N_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const d=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):J.resolve(_a());let _=gu,v=c;return d.next(T=>J.forEach(T,(S,b)=>(_<b.largestBatchId&&(_=b.largestBatchId),c.get(S)?J.resolve():this.remoteDocumentCache.getEntry(e,S).next(q=>{v=v.insert(S,q)}))).next(()=>this.populateOverlays(e,T,c)).next(()=>this.computeViews(e,v,T,Xe())).next(S=>({batchId:_,changes:M_(S)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next(s=>{let a=su();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let d=su();return this.indexManager.getCollectionParents(e,c).next(_=>J.forEach(_,v=>{const T=function(b,q){return new _l(q,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,T,s,a).next(S=>{S.forEach((b,q)=>{d=d.insert(b,q)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(d=>{c.forEach((v,T)=>{const S=T.getKey();d.get(S)===null&&(d=d.insert(S,Nn.newInvalidDocument(S)))});let _=su();return d.forEach((v,T)=>{const S=c.get(v);S!==void 0&&hu(S.mutation,T,Di.empty(),an.now()),lh(n,T)&&(_=_.insert(v,T))}),_})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return J.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:ts(a.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(a){return{name:a.name,query:sT(a.bundledQuery),readTime:ts(a.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(){this.overlays=new Lt(Ce.comparator),this.Rr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=_a();return J.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.Et(e,n,c)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Rr.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const a=_a(),c=n.length+1,d=new Ce(n.child("")),_=this.overlays.getIteratorFrom(d);for(;_.hasNext();){const v=_.getNext().value,T=v.getKey();if(!n.isPrefixOf(T.path))break;T.path.length===c&&v.largestBatchId>s&&a.set(v.getKey(),v)}return J.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new Lt((T,S)=>T-S);const d=this.overlays.getIterator();for(;d.hasNext();){const T=d.getNext().value;if(T.getKey().getCollectionGroup()===n&&T.largestBatchId>s){let S=c.get(T.largestBatchId);S===null&&(S=_a(),c=c.insert(T.largestBatchId,S)),S.set(T.getKey(),T)}}const _=_a(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((T,S)=>_.set(T,S)),!(_.size()>=a)););return J.resolve(_)}Et(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const d=this.Rr.get(a.largestBatchId).delete(s.key);this.Rr.set(a.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new O0(n,s));let c=this.Rr.get(n);c===void 0&&(c=Xe(),this.Rr.set(n,c)),this.Rr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(){this.Vr=new ln(pn.mr),this.gr=new ln(pn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new pn(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new pn(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new Ce(new Pt([])),s=new pn(n,e),a=new pn(n,e+1),c=[];return this.gr.forEachInRange([s,a],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Ce(new Pt([])),s=new pn(n,e),a=new pn(n,e+1);let c=Xe();return this.gr.forEachInRange([s,a],d=>{c=c.add(d.key)}),c}containsKey(e){const n=new pn(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class pn{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Ce.comparator(e.key,n.key)||Ze(e.Cr,n.Cr)}static pr(e,n){return Ze(e.Cr,n.Cr)||Ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new ln(pn.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new V0(c,n,s,a);this.mutationQueue.push(d);for(const _ of a)this.Mr=this.Mr.add(new pn(_.key,c)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,n){return J.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Nr(s),c=a<0?0:a;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?ud:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new pn(n,0),a=new pn(n,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,a],d=>{const _=this.Or(d.Cr);c.push(_)}),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new ln(Ze);return n.forEach(a=>{const c=new pn(a,0),d=new pn(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],_=>{s=s.add(_.Cr)})}),J.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;Ce.isDocumentKey(c)||(c=c.child(""));const d=new pn(new Ce(c),0);let _=new ln(Ze);return this.Mr.forEachWhile(v=>{const T=v.key.path;return!!s.isPrefixOf(T)&&(T.length===a&&(_=_.add(v.Cr)),!0)},d),J.resolve(this.Br(_))}Br(e){const n=[];return e.forEach(s=>{const a=this.Or(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){pt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return J.forEach(n.mutations,a=>{const c=new pn(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new pn(n,0),a=this.Mr.firstAfterOrEqual(s);return J.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this.kr=e,this.docs=function(){return new Lt(Ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,d=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Nn.newInvalidDocument(n))}getEntries(e,n){let s=Ns();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Nn.newInvalidDocument(a))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=Ns();const d=n.path,_=new Ce(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(_);for(;v.hasNext();){const{key:T,value:{document:S}}=v.getNext();if(!d.isPrefixOf(T.path))break;T.path.length>d.length+1||QE(KE(S),s)<=0||(a.has(S.key)||lh(n,S))&&(c=c.insert(S.key,S.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,n,s,a){be()}qr(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new ET(this)}getSize(e){return J.resolve(this.size)}}class ET extends dT{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e){this.persistence=e,this.Qr=new Sa(n=>fd(n),dd),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.$r=0,this.Kr=new vd,this.targetCount=0,this.Ur=hl.Kn()}forEachTarget(e,n){return this.Qr.forEach((s,a)=>n(a)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),J.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new hl(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.zn(n),J.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.br(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.Qr.forEach((d,_)=>{_.sequenceNumber<=n&&s.get(_.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(e,_.targetId)),a++)}),J.waitFor(c).next(()=>a)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this.Kr.yr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this.Kr.Sr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(d=>{c.push(a.markPotentiallyOrphaned(e,d))}),J.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.Kr.br(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Kr.vr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new ih(0),this.zr=!1,this.zr=!0,this.jr=new yT,this.referenceDelegate=e(this),this.Hr=new TT(this),this.indexManager=new oT,this.remoteDocumentCache=function(a){return new wT(a)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new iT(n),this.Yr=new gT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _T,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new vT(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const a=new IT(this.Gr.next());return this.referenceDelegate.Zr(),s(a).next(c=>this.referenceDelegate.Xr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}ei(e,n){return J.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class IT extends YE{constructor(e){super(),this.currentSequenceNumber=e}}class wd{constructor(e){this.persistence=e,this.ti=new vd,this.ni=null}static ri(e){return new wd(e)}get ii(){if(this.ni)return this.ni;throw be()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),J.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(a=>this.ii.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,s=>{const a=Ce.fromPath(s);return this.si(e,a).next(c=>{c||n.removeEntry(a,Ve.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return J.or([()=>J.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Yc{constructor(e,n){this.persistence=e,this.oi=new Sa(s=>ZE(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=fT(this,n)}static ri(e,n){return new Yc(e,n)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return J.forEach(this.oi,(s,a)=>this.ar(e,s,a).next(c=>c?J.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.qr(e,d=>this.ar(e,d,n).next(_=>{_||(s++,c.removeEntry(d,Ve.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Lc(e.data.value)),n}ar(e,n,s){return J.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.oi.get(n);return J.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=a}static Yi(e,n){let s=Xe(),a=Xe();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new Ed(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return ww()?8:XE(_w())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.rs(e,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(e,n,a,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new AT;return this._s(e,n,d).next(_=>{if(c.result=_,this.Xi)return this.us(e,n,d,_.size)})}).next(()=>c.result)}us(e,n,s,a){return s.documentReadCount<this.es?(nl()<=rt.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",rl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(nl()<=rt.DEBUG&&me("QueryEngine","Query:",rl(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ts*a?(nl()<=rt.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",rl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,es(n))):J.resolve())}rs(e,n){if(Xm(n))return J.resolve(null);let s=es(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Wf(n,null,"F"),s=es(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=Xe(...c);return this.ns.getDocuments(e,d).next(_=>this.indexManager.getMinOffset(e,s).next(v=>{const T=this.cs(n,_);return this.ls(n,T,d,v.readTime)?this.rs(e,Wf(n,null,"F")):this.hs(e,T,n,v)}))})))}ss(e,n,s,a){return Xm(n)||a.isEqual(Ve.min())?J.resolve(null):this.ns.getDocuments(e,s).next(c=>{const d=this.cs(n,c);return this.ls(n,d,s,a)?J.resolve(null):(nl()<=rt.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),rl(n)),this.hs(e,d,n,WE(a,gu)).next(_=>_))})}cs(e,n){let s=new ln(O_(e));return n.forEach((a,c)=>{lh(e,c)&&(s=s.add(c))}),s}ls(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}_s(e,n,s){return nl()<=rt.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",rl(n)),this.ns.getDocumentsMatchingQuery(e,n,Co.min(),s)}hs(e,n,s,a){return this.ns.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="LocalStore",CT=3e8;class RT{constructor(e,n,s,a){this.persistence=e,this.Ps=n,this.serializer=a,this.Ts=new Lt(Ze),this.Is=new Sa(c=>fd(c),dd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mT(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function kT(i,e,n,s){return new RT(i,e,n,s)}async function sy(i,e){const n=Fe(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],_=[];let v=Xe();for(const T of a){d.push(T.batchId);for(const S of T.mutations)v=v.add(S.key)}for(const T of c){_.push(T.batchId);for(const S of T.mutations)v=v.add(S.key)}return n.localDocuments.getDocuments(s,v).next(T=>({Rs:T,removedBatchIds:d,addedBatchIds:_}))})})}function PT(i,e){const n=Fe(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=n.ds.newChangeBuffer({trackRemovals:!0});return function(_,v,T,S){const b=T.batch,q=b.keys();let Q=J.resolve();return q.forEach(ie=>{Q=Q.next(()=>S.getEntry(v,ie)).next(re=>{const X=T.docVersions.get(ie);pt(X!==null),re.version.compareTo(X)<0&&(b.applyToRemoteDocument(re,T),re.isValidDocument()&&(re.setReadTime(T.commitVersion),S.addEntry(re)))})}),Q.next(()=>_.mutationQueue.removeMutationBatch(v,b))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(_){let v=Xe();for(let T=0;T<_.mutationResults.length;++T)_.mutationResults[T].transformResults.length>0&&(v=v.add(_.batch.mutations[T].key));return v}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function oy(i){const e=Fe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function xT(i,e){const n=Fe(i),s=e.snapshotVersion;let a=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.ds.newChangeBuffer({trackRemovals:!0});a=n.Ts;const _=[];e.targetChanges.forEach((S,b)=>{const q=a.get(b);if(!q)return;_.push(n.Hr.removeMatchingKeys(c,S.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(c,S.addedDocuments,b)));let Q=q.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?Q=Q.withResumeToken(En.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):S.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(S.resumeToken,s)),a=a.insert(b,Q),function(re,X,Oe){return re.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=CT?!0:Oe.addedDocuments.size+Oe.modifiedDocuments.size+Oe.removedDocuments.size>0}(q,Q,S)&&_.push(n.Hr.updateTargetData(c,Q))});let v=Ns(),T=Xe();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&_.push(n.persistence.referenceDelegate.updateLimboDocument(c,S))}),_.push(bT(c,d,e.documentUpdates).next(S=>{v=S.Vs,T=S.fs})),!s.isEqual(Ve.min())){const S=n.Hr.getLastRemoteSnapshotVersion(c).next(b=>n.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));_.push(S)}return J.waitFor(_).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,v,T)).next(()=>v)}).then(c=>(n.Ts=a,c))}function bT(i,e,n){let s=Xe(),a=Xe();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let d=Ns();return n.forEach((_,v)=>{const T=c.get(_);v.isFoundDocument()!==T.isFoundDocument()&&(a=a.add(_)),v.isNoDocument()&&v.version.isEqual(Ve.min())?(e.removeEntry(_,v.readTime),d=d.insert(_,v)):!T.isValidDocument()||v.version.compareTo(T.version)>0||v.version.compareTo(T.version)===0&&T.hasPendingWrites?(e.addEntry(v),d=d.insert(_,v)):me(Td,"Ignoring outdated watch update for ",_,". Current version:",T.version," Watch version:",v.version)}),{Vs:d,fs:a}})}function DT(i,e){const n=Fe(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=ud),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function NT(i,e){const n=Fe(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Hr.getTargetData(s,e).next(c=>c?(a=c,J.resolve(a)):n.Hr.allocateTargetId(s).next(d=>(a=new wo(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.Ts.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Xf(i,e,n){const s=Fe(i),a=s.Ts.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,a))}catch(d){if(!gl(d))throw d;me(Td,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(a.target)}function cg(i,e,n){const s=Fe(i);let a=Ve.min(),c=Xe();return s.persistence.runTransaction("Execute query","readwrite",d=>function(v,T,S){const b=Fe(v),q=b.Is.get(S);return q!==void 0?J.resolve(b.Ts.get(q)):b.Hr.getTargetData(T,S)}(s,d,es(e)).next(_=>{if(_)return a=_.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,_.targetId).next(v=>{c=v})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,n?a:Ve.min(),n?c:Xe())).next(_=>(VT(s,y0(e),_),{documents:_,gs:c})))}function VT(i,e,n){let s=i.Es.get(e)||Ve.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.Es.set(e,s)}class hg{constructor(){this.activeTargetIds=A0()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OT{constructor(){this.ho=new hg,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new hg,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="ConnectivityMonitor";class dg{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){me(fg,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){me(fg,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc=null;function Jf(){return Nc===null?Nc=function(){return 268435456+Math.round(2147483648*Math.random())}():Nc++,"0x"+Nc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="RestConnection",MT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FT{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${a}`,this.wo=this.databaseId.database===Hc?`project_id=${s}`:`project_id=${s}&database_id=${a}`}So(e,n,s,a,c){const d=Jf(),_=this.bo(e,n.toUriEncodedString());me(Pf,`Sending RPC '${e}' ${d}:`,_,s);const v={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(v,a,c),this.vo(e,_,v,s).then(T=>(me(Pf,`Received RPC '${e}' ${d}: `,T),T),T=>{throw al(Pf,`RPC '${e}' ${d} failed with error: `,T,"url: ",_,"request:",s),T})}Co(e,n,s,a,c,d){return this.So(e,n,s,a,c)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}bo(e,n){const s=MT[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn="WebChannelConnection";class UT extends FT{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,a){const c=Jf();return new Promise((d,_)=>{const v=new c_;v.setWithCredentials(!0),v.listenOnce(h_.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Oc.NO_ERROR:const S=v.getResponseJson();me(bn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(S)),d(S);break;case Oc.TIMEOUT:me(bn,`RPC '${e}' ${c} timed out`),_(new ve(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const b=v.getStatus();if(me(bn,`RPC '${e}' ${c} failed with status:`,b,"response text:",v.getResponseText()),b>0){let q=v.getResponseJson();Array.isArray(q)&&(q=q[0]);const Q=q==null?void 0:q.error;if(Q&&Q.status&&Q.message){const ie=function(X){const Oe=X.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Oe)>=0?Oe:Z.UNKNOWN}(Q.status);_(new ve(ie,Q.message))}else _(new ve(Z.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new ve(Z.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{me(bn,`RPC '${e}' ${c} completed.`)}});const T=JSON.stringify(a);me(bn,`RPC '${e}' ${c} sending request:`,a),v.send(n,"POST",T,s,15)})}Wo(e,n,s){const a=Jf(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=p_(),_=d_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},T=this.longPollingOptions.timeoutSeconds;T!==void 0&&(v.longPollingTimeout=Math.round(1e3*T)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Do(v.initMessageHeaders,n,s),v.encodeInitMessageHeaders=!0;const S=c.join("");me(bn,`Creating RPC '${e}' stream ${a}: ${S}`,v);const b=d.createWebChannel(S,v);let q=!1,Q=!1;const ie=new jT({Fo:X=>{Q?me(bn,`Not sending because RPC '${e}' stream ${a} is closed:`,X):(q||(me(bn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),q=!0),me(bn,`RPC '${e}' stream ${a} sending:`,X),b.send(X))},Mo:()=>b.close()}),re=(X,Oe,Le)=>{X.listen(Oe,je=>{try{Le(je)}catch(We){setTimeout(()=>{throw We},0)}})};return re(b,iu.EventType.OPEN,()=>{Q||(me(bn,`RPC '${e}' stream ${a} transport opened.`),ie.Qo())}),re(b,iu.EventType.CLOSE,()=>{Q||(Q=!0,me(bn,`RPC '${e}' stream ${a} transport closed`),ie.Ko())}),re(b,iu.EventType.ERROR,X=>{Q||(Q=!0,al(bn,`RPC '${e}' stream ${a} transport errored:`,X),ie.Ko(new ve(Z.UNAVAILABLE,"The operation could not be completed")))}),re(b,iu.EventType.MESSAGE,X=>{var Oe;if(!Q){const Le=X.data[0];pt(!!Le);const je=Le,We=(je==null?void 0:je.error)||((Oe=je[0])===null||Oe===void 0?void 0:Oe.error);if(We){me(bn,`RPC '${e}' stream ${a} received error:`,We);const bt=We.status;let Ke=function(P){const D=Jt[P];if(D!==void 0)return K_(D)}(bt),L=We.message;Ke===void 0&&(Ke=Z.INTERNAL,L="Unknown error status: "+bt+" with message "+We.message),Q=!0,ie.Ko(new ve(Ke,L)),b.close()}else me(bn,`RPC '${e}' stream ${a} received:`,Le),ie.Uo(Le)}}),re(_,f_.STAT_EVENT,X=>{X.stat===Uf.PROXY?me(bn,`RPC '${e}' stream ${a} detected buffering proxy`):X.stat===Uf.NOPROXY&&me(bn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{ie.$o()},0),ie}}function xf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(i){return new q0(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,n,s=1e3,a=1.5,c=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=a,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),a=Math.max(0,n-s);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="PersistentStream";class ly{constructor(e,n,s,a,c,d,_,v){this.Ti=e,this.n_=s,this.r_=a,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=_,this.listener=v,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ay(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Ds(n.toString()),Ds("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.i_===n&&this.V_(s,a)},s=>{e(()=>{const a=new ve(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(a)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{s(()=>this.m_(a))}),this.stream.onMessage(a=>{s(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return me(pg,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(me(pg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zT extends ly{constructor(e,n,s,a,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,d),this.serializer=c}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=K0(this.serializer,e),s=function(c){if(!("targetChange"in c))return Ve.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ve.min():d.readTime?ts(d.readTime):Ve.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Yf(this.serializer),n.addTarget=function(c,d){let _;const v=d.target;if(_=qf(v)?{documents:Y0(c,v)}:{query:X0(c,v).ht},_.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){_.resumeToken=Y_(c,d.resumeToken);const T=Kf(c,d.expectedCount);T!==null&&(_.expectedCount=T)}else if(d.snapshotVersion.compareTo(Ve.min())>0){_.readTime=Gc(c,d.snapshotVersion.toTimestamp());const T=Kf(c,d.expectedCount);T!==null&&(_.expectedCount=T)}return _}(this.serializer,e);const s=Z0(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Yf(this.serializer),n.removeTarget=e,this.I_(n)}}class $T extends ly{constructor(e,n,s,a,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,d),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return pt(!!e.streamToken),this.lastStreamToken=e.streamToken,pt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=G0(e.writeResults,e.commitTime),s=ts(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Yf(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>Q0(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{}class qT extends BT{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new ve(Z.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.So(e,Qf(n,s),a,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(Z.UNKNOWN,c.toString())})}Co(e,n,s,a,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,_])=>this.connection.Co(e,Qf(n,s),a,d,_,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ve(Z.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class HT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ds(n),this.N_=!1):me("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="RemoteStore";class WT{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{s.enqueueAndForget(async()=>{Ra(this)&&(me(Ea,"Restarting streams for network reachability change."),await async function(v){const T=Fe(v);T.W_.add(4),await Ru(T),T.j_.set("Unknown"),T.W_.delete(4),await dh(T)}(this))})}),this.j_=new HT(s,a)}}async function dh(i){if(Ra(i))for(const e of i.G_)await e(!0)}async function Ru(i){for(const e of i.G_)await e(!1)}function uy(i,e){const n=Fe(i);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Cd(n)?Sd(n):yl(n).c_()&&Ad(n,e))}function Id(i,e){const n=Fe(i),s=yl(n);n.U_.delete(e),s.c_()&&cy(n,e),n.U_.size===0&&(s.c_()?s.P_():Ra(n)&&n.j_.set("Unknown"))}function Ad(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yl(i).y_(e)}function cy(i,e){i.H_.Ne(e),yl(i).w_(e)}function Sd(i){i.H_=new U0({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),yl(i).start(),i.j_.B_()}function Cd(i){return Ra(i)&&!yl(i).u_()&&i.U_.size>0}function Ra(i){return Fe(i).W_.size===0}function hy(i){i.H_=void 0}async function KT(i){i.j_.set("Online")}async function QT(i){i.U_.forEach((e,n)=>{Ad(i,e)})}async function GT(i,e){hy(i),Cd(i)?(i.j_.q_(e),Sd(i)):i.j_.set("Unknown")}async function YT(i,e,n){if(i.j_.set("Online"),e instanceof G_&&e.state===2&&e.cause)try{await async function(a,c){const d=c.cause;for(const _ of c.targetIds)a.U_.has(_)&&(await a.remoteSyncer.rejectListen(_,d),a.U_.delete(_),a.H_.removeTarget(_))}(i,e)}catch(s){me(Ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Xc(i,s)}else if(e instanceof jc?i.H_.We(e):e instanceof Q_?i.H_.Ze(e):i.H_.je(e),!n.isEqual(Ve.min()))try{const s=await oy(i.localStore);n.compareTo(s)>=0&&await function(c,d){const _=c.H_.ot(d);return _.targetChanges.forEach((v,T)=>{if(v.resumeToken.approximateByteSize()>0){const S=c.U_.get(T);S&&c.U_.set(T,S.withResumeToken(v.resumeToken,d))}}),_.targetMismatches.forEach((v,T)=>{const S=c.U_.get(v);if(!S)return;c.U_.set(v,S.withResumeToken(En.EMPTY_BYTE_STRING,S.snapshotVersion)),cy(c,v);const b=new wo(S.target,v,T,S.sequenceNumber);Ad(c,b)}),c.remoteSyncer.applyRemoteEvent(_)}(i,n)}catch(s){me(Ea,"Failed to raise snapshot:",s),await Xc(i,s)}}async function Xc(i,e,n){if(!gl(e))throw e;i.W_.add(1),await Ru(i),i.j_.set("Offline"),n||(n=()=>oy(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{me(Ea,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await dh(i)})}function fy(i,e){return e().catch(n=>Xc(i,n,e))}async function ph(i){const e=Fe(i),n=xo(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:ud;for(;XT(e);)try{const a=await DT(e.localStore,s);if(a===null){e.K_.length===0&&n.P_();break}s=a.batchId,JT(e,a)}catch(a){await Xc(e,a)}dy(e)&&py(e)}function XT(i){return Ra(i)&&i.K_.length<10}function JT(i,e){i.K_.push(e);const n=xo(i);n.c_()&&n.S_&&n.b_(e.mutations)}function dy(i){return Ra(i)&&!xo(i).u_()&&i.K_.length>0}function py(i){xo(i).start()}async function ZT(i){xo(i).C_()}async function eI(i){const e=xo(i);for(const n of i.K_)e.b_(n.mutations)}async function tI(i,e,n){const s=i.K_.shift(),a=gd.from(s,e,n);await fy(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await ph(i)}async function nI(i,e){e&&xo(i).S_&&await async function(s,a){if(function(d){return M0(d)&&d!==Z.ABORTED}(a.code)){const c=s.K_.shift();xo(s).h_(),await fy(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a)),await ph(s)}}(i,e),dy(i)&&py(i)}async function mg(i,e){const n=Fe(i);n.asyncQueue.verifyOperationInProgress(),me(Ea,"RemoteStore received new credentials");const s=Ra(n);n.W_.add(3),await Ru(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await dh(n)}async function rI(i,e){const n=Fe(i);e?(n.W_.delete(2),await dh(n)):e||(n.W_.add(2),await Ru(n),n.j_.set("Unknown"))}function yl(i){return i.J_||(i.J_=function(n,s,a){const c=Fe(n);return c.M_(),new zT(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{xo:KT.bind(null,i),No:QT.bind(null,i),Lo:GT.bind(null,i),p_:YT.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),Cd(i)?Sd(i):i.j_.set("Unknown")):(await i.J_.stop(),hy(i))})),i.J_}function xo(i){return i.Y_||(i.Y_=function(n,s,a){const c=Fe(n);return c.M_(),new $T(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:ZT.bind(null,i),Lo:nI.bind(null,i),D_:eI.bind(null,i),v_:tI.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await ph(i)):(await i.Y_.stop(),i.K_.length>0&&(me(Ea,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new va,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const d=Date.now()+s,_=new Rd(e,n,d,a,c);return _.start(s),_}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kd(i,e){if(Ds("AsyncQueue",`${e}: ${i}`),gl(i))return new ve(Z.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{static emptySet(e){return new ol(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ce.comparator(n.key,s.key):(n,s)=>Ce.comparator(n.key,s.key),this.keyedMap=su(),this.sortedSet=new Lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ol)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ol;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(){this.Z_=new Lt(Ce.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):be():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class fl{constructor(e,n,s,a,c,d,_,v,T){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=_,this.excludesMetadataChanges=v,this.hasCachedResults=T}static fromInitialDocuments(e,n,s,a,c){const d=[];return n.forEach(_=>{d.push({type:0,doc:_})}),new fl(e,n,ol.emptySet(n),d,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class sI{constructor(){this.queries=_g(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const a=Fe(n),c=a.queries;a.queries=_g(),c.forEach((d,_)=>{for(const v of _.ta)v.onError(s)})})(this,new ve(Z.ABORTED,"Firestore shutting down"))}}function _g(){return new Sa(i=>V_(i),ah)}async function oI(i,e){const n=Fe(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.na()&&e.ra()&&(s=2):(c=new iI,s=e.ra()?0:1);try{switch(s){case 0:c.ea=await n.onListen(a,!0);break;case 1:c.ea=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(d){const _=kd(d,`Initialization of query '${rl(e.query)}' failed`);return void e.onError(_)}n.queries.set(a,c),c.ta.push(e),e.sa(n.onlineState),c.ea&&e.oa(c.ea)&&Pd(n)}async function aI(i,e){const n=Fe(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const d=c.ta.indexOf(e);d>=0&&(c.ta.splice(d,1),c.ta.length===0?a=e.ra()?0:1:!c.na()&&e.ra()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function lI(i,e){const n=Fe(i);let s=!1;for(const a of e){const c=a.query,d=n.queries.get(c);if(d){for(const _ of d.ta)_.oa(a)&&(s=!0);d.ea=a}}s&&Pd(n)}function uI(i,e,n){const s=Fe(i),a=s.queries.get(e);if(a)for(const c of a.ta)c.onError(n);s.queries.delete(e)}function Pd(i){i.ia.forEach(e=>{e.next()})}var Zf,yg;(yg=Zf||(Zf={}))._a="default",yg.Cache="cache";class cI{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new fl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Zf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e){this.key=e}}class gy{constructor(e){this.key=e}}class hI{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Xe(),this.mutatedKeys=Xe(),this.ya=O_(e),this.wa=new ol(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new gg,a=n?n.wa:this.wa;let c=n?n.mutatedKeys:this.mutatedKeys,d=a,_=!1;const v=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,T=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((S,b)=>{const q=a.get(S),Q=lh(this.query,b)?b:null,ie=!!q&&this.mutatedKeys.has(q.key),re=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let X=!1;q&&Q?q.data.isEqual(Q.data)?ie!==re&&(s.track({type:3,doc:Q}),X=!0):this.va(q,Q)||(s.track({type:2,doc:Q}),X=!0,(v&&this.ya(Q,v)>0||T&&this.ya(Q,T)<0)&&(_=!0)):!q&&Q?(s.track({type:0,doc:Q}),X=!0):q&&!Q&&(s.track({type:1,doc:q}),X=!0,(v||T)&&(_=!0)),X&&(Q?(d=d.add(Q),c=re?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),s.track({type:1,doc:S})}return{wa:d,Da:s,ls:_,mutatedKeys:c}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((S,b)=>function(Q,ie){const re=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return re(Q)-re(ie)}(S.type,b.type)||this.ya(S.doc,b.doc)),this.Ca(s),a=a!=null&&a;const _=n&&!a?this.Fa():[],v=this.pa.size===0&&this.current&&!a?1:0,T=v!==this.ga;return this.ga=v,d.length!==0||T?{snapshot:new fl(this.query,e.wa,c,d,e.mutatedKeys,v===0,T,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:_}:{Ma:_}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new gg,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Xe(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new gy(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new my(s))}),n}Oa(e){this.fa=e.gs,this.pa=Xe();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return fl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const xd="SyncEngine";class fI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class dI{constructor(e){this.key=e,this.Ba=!1}}class pI{constructor(e,n,s,a,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Sa(_=>V_(_),ah),this.qa=new Map,this.Qa=new Set,this.$a=new Lt(Ce.comparator),this.Ka=new Map,this.Ua=new vd,this.Wa={},this.Ga=new Map,this.za=hl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function mI(i,e,n=!0){const s=Ty(i);let a;const c=s.ka.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Na()):a=await _y(s,e,n,!0),a}async function gI(i,e){const n=Ty(i);await _y(n,e,!0,!1)}async function _y(i,e,n,s){const a=await NT(i.localStore,es(e)),c=a.targetId,d=i.sharedClientState.addLocalQueryTarget(c,n);let _;return s&&(_=await _I(i,e,c,d==="current",a.resumeToken)),i.isPrimaryClient&&n&&uy(i.remoteStore,a),_}async function _I(i,e,n,s,a){i.Ha=(b,q,Q)=>async function(re,X,Oe,Le){let je=X.view.ba(Oe);je.ls&&(je=await cg(re.localStore,X.query,!1).then(({documents:L})=>X.view.ba(L,je)));const We=Le&&Le.targetChanges.get(X.targetId),bt=Le&&Le.targetMismatches.get(X.targetId)!=null,Ke=X.view.applyChanges(je,re.isPrimaryClient,We,bt);return wg(re,X.targetId,Ke.Ma),Ke.snapshot}(i,b,q,Q);const c=await cg(i.localStore,e,!0),d=new hI(e,c.gs),_=d.ba(c.documents),v=Cu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),T=d.applyChanges(_,i.isPrimaryClient,v);wg(i,n,T.Ma);const S=new fI(e,n,d);return i.ka.set(e,S),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),T.snapshot}async function yI(i,e,n){const s=Fe(i),a=s.ka.get(e),c=s.qa.get(a.targetId);if(c.length>1)return s.qa.set(a.targetId,c.filter(d=>!ah(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Xf(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Id(s.remoteStore,a.targetId),ed(s,a.targetId)}).catch(ml)):(ed(s,a.targetId),await Xf(s.localStore,a.targetId,!0))}async function vI(i,e){const n=Fe(i),s=n.ka.get(e),a=n.qa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Id(n.remoteStore,s.targetId))}async function wI(i,e,n){const s=RI(i);try{const a=await function(d,_){const v=Fe(d),T=an.now(),S=_.reduce((Q,ie)=>Q.add(ie.key),Xe());let b,q;return v.persistence.runTransaction("Locally write mutations","readwrite",Q=>{let ie=Ns(),re=Xe();return v.ds.getEntries(Q,S).next(X=>{ie=X,ie.forEach((Oe,Le)=>{Le.isValidDocument()||(re=re.add(Oe))})}).next(()=>v.localDocuments.getOverlayedDocuments(Q,ie)).next(X=>{b=X;const Oe=[];for(const Le of _){const je=D0(Le,b.get(Le.key).overlayedDocument);je!=null&&Oe.push(new Ca(Le.key,je,C_(je.value.mapValue),ks.exists(!0)))}return v.mutationQueue.addMutationBatch(Q,T,Oe,_)}).next(X=>{q=X;const Oe=X.applyToLocalDocumentSet(b,re);return v.documentOverlayCache.saveOverlays(Q,X.batchId,Oe)})}).then(()=>({batchId:q.batchId,changes:M_(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(d,_,v){let T=d.Wa[d.currentUser.toKey()];T||(T=new Lt(Ze)),T=T.insert(_,v),d.Wa[d.currentUser.toKey()]=T}(s,a.batchId,n),await ku(s,a.changes),await ph(s.remoteStore)}catch(a){const c=kd(a,"Failed to persist write");n.reject(c)}}async function yy(i,e){const n=Fe(i);try{const s=await xT(n.localStore,e);e.targetChanges.forEach((a,c)=>{const d=n.Ka.get(c);d&&(pt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?d.Ba=!0:a.modifiedDocuments.size>0?pt(d.Ba):a.removedDocuments.size>0&&(pt(d.Ba),d.Ba=!1))}),await ku(n,s,e)}catch(s){await ml(s)}}function vg(i,e,n){const s=Fe(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.ka.forEach((c,d)=>{const _=d.view.sa(e);_.snapshot&&a.push(_.snapshot)}),function(d,_){const v=Fe(d);v.onlineState=_;let T=!1;v.queries.forEach((S,b)=>{for(const q of b.ta)q.sa(_)&&(T=!0)}),T&&Pd(v)}(s.eventManager,e),a.length&&s.La.p_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function EI(i,e,n){const s=Fe(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Ka.get(e),c=a&&a.key;if(c){let d=new Lt(Ce.comparator);d=d.insert(c,Nn.newNoDocument(c,Ve.min()));const _=Xe().add(c),v=new hh(Ve.min(),new Map,new Lt(Ze),d,_);await yy(s,v),s.$a=s.$a.remove(c),s.Ka.delete(e),bd(s)}else await Xf(s.localStore,e,!1).then(()=>ed(s,e,n)).catch(ml)}async function TI(i,e){const n=Fe(i),s=e.batch.batchId;try{const a=await PT(n.localStore,e);wy(n,s,null),vy(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ku(n,a)}catch(a){await ml(a)}}async function II(i,e,n){const s=Fe(i);try{const a=await function(d,_){const v=Fe(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",T=>{let S;return v.mutationQueue.lookupMutationBatch(T,_).next(b=>(pt(b!==null),S=b.keys(),v.mutationQueue.removeMutationBatch(T,b))).next(()=>v.mutationQueue.performConsistencyCheck(T)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(T,S,_)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(T,S)).next(()=>v.localDocuments.getDocuments(T,S))})}(s.localStore,e);wy(s,e,n),vy(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ku(s,a)}catch(a){await ml(a)}}function vy(i,e){(i.Ga.get(e)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(e)}function wy(i,e,n){const s=Fe(i);let a=s.Wa[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.Wa[s.currentUser.toKey()]=a}}function ed(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),n&&i.La.Ja(s,n);i.qa.delete(e),i.isPrimaryClient&&i.Ua.br(e).forEach(s=>{i.Ua.containsKey(s)||Ey(i,s)})}function Ey(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(Id(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ka.delete(n),bd(i))}function wg(i,e,n){for(const s of n)s instanceof my?(i.Ua.addReference(s.key,e),AI(i,s)):s instanceof gy?(me(xd,"Document no longer in limbo: "+s.key),i.Ua.removeReference(s.key,e),i.Ua.containsKey(s.key)||Ey(i,s.key)):be()}function AI(i,e){const n=e.key,s=n.path.canonicalString();i.$a.get(n)||i.Qa.has(s)||(me(xd,"New document in limbo: "+n),i.Qa.add(s),bd(i))}function bd(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new Ce(Pt.fromString(e)),s=i.za.next();i.Ka.set(s,new dI(n)),i.$a=i.$a.insert(n,s),uy(i.remoteStore,new wo(es(pd(n.path)),s,"TargetPurposeLimboResolution",ih.ae))}}async function ku(i,e,n){const s=Fe(i),a=[],c=[],d=[];s.ka.isEmpty()||(s.ka.forEach((_,v)=>{d.push(s.Ha(v,e,n).then(T=>{var S;if((T||n)&&s.isPrimaryClient){const b=T?!T.fromCache:(S=n==null?void 0:n.targetChanges.get(v.targetId))===null||S===void 0?void 0:S.current;s.sharedClientState.updateQueryState(v.targetId,b?"current":"not-current")}if(T){a.push(T);const b=Ed.Yi(v.targetId,T);c.push(b)}}))}),await Promise.all(d),s.La.p_(a),await async function(v,T){const S=Fe(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>J.forEach(T,q=>J.forEach(q.Hi,Q=>S.persistence.referenceDelegate.addReference(b,q.targetId,Q)).next(()=>J.forEach(q.Ji,Q=>S.persistence.referenceDelegate.removeReference(b,q.targetId,Q)))))}catch(b){if(!gl(b))throw b;me(Td,"Failed to update sequence numbers: "+b)}for(const b of T){const q=b.targetId;if(!b.fromCache){const Q=S.Ts.get(q),ie=Q.snapshotVersion,re=Q.withLastLimboFreeSnapshotVersion(ie);S.Ts=S.Ts.insert(q,re)}}}(s.localStore,c))}async function SI(i,e){const n=Fe(i);if(!n.currentUser.isEqual(e)){me(xd,"User change. New user:",e.toKey());const s=await sy(n.localStore,e);n.currentUser=e,function(c,d){c.Ga.forEach(_=>{_.forEach(v=>{v.reject(new ve(Z.CANCELLED,d))})}),c.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ku(n,s.Rs)}}function CI(i,e){const n=Fe(i),s=n.Ka.get(e);if(s&&s.Ba)return Xe().add(s.key);{let a=Xe();const c=n.qa.get(e);if(!c)return a;for(const d of c){const _=n.ka.get(d);a=a.unionWith(_.view.Sa)}return a}}function Ty(i){const e=Fe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=yy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EI.bind(null,e),e.La.p_=lI.bind(null,e.eventManager),e.La.Ja=uI.bind(null,e.eventManager),e}function RI(i){const e=Fe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=II.bind(null,e),e}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return kT(this.persistence,new ST,e.initialUser,this.serializer)}Xa(e){return new iy(wd.ri,this.serializer)}Za(e){return new OT}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class kI extends Jc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){pt(this.persistence.referenceDelegate instanceof Yc);const s=this.persistence.referenceDelegate.garbageCollector;return new cT(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?vr.withCacheSize(this.cacheSizeBytes):vr.DEFAULT;return new iy(s=>Yc.ri(s,n),this.serializer)}}class td{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>vg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=SI.bind(null,this.syncEngine),await rI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sI}()}createDatastore(e){const n=fh(e.databaseInfo.databaseId),s=function(c){return new UT(c)}(e.databaseInfo);return function(c,d,_,v){return new qT(c,d,_,v)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,d,_){return new WT(s,a,c,d,_)}(this.localStore,this.datastore,e.asyncQueue,n=>vg(this.syncEngine,n,0),function(){return dg.D()?new dg:new LT}())}createSyncEngine(e,n){return function(a,c,d,_,v,T,S){const b=new pI(a,c,d,_,v,T);return S&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=Fe(a);me(Ea,"RemoteStore shutting down."),c.W_.add(5),await Ru(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}td.provider={build:()=>new td};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ds("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo="FirestoreClient";class xI{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Dn.UNAUTHENTICATED,this.clientId=g_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{me(bo,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(me(bo,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new va;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=kd(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function bf(i,e){i.asyncQueue.verifyOperationInProgress(),me(bo,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await sy(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Eg(i,e){i.asyncQueue.verifyOperationInProgress();const n=await bI(i);me(bo,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>mg(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>mg(e.remoteStore,a)),i._onlineComponents=e}async function bI(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){me(bo,"Using user provided OfflineComponentProvider");try{await bf(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===Z.FAILED_PRECONDITION||a.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;al("Error using user provided cache. Falling back to memory cache: "+n),await bf(i,new Jc)}}else me(bo,"Using default OfflineComponentProvider"),await bf(i,new kI(void 0));return i._offlineComponents}async function Iy(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(me(bo,"Using user provided OnlineComponentProvider"),await Eg(i,i._uninitializedComponentsProvider._online)):(me(bo,"Using default OnlineComponentProvider"),await Eg(i,new td))),i._onlineComponents}function DI(i){return Iy(i).then(e=>e.syncEngine)}async function Tg(i){const e=await Iy(i),n=e.eventManager;return n.onListen=mI.bind(null,e.syncEngine),n.onUnlisten=yI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vI.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(i,e,n){if(!n)throw new ve(Z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function NI(i,e,n,s){if(e===!0&&s===!0)throw new ve(Z.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Ag(i){if(!Ce.isDocumentKey(i))throw new ve(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Sg(i){if(Ce.isDocumentKey(i))throw new ve(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function mh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":be()}function fu(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ve(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mh(i);throw new ve(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="firestore.googleapis.com",Cg=!0;class Rg{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cy,this.ssl=Cg}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Cg;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ry;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lT)throw new ve(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ay((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ve(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ve(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ve(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gh{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rg(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new FE;switch(s.type){case"firstParty":return new $E(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ve(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Ig.get(n);s&&(me("ComponentProvider","Removing Datastore"),Ig.delete(n),s.terminate())}(this),Promise.resolve()}}function VI(i,e,n,s={}){var a;const c=(i=fu(i,gh))._getSettings(),d=`${e}:${n}`;if(c.host!==Cy&&c.host!==d&&al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),s.mockUserToken){let _,v;if(typeof s.mockUserToken=="string")_=s.mockUserToken,v=Dn.MOCK_USER;else{_=gw(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ve(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Dn(T)}i._authCredentials=new jE(new m_(_,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ka(this.firestore,e,this._query)}}class Or{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Or(this.firestore,e,this._key)}}class Ao extends ka{constructor(e,n,s){super(e,n,pd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Or(this.firestore,null,new Ce(e))}withConverter(e){return new Ao(this.firestore,e,this._path)}}function kg(i,e,...n){if(i=Ps(i),Sy("collection","path",e),i instanceof gh){const s=Pt.fromString(e,...n);return Sg(s),new Ao(i,null,s)}{if(!(i instanceof Or||i instanceof Ao))throw new ve(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Pt.fromString(e,...n));return Sg(s),new Ao(i.firestore,null,s)}}function OI(i,e,...n){if(i=Ps(i),arguments.length===1&&(e=g_.newId()),Sy("doc","path",e),i instanceof gh){const s=Pt.fromString(e,...n);return Ag(s),new Or(i,null,new Ce(s))}{if(!(i instanceof Or||i instanceof Ao))throw new ve(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Pt.fromString(e,...n));return Ag(s),new Or(i.firestore,i instanceof Ao?i.converter:null,new Ce(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="AsyncQueue";class xg{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ay(this,"async_queue_retry"),this.Su=()=>{const s=xf();s&&me(Pg,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=xf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=xf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new va;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!gl(e))throw e;me(Pg,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const a=function(d){let _=d.message||"";return d.stack&&(_=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),_}(s);throw Ds("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const a=Rd.createAndSchedule(this,e,n,s,c=>this.Fu(c));return this.fu.push(a),a}Du(){this.gu&&be()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function bg(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const c of s)if(c in a&&typeof a[c]=="function")return!0;return!1}(i,["next","error","complete"])}class Zc extends gh{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new xg,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xg(e),this._firestoreClient=void 0,await e}}}function LI(i,e){const n=typeof i=="object"?i:o_(),s=typeof i=="string"?i:Hc,a=Au(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=pw("firestore");c&&VI(a,...c)}return a}function Ry(i){if(i._terminated)throw new ve(Z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||MI(i),i._firestoreClient}function MI(i){var e,n,s;const a=i._freezeSettings(),c=function(_,v,T,S){return new n0(_,v,T,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,Ay(S.experimentalLongPollingOptions),S.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new xI(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(_){const v=_==null?void 0:_._online.build();return{_offline:_==null?void 0:_._offline.build(v),_online:v}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dl(En.fromBase64String(e))}catch(n){throw new ve(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new dl(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=/^__.*__$/;class jI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ca(e,this.data,this.fieldMask,n,this.fieldTransforms):new Su(e,this.data,n,this.fieldTransforms)}}function ky(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class Ld{constructor(e,n,s,a,c,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Ld(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:s,Qu:!1});return a.$u(e),a}Ku(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ku({path:s,Qu:!1});return a.Bu(),a}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return eh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(ky(this.Lu)&&FI.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class UI{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||fh(e)}ju(e,n,s,a=!1){return new Ld({Lu:e,methodName:n,zu:s,path:wn.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Py(i){const e=i._freezeSettings(),n=fh(i._databaseId);return new UI(i._databaseId,!!e.ignoreUndefinedProperties,n)}function zI(i,e,n,s,a,c={}){const d=i.ju(c.merge||c.mergeFields?2:0,e,n,a);Dy("Data must be an object, but it was:",d,s);const _=xy(s,d);let v,T;if(c.merge)v=new Di(d.fieldMask),T=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const b of c.mergeFields){const q=BI(e,b,n);if(!d.contains(q))throw new ve(Z.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);HI(S,q)||S.push(q)}v=new Di(S),T=d.fieldTransforms.filter(b=>v.covers(b.field))}else v=null,T=d.fieldTransforms;return new jI(new ii(_),v,T)}class Md extends Nd{_toFieldTransform(e){return new k0(e.path,new Eu)}isEqual(e){return e instanceof Md}}function $I(i,e,n,s=!1){return Fd(n,i.ju(s?4:3,e))}function Fd(i,e){if(by(i=Ps(i)))return Dy("Unsupported field value:",e,i),xy(i,e);if(i instanceof Nd)return function(s,a){if(!ky(a.Lu))throw a.Wu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,a){const c=[];let d=0;for(const _ of s){let v=Fd(_,a.Uu(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}}(i,e)}return function(s,a){if((s=Ps(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return S0(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=an.fromDate(s);return{timestampValue:Gc(a.serializer,c)}}if(s instanceof an){const c=new an(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Gc(a.serializer,c)}}if(s instanceof Vd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof dl)return{bytesValue:Y_(a.serializer,s._byteString)};if(s instanceof Or){const c=a.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw a.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:yd(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Od)return function(d,_){return{mapValue:{fields:{[A_]:{stringValue:S_},[Wc]:{arrayValue:{values:d.toArray().map(T=>{if(typeof T!="number")throw _.Wu("VectorValues must only contain numeric values.");return md(_.serializer,T)})}}}}}}(s,a);throw a.Wu(`Unsupported field value: ${mh(s)}`)}(i,e)}function xy(i,e){const n={};return y_(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Aa(i,(s,a)=>{const c=Fd(a,e.qu(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function by(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof an||i instanceof Vd||i instanceof dl||i instanceof Or||i instanceof Nd||i instanceof Od)}function Dy(i,e,n){if(!by(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=mh(n);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function BI(i,e,n){if((e=Ps(e))instanceof Dd)return e._internalPath;if(typeof e=="string")return Ny(i,e);throw eh("Field path arguments must be of type string or ",i,!1,void 0,n)}const qI=new RegExp("[~\\*/\\[\\]]");function Ny(i,e,n){if(e.search(qI)>=0)throw eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Dd(...e.split("."))._internalPath}catch{throw eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function eh(i,e,n,s,a){const c=s&&!s.isEmpty(),d=a!==void 0;let _=`Function ${e}() called with invalid data`;n&&(_+=" (via `toFirestore()`)"),_+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${s}`),d&&(v+=` in document ${a}`),v+=")"),new ve(Z.INVALID_ARGUMENT,_+i+v)}function HI(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Or(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(jd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WI extends Vy{data(){return super.data()}}function jd(i,e){return typeof e=="string"?Ny(i,e):e instanceof Dd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ve(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ud{}class Oy extends Ud{}function Dg(i,e,...n){let s=[];e instanceof Ud&&s.push(e),s=s.concat(n),function(c){const d=c.filter(v=>v instanceof $d).length,_=c.filter(v=>v instanceof zd).length;if(d>1||d>0&&_>0)throw new ve(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)i=a._apply(i);return i}class zd extends Oy{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new zd(e,n,s)}_apply(e){const n=this._parse(e);return Ly(e._query,n),new ka(e.firestore,e.converter,Hf(e._query,n))}_parse(e){const n=Py(e.firestore);return function(c,d,_,v,T,S,b){let q;if(T.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new ve(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){Og(b,S);const ie=[];for(const re of b)ie.push(Vg(v,c,re));q={arrayValue:{values:ie}}}else q=Vg(v,c,b)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||Og(b,S),q=$I(_,d,b,S==="in"||S==="not-in");return Zt.create(T,S,q)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class $d extends Ud{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $d(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Ni.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,c){let d=a;const _=c.getFlattenedFilters();for(const v of _)Ly(d,v),d=Hf(d,v)}(e._query,n),new ka(e.firestore,e.converter,Hf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bd extends Oy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Bd(e,n)}_apply(e){const n=function(a,c,d){if(a.startAt!==null)throw new ve(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ve(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wu(c,d)}(e._query,this._field,this._direction);return new ka(e.firestore,e.converter,function(a,c){const d=a.explicitOrderBy.concat([c]);return new _l(a.path,a.collectionGroup,d,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function Ng(i,e="asc"){const n=e,s=jd("orderBy",i);return Bd._create(s,n)}function Vg(i,e,n){if(typeof(n=Ps(n))=="string"){if(n==="")throw new ve(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!N_(e)&&n.indexOf("/")!==-1)throw new ve(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Pt.fromString(n));if(!Ce.isDocumentKey(s))throw new ve(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Hm(i,new Ce(s))}if(n instanceof Or)return Hm(i,n._key);throw new ve(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mh(n)}.`)}function Og(i,e){if(!Array.isArray(i)||i.length===0)throw new ve(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ly(i,e){const n=function(a,c){for(const d of a)for(const _ of d.getFlattenedFilters())if(c.indexOf(_.op)>=0)return _.op;return null}(i.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ve(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class QI{convertValue(e,n="none"){switch(Po(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ko(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Aa(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n[Wc].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(d=>qt(d.doubleValue));return new Od(c)}convertGeoPoint(e){return new Vd(qt(e.latitude),qt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=oh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(_u(e));default:return null}}convertTimestamp(e){const n=Ro(e);return new an(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Pt.fromString(e);pt(ny(s));const a=new yu(s.get(1),s.get(3)),c=new Ce(s.popFirst(5));return a.isEqual(n)||Ds(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class My extends Vy{constructor(e,n,s,a,c,d){super(e,n,s,a,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(jd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Uc extends My{data(e={}){return super.data(e)}}class YI{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new au(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Uc(this._firestore,this._userDataWriter,s.key,s,new au(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let d=0;return a._snapshot.docChanges.map(_=>{const v=new Uc(a._firestore,a._userDataWriter,_.doc.key,_.doc,new au(a._snapshot.mutatedKeys.has(_.doc.key),a._snapshot.fromCache),a.query.converter);return _.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}})}{let d=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(_=>c||_.type!==3).map(_=>{const v=new Uc(a._firestore,a._userDataWriter,_.doc.key,_.doc,new au(a._snapshot.mutatedKeys.has(_.doc.key),a._snapshot.fromCache),a.query.converter);let T=-1,S=-1;return _.type!==0&&(T=d.indexOf(_.doc.key),d=d.delete(_.doc.key)),_.type!==1&&(d=d.add(_.doc),S=d.indexOf(_.doc.key)),{type:XI(_.type),doc:v,oldIndex:T,newIndex:S}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function XI(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}class Fy extends QI{constructor(e){super(),this.firestore=e}convertBytes(e){return new dl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Or(this.firestore,null,n)}}function Lg(i,e){const n=fu(i.firestore,Zc),s=OI(i),a=GI(i.converter,e);return JI(n,[zI(Py(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,ks.exists(!1))]).then(()=>s)}function Mg(i,...e){var n,s,a;i=Ps(i);let c={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||bg(e[d])||(c=e[d],d++);const _={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(bg(e[d])){const b=e[d];e[d]=(n=b.next)===null||n===void 0?void 0:n.bind(b),e[d+1]=(s=b.error)===null||s===void 0?void 0:s.bind(b),e[d+2]=(a=b.complete)===null||a===void 0?void 0:a.bind(b)}let v,T,S;if(i instanceof Or)T=fu(i.firestore,Zc),S=pd(i._key.path),v={next:b=>{e[d]&&e[d](ZI(T,i,b))},error:e[d+1],complete:e[d+2]};else{const b=fu(i,ka);T=fu(b.firestore,Zc),S=b._query;const q=new Fy(T);v={next:Q=>{e[d]&&e[d](new YI(T,q,b,Q))},error:e[d+1],complete:e[d+2]},KI(i._query)}return function(q,Q,ie,re){const X=new PI(re),Oe=new cI(Q,X,ie);return q.asyncQueue.enqueueAndForget(async()=>oI(await Tg(q),Oe)),()=>{X.su(),q.asyncQueue.enqueueAndForget(async()=>aI(await Tg(q),Oe))}}(Ry(T),S,_,v)}function JI(i,e){return function(s,a){const c=new va;return s.asyncQueue.enqueueAndForget(async()=>wI(await DI(s),a,c)),c.promise}(Ry(i),e)}function ZI(i,e,n){const s=n.docs.get(e._key),a=new Fy(i);return new My(i,a,e._key,s,new au(n.hasPendingWrites,n.fromCache),e.converter)}function Fg(){return new Md("serverTimestamp")}(function(e,n=!0){(function(a){pl=a})(RE),So(new xs("firestore",(s,{instanceIdentifier:a,options:c})=>{const d=s.getProvider("app").getImmediate(),_=new Zc(new UE(s.getProvider("auth-internal")),new BE(d,s.getProvider("app-check-internal")),function(T,S){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new ve(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yu(T.options.projectId,S)}(d,a),d);return c=Object.assign({useFetchStreams:n},c),_._setSettings(c),_},"PUBLIC").setMultipleInstances(!0)),Zi(Vm,Om,e),Zi(Vm,Om,"esm2017")})();var eA="firebase",tA="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zi(eA,tA,"app");const jy="@firebase/installations",qd="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=1e4,zy=`w:${qd}`,$y="FIS_v2",nA="https://firebaseinstallations.googleapis.com/v1",rA=60*60*1e3,iA="installations",sA="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ta=new rh(iA,sA,oA);function By(i){return i instanceof Do&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy({projectId:i}){return`${nA}/projects/${i}/installations`}function Hy(i){return{token:i.token,requestStatus:2,expiresIn:lA(i.expiresIn),creationTime:Date.now()}}async function Wy(i,e){const s=(await e.json()).error;return Ta.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Ky({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function aA(i,{refreshToken:e}){const n=Ky(i);return n.append("Authorization",uA(e)),n}async function Qy(i){const e=await i();return e.status>=500&&e.status<600?i():e}function lA(i){return Number(i.replace("s","000"))}function uA(i){return`${$y} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cA({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const s=qy(i),a=Ky(i),c=e.getImmediate({optional:!0});if(c){const T=await c.getHeartbeatsHeader();T&&a.append("x-firebase-client",T)}const d={fid:n,authVersion:$y,appId:i.appId,sdkVersion:zy},_={method:"POST",headers:a,body:JSON.stringify(d)},v=await Qy(()=>fetch(s,_));if(v.ok){const T=await v.json();return{fid:T.fid||n,registrationStatus:2,refreshToken:T.refreshToken,authToken:Hy(T.authToken)}}else throw await Wy("Create Installation",v)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=/^[cdef][\w-]{21}$/,nd="";function dA(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=pA(i);return fA.test(n)?n:nd}catch{return nd}}function pA(i){return hA(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=new Map;function Xy(i,e){const n=_h(i);Jy(n,e),mA(n,e)}function Jy(i,e){const n=Yy.get(i);if(n)for(const s of n)s(e)}function mA(i,e){const n=gA();n&&n.postMessage({key:i,fid:e}),_A()}let ya=null;function gA(){return!ya&&"BroadcastChannel"in self&&(ya=new BroadcastChannel("[Firebase] FID Change"),ya.onmessage=i=>{Jy(i.data.key,i.data.fid)}),ya}function _A(){Yy.size===0&&ya&&(ya.close(),ya=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="firebase-installations-database",vA=1,Ia="firebase-installations-store";let Df=null;function Hd(){return Df||(Df=i_(yA,vA,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Ia)}}})),Df}async function th(i,e){const n=_h(i),a=(await Hd()).transaction(Ia,"readwrite"),c=a.objectStore(Ia),d=await c.get(n);return await c.put(e,n),await a.done,(!d||d.fid!==e.fid)&&Xy(i,e.fid),e}async function Zy(i){const e=_h(i),s=(await Hd()).transaction(Ia,"readwrite");await s.objectStore(Ia).delete(e),await s.done}async function yh(i,e){const n=_h(i),a=(await Hd()).transaction(Ia,"readwrite"),c=a.objectStore(Ia),d=await c.get(n),_=e(d);return _===void 0?await c.delete(n):await c.put(_,n),await a.done,_&&(!d||d.fid!==_.fid)&&Xy(i,_.fid),_}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wd(i){let e;const n=await yh(i.appConfig,s=>{const a=wA(s),c=EA(i,a);return e=c.registrationPromise,c.installationEntry});return n.fid===nd?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function wA(i){const e=i||{fid:dA(),registrationStatus:0};return ev(e)}function EA(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Ta.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=TA(i,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:IA(i)}:{installationEntry:e}}async function TA(i,e){try{const n=await cA(i,e);return th(i.appConfig,n)}catch(n){throw By(n)&&n.customData.serverCode===409?await Zy(i.appConfig):await th(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function IA(i){let e=await jg(i.appConfig);for(;e.registrationStatus===1;)await Gy(100),e=await jg(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Wd(i);return s||n}return e}function jg(i){return yh(i,e=>{if(!e)throw Ta.create("installation-not-found");return ev(e)})}function ev(i){return AA(i)?{fid:i.fid,registrationStatus:0}:i}function AA(i){return i.registrationStatus===1&&i.registrationTime+Uy<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SA({appConfig:i,heartbeatServiceProvider:e},n){const s=CA(i,n),a=aA(i,n),c=e.getImmediate({optional:!0});if(c){const T=await c.getHeartbeatsHeader();T&&a.append("x-firebase-client",T)}const d={installation:{sdkVersion:zy,appId:i.appId}},_={method:"POST",headers:a,body:JSON.stringify(d)},v=await Qy(()=>fetch(s,_));if(v.ok){const T=await v.json();return Hy(T)}else throw await Wy("Generate Auth Token",v)}function CA(i,{fid:e}){return`${qy(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kd(i,e=!1){let n;const s=await yh(i.appConfig,c=>{if(!tv(c))throw Ta.create("not-registered");const d=c.authToken;if(!e&&PA(d))return c;if(d.requestStatus===1)return n=RA(i,e),c;{if(!navigator.onLine)throw Ta.create("app-offline");const _=bA(c);return n=kA(i,_),_}});return n?await n:s.authToken}async function RA(i,e){let n=await Ug(i.appConfig);for(;n.authToken.requestStatus===1;)await Gy(100),n=await Ug(i.appConfig);const s=n.authToken;return s.requestStatus===0?Kd(i,e):s}function Ug(i){return yh(i,e=>{if(!tv(e))throw Ta.create("not-registered");const n=e.authToken;return DA(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function kA(i,e){try{const n=await SA(i,e),s=Object.assign(Object.assign({},e),{authToken:n});return await th(i.appConfig,s),n}catch(n){if(By(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Zy(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await th(i.appConfig,s)}throw n}}function tv(i){return i!==void 0&&i.registrationStatus===2}function PA(i){return i.requestStatus===2&&!xA(i)}function xA(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+rA}function bA(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function DA(i){return i.requestStatus===1&&i.requestTime+Uy<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NA(i){const e=i,{installationEntry:n,registrationPromise:s}=await Wd(e);return s?s.catch(console.error):Kd(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VA(i,e=!1){const n=i;return await OA(n),(await Kd(n,e)).token}async function OA(i){const{registrationPromise:e}=await Wd(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(i){if(!i||!i.options)throw Nf("App Configuration");if(!i.name)throw Nf("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw Nf(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Nf(i){return Ta.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="installations",MA="installations-internal",FA=i=>{const e=i.getProvider("app").getImmediate(),n=LA(e),s=Au(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},jA=i=>{const e=i.getProvider("app").getImmediate(),n=Au(e,nv).getImmediate();return{getId:()=>NA(n),getToken:a=>VA(n,a)}};function UA(){So(new xs(nv,FA,"PUBLIC")),So(new xs(MA,jA,"PRIVATE"))}UA();Zi(jy,qd);Zi(jy,qd,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh="analytics",zA="firebase_id",$A="origin",BA=60*1e3,qA="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qd="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr=new od("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Lr=new rh("analytics","Analytics",HA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(i){if(!i.startsWith(Qd)){const e=Lr.create("invalid-gtag-resource",{gtagURL:i});return wr.warn(e.message),""}return i}function rv(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function KA(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function QA(i,e){const n=KA("firebase-js-sdk-policy",{createScriptURL:WA}),s=document.createElement("script"),a=`${Qd}?l=${i}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function GA(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function YA(i,e,n,s,a,c){const d=s[a];try{if(d)await e[d];else{const v=(await rv(n)).find(T=>T.measurementId===a);v&&await e[v.appId]}}catch(_){wr.error(_)}i("config",a,c)}async function XA(i,e,n,s,a){try{let c=[];if(a&&a.send_to){let d=a.send_to;Array.isArray(d)||(d=[d]);const _=await rv(n);for(const v of d){const T=_.find(b=>b.measurementId===v),S=T&&e[T.appId];if(S)c.push(S);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),i("event",s,a||{})}catch(c){wr.error(c)}}function JA(i,e,n,s){async function a(c,...d){try{if(c==="event"){const[_,v]=d;await XA(i,e,n,_,v)}else if(c==="config"){const[_,v]=d;await YA(i,e,n,s,_,v)}else if(c==="consent"){const[_,v]=d;i("consent",_,v)}else if(c==="get"){const[_,v,T]=d;i("get",_,v,T)}else if(c==="set"){const[_]=d;i("set",_)}else i(c,...d)}catch(_){wr.error(_)}}return a}function ZA(i,e,n,s,a){let c=function(...d){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(c=window[a]),window[a]=JA(c,i,e,n),{gtagCore:c,wrappedGtag:window[a]}}function eS(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Qd)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=30,nS=1e3;class rS{constructor(e={},n=nS){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const iv=new rS;function iS(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function sS(i){var e;const{appId:n,apiKey:s}=i,a={method:"GET",headers:iS(s)},c=qA.replace("{app-id}",n),d=await fetch(c,a);if(d.status!==200&&d.status!==304){let _="";try{const v=await d.json();!((e=v.error)===null||e===void 0)&&e.message&&(_=v.error.message)}catch{}throw Lr.create("config-fetch-failed",{httpStatus:d.status,responseMessage:_})}return d.json()}async function oS(i,e=iv,n){const{appId:s,apiKey:a,measurementId:c}=i.options;if(!s)throw Lr.create("no-app-id");if(!a){if(c)return{measurementId:c,appId:s};throw Lr.create("no-api-key")}const d=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},_=new uS;return setTimeout(async()=>{_.abort()},BA),sv({appId:s,apiKey:a,measurementId:c},d,_,e)}async function sv(i,{throttleEndTimeMillis:e,backoffCount:n},s,a=iv){var c;const{appId:d,measurementId:_}=i;try{await aS(s,e)}catch(v){if(_)return wr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:d,measurementId:_};throw v}try{const v=await sS(i);return a.deleteThrottleMetadata(d),v}catch(v){const T=v;if(!lS(T)){if(a.deleteThrottleMetadata(d),_)return wr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_} provided in the "measurementId" field in the local Firebase config. [${T==null?void 0:T.message}]`),{appId:d,measurementId:_};throw v}const S=Number((c=T==null?void 0:T.customData)===null||c===void 0?void 0:c.httpStatus)===503?Am(n,a.intervalMillis,tS):Am(n,a.intervalMillis),b={throttleEndTimeMillis:Date.now()+S,backoffCount:n+1};return a.setThrottleMetadata(d,b),wr.debug(`Calling attemptFetch again in ${S} millis`),sv(i,b,s,a)}}function aS(i,e){return new Promise((n,s)=>{const a=Math.max(e-Date.now(),0),c=setTimeout(n,a);i.addEventListener(()=>{clearTimeout(c),s(Lr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function lS(i){if(!(i instanceof Do)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class uS{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function cS(i,e,n,s,a){if(a&&a.global){i("event",n,s);return}else{const c=await e,d=Object.assign(Object.assign({},s),{send_to:c});i("event",n,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hS(){if(e_())try{await t_()}catch(i){return wr.warn(Lr.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return wr.warn(Lr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function fS(i,e,n,s,a,c,d){var _;const v=oS(i);v.then(Q=>{n[Q.measurementId]=Q.appId,i.options.measurementId&&Q.measurementId!==i.options.measurementId&&wr.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${Q.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Q=>wr.error(Q)),e.push(v);const T=hS().then(Q=>{if(Q)return s.getId()}),[S,b]=await Promise.all([v,T]);eS(c)||QA(c,S.measurementId),a("js",new Date);const q=(_=d==null?void 0:d.config)!==null&&_!==void 0?_:{};return q[$A]="firebase",q.update=!0,b!=null&&(q[zA]=b),a("config",S.measurementId,q),S.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){this.app=e}_delete(){return delete du[this.app.options.appId],Promise.resolve()}}let du={},zg=[];const $g={};let Vf="dataLayer",pS="gtag",Bg,ov,qg=!1;function mS(){const i=[];if(vw()&&i.push("This is a browser extension environment."),Ew()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,a)=>`(${a+1}) ${s}`).join(" "),n=Lr.create("invalid-analytics-context",{errorInfo:e});wr.warn(n.message)}}function gS(i,e,n){mS();const s=i.options.appId;if(!s)throw Lr.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)wr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Lr.create("no-api-key");if(du[s]!=null)throw Lr.create("already-exists",{id:s});if(!qg){GA(Vf);const{wrappedGtag:c,gtagCore:d}=ZA(du,zg,$g,Vf,pS);ov=c,Bg=d,qg=!0}return du[s]=fS(i,zg,$g,e,Bg,Vf,n),new dS(i)}function _S(i=o_()){i=Ps(i);const e=Au(i,nh);return e.isInitialized()?e.getImmediate():yS(i)}function yS(i,e={}){const n=Au(i,nh);if(n.isInitialized()){const a=n.getImmediate();if($c(e,n.getOptions()))return a;throw Lr.create("already-initialized")}return n.initialize({options:e})}function vS(i,e,n,s){i=Ps(i),cS(ov,du[i.app.options.appId],e,n,s).catch(a=>wr.error(a))}const Hg="@firebase/analytics",Wg="0.10.11";function wS(){So(new xs(nh,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return gS(s,a,n)},"PUBLIC")),So(new xs("analytics-internal",i,"PRIVATE")),Zi(Hg,Wg),Zi(Hg,Wg,"esm2017");function i(e){try{const n=e.getProvider(nh).getImmediate();return{logEvent:(s,a,c)=>vS(n,s,a,c)}}catch(n){throw Lr.create("interop-component-reg-failed",{reason:n})}}}wS();const ES={apiKey:"AIzaSyDm-e_Og6Z8mmQhNFW9bYqng2_Ysuz4Yzs",authDomain:"budget-goal.firebaseapp.com",projectId:"budget-goal",storageBucket:"budget-goal.firebasestorage.app",messagingSenderId:"495031579691",appId:"1:495031579691:web:6309f9ff24427452c5a66e",measurementId:"G-LG70L4VGSH"},av=s_(ES);_S(av);const Kg=LI(av);class TS{constructor(){this.incomeSnapshots=[],this._ref_income=kg(Kg,"temp-income"),this.expenseSnapshots=[],this._ref_expense=kg(Kg,"temp-expense")}beginListeningIncome(e){console.log("begin listening to the income collection");const n=Dg(this._ref_income,Ng("lastEdited","asc"));return Mg(n,s=>{this.incomeSnapshots=s.docs,e()})}beginListeningExpense(e){console.log("begin listening to the expense collection");const n=Dg(this._ref_expense,Ng("lastEdited","asc"));return Mg(n,s=>{this.expenseSnapshots=s.docs,e()})}async add(e,n,s){if(e==="Income")try{const a=await Lg(this._ref_income,{description:n,amount:s,lastEdited:Fg()});console.log("Document written with ID: ",a.id)}catch(a){console.error("Error adding document: ",a)}else if(e==="Expense")try{const a=await Lg(this._ref_expense,{description:n,amount:s,lastEdited:Fg()});console.log("Document written with ID: ",a.id)}catch(a){console.error("Error adding document: ",a)}}}const Rs=new TS;function IS(){const[i,e]=Vc.useState([]),[n,s]=Vc.useState([]);return Vc.useEffect(()=>{const a=Rs.beginListeningIncome(()=>{e(Rs.incomeSnapshots)}),c=Rs.beginListeningExpense(()=>{s(Rs.expenseSnapshots)});return()=>{a(),c()}},[]),ge.jsxs(ge.Fragment,{children:[ge.jsx(iw,{}),ge.jsx(Qg,{incomeSnapshots:Rs.incomeSnapshots,expenseSnapshots:Rs.expenseSnapshots}),ge.jsx(Gg,{manager:Rs}),ge.jsx(Yg,{incomeSnapshots:Rs.incomeSnapshots,expenseSnapshots:Rs.expenseSnapshots})]})}function AS(){return ge.jsx(ge.Fragment,{children:ge.jsx(IS,{})})}Jv.createRoot(document.getElementById("root")).render(ge.jsx(Vc.StrictMode,{children:ge.jsx(AS,{})}))});export default SS();
