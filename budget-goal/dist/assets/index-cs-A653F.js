var GI=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var jO=GI((pI,Pm)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function Wd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var mp={exports:{}},uc={},gp={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function QI(){if(d_)return et;d_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.iterator;function R(W){return W===null||typeof W!="object"?null:(W=A&&W[A]||W["@@iterator"],typeof W=="function"?W:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,Y={};function H(W,te,_e){this.props=W,this.context=te,this.refs=Y,this.updater=_e||O}H.prototype.isReactComponent={},H.prototype.setState=function(W,te){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,te,"setState")},H.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function ee(){}ee.prototype=H.prototype;function le(W,te,_e){this.props=W,this.context=te,this.refs=Y,this.updater=_e||O}var se=le.prototype=new ee;se.constructor=le,U(se,H.prototype),se.isPureReactComponent=!0;var ye=Array.isArray,Le=Object.prototype.hasOwnProperty,Ae={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function k(W,te,_e){var Pe,je={},ce=null,Ke=null;if(te!=null)for(Pe in te.ref!==void 0&&(Ke=te.ref),te.key!==void 0&&(ce=""+te.key),te)Le.call(te,Pe)&&!M.hasOwnProperty(Pe)&&(je[Pe]=te[Pe]);var Je=arguments.length-2;if(Je===1)je.children=_e;else if(1<Je){for(var at=Array(Je),Pt=0;Pt<Je;Pt++)at[Pt]=arguments[Pt+2];je.children=at}if(W&&W.defaultProps)for(Pe in Je=W.defaultProps,Je)je[Pe]===void 0&&(je[Pe]=Je[Pe]);return{$$typeof:n,type:W,key:ce,ref:Ke,props:je,_owner:Ae.current}}function b(W,te){return{$$typeof:n,type:W.type,key:te,ref:W.ref,props:W.props,_owner:W._owner}}function L(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function $(W){var te={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(_e){return te[_e]})}var q=/\/+/g;function N(W,te){return typeof W=="object"&&W!==null&&W.key!=null?$(""+W.key):te.toString(36)}function Tt(W,te,_e,Pe,je){var ce=typeof W;(ce==="undefined"||ce==="boolean")&&(W=null);var Ke=!1;if(W===null)Ke=!0;else switch(ce){case"string":case"number":Ke=!0;break;case"object":switch(W.$$typeof){case n:case e:Ke=!0}}if(Ke)return Ke=W,je=je(Ke),W=Pe===""?"."+N(Ke,0):Pe,ye(je)?(_e="",W!=null&&(_e=W.replace(q,"$&/")+"/"),Tt(je,te,_e,"",function(Pt){return Pt})):je!=null&&(L(je)&&(je=b(je,_e+(!je.key||Ke&&Ke.key===je.key?"":(""+je.key).replace(q,"$&/")+"/")+W)),te.push(je)),1;if(Ke=0,Pe=Pe===""?".":Pe+":",ye(W))for(var Je=0;Je<W.length;Je++){ce=W[Je];var at=Pe+N(ce,Je);Ke+=Tt(ce,te,_e,at,je)}else if(at=R(W),typeof at=="function")for(W=at.call(W),Je=0;!(ce=W.next()).done;)ce=ce.value,at=Pe+N(ce,Je++),Ke+=Tt(ce,te,_e,at,je);else if(ce==="object")throw te=String(W),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return Ke}function Ft(W,te,_e){if(W==null)return W;var Pe=[],je=0;return Tt(W,Pe,"","",function(ce){return te.call(_e,ce,je++)}),Pe}function kt(W){if(W._status===-1){var te=W._result;te=te(),te.then(function(_e){(W._status===0||W._status===-1)&&(W._status=1,W._result=_e)},function(_e){(W._status===0||W._status===-1)&&(W._status=2,W._result=_e)}),W._status===-1&&(W._status=0,W._result=te)}if(W._status===1)return W._result.default;throw W._result}var Xe={current:null},F={transition:null},ke={ReactCurrentDispatcher:Xe,ReactCurrentBatchConfig:F,ReactCurrentOwner:Ae};function pe(){throw Error("act(...) is not supported in production builds of React.")}return et.Children={map:Ft,forEach:function(W,te,_e){Ft(W,function(){te.apply(this,arguments)},_e)},count:function(W){var te=0;return Ft(W,function(){te++}),te},toArray:function(W){return Ft(W,function(te){return te})||[]},only:function(W){if(!L(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},et.Component=H,et.Fragment=t,et.Profiler=o,et.PureComponent=le,et.StrictMode=i,et.Suspense=p,et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ke,et.act=pe,et.cloneElement=function(W,te,_e){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var Pe=U({},W.props),je=W.key,ce=W.ref,Ke=W._owner;if(te!=null){if(te.ref!==void 0&&(ce=te.ref,Ke=Ae.current),te.key!==void 0&&(je=""+te.key),W.type&&W.type.defaultProps)var Je=W.type.defaultProps;for(at in te)Le.call(te,at)&&!M.hasOwnProperty(at)&&(Pe[at]=te[at]===void 0&&Je!==void 0?Je[at]:te[at])}var at=arguments.length-2;if(at===1)Pe.children=_e;else if(1<at){Je=Array(at);for(var Pt=0;Pt<at;Pt++)Je[Pt]=arguments[Pt+2];Pe.children=Je}return{$$typeof:n,type:W.type,key:je,ref:ce,props:Pe,_owner:Ke}},et.createContext=function(W){return W={$$typeof:c,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:a,_context:W},W.Consumer=W},et.createElement=k,et.createFactory=function(W){var te=k.bind(null,W);return te.type=W,te},et.createRef=function(){return{current:null}},et.forwardRef=function(W){return{$$typeof:f,render:W}},et.isValidElement=L,et.lazy=function(W){return{$$typeof:T,_payload:{_status:-1,_result:W},_init:kt}},et.memo=function(W,te){return{$$typeof:_,type:W,compare:te===void 0?null:te}},et.startTransition=function(W){var te=F.transition;F.transition={};try{W()}finally{F.transition=te}},et.unstable_act=pe,et.useCallback=function(W,te){return Xe.current.useCallback(W,te)},et.useContext=function(W){return Xe.current.useContext(W)},et.useDebugValue=function(){},et.useDeferredValue=function(W){return Xe.current.useDeferredValue(W)},et.useEffect=function(W,te){return Xe.current.useEffect(W,te)},et.useId=function(){return Xe.current.useId()},et.useImperativeHandle=function(W,te,_e){return Xe.current.useImperativeHandle(W,te,_e)},et.useInsertionEffect=function(W,te){return Xe.current.useInsertionEffect(W,te)},et.useLayoutEffect=function(W,te){return Xe.current.useLayoutEffect(W,te)},et.useMemo=function(W,te){return Xe.current.useMemo(W,te)},et.useReducer=function(W,te,_e){return Xe.current.useReducer(W,te,_e)},et.useRef=function(W){return Xe.current.useRef(W)},et.useState=function(W){return Xe.current.useState(W)},et.useSyncExternalStore=function(W,te,_e){return Xe.current.useSyncExternalStore(W,te,_e)},et.useTransition=function(){return Xe.current.useTransition()},et.version="18.3.1",et}var f_;function bm(){return f_||(f_=1,gp.exports=QI()),gp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p_;function YI(){if(p_)return uc;p_=1;var n=bm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,_){var T,A={},R=null,O=null;_!==void 0&&(R=""+_),p.key!==void 0&&(R=""+p.key),p.ref!==void 0&&(O=p.ref);for(T in p)i.call(p,T)&&!a.hasOwnProperty(T)&&(A[T]=p[T]);if(f&&f.defaultProps)for(T in p=f.defaultProps,p)A[T]===void 0&&(A[T]=p[T]);return{$$typeof:e,type:f,key:R,ref:O,props:A,_owner:o.current}}return uc.Fragment=t,uc.jsx=c,uc.jsxs=c,uc}var m_;function XI(){return m_||(m_=1,mp.exports=YI()),mp.exports}var D=XI(),x=bm();const el=Wd(x);var Zh={},yp={exports:{}},Pr={},_p={exports:{}},vp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function JI(){return g_||(g_=1,function(n){function e(F,ke){var pe=F.length;F.push(ke);e:for(;0<pe;){var W=pe-1>>>1,te=F[W];if(0<o(te,ke))F[W]=ke,F[pe]=te,pe=W;else break e}}function t(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var ke=F[0],pe=F.pop();if(pe!==ke){F[0]=pe;e:for(var W=0,te=F.length,_e=te>>>1;W<_e;){var Pe=2*(W+1)-1,je=F[Pe],ce=Pe+1,Ke=F[ce];if(0>o(je,pe))ce<te&&0>o(Ke,je)?(F[W]=Ke,F[ce]=pe,W=ce):(F[W]=je,F[Pe]=pe,W=Pe);else if(ce<te&&0>o(Ke,pe))F[W]=Ke,F[ce]=pe,W=ce;else break e}}return ke}function o(F,ke){var pe=F.sortIndex-ke.sortIndex;return pe!==0?pe:F.id-ke.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var p=[],_=[],T=1,A=null,R=3,O=!1,U=!1,Y=!1,H=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function se(F){for(var ke=t(_);ke!==null;){if(ke.callback===null)i(_);else if(ke.startTime<=F)i(_),ke.sortIndex=ke.expirationTime,e(p,ke);else break;ke=t(_)}}function ye(F){if(Y=!1,se(F),!U)if(t(p)!==null)U=!0,kt(Le);else{var ke=t(_);ke!==null&&Xe(ye,ke.startTime-F)}}function Le(F,ke){U=!1,Y&&(Y=!1,ee(k),k=-1),O=!0;var pe=R;try{for(se(ke),A=t(p);A!==null&&(!(A.expirationTime>ke)||F&&!$());){var W=A.callback;if(typeof W=="function"){A.callback=null,R=A.priorityLevel;var te=W(A.expirationTime<=ke);ke=n.unstable_now(),typeof te=="function"?A.callback=te:A===t(p)&&i(p),se(ke)}else i(p);A=t(p)}if(A!==null)var _e=!0;else{var Pe=t(_);Pe!==null&&Xe(ye,Pe.startTime-ke),_e=!1}return _e}finally{A=null,R=pe,O=!1}}var Ae=!1,M=null,k=-1,b=5,L=-1;function $(){return!(n.unstable_now()-L<b)}function q(){if(M!==null){var F=n.unstable_now();L=F;var ke=!0;try{ke=M(!0,F)}finally{ke?N():(Ae=!1,M=null)}}else Ae=!1}var N;if(typeof le=="function")N=function(){le(q)};else if(typeof MessageChannel<"u"){var Tt=new MessageChannel,Ft=Tt.port2;Tt.port1.onmessage=q,N=function(){Ft.postMessage(null)}}else N=function(){H(q,0)};function kt(F){M=F,Ae||(Ae=!0,N())}function Xe(F,ke){k=H(function(){F(n.unstable_now())},ke)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){U||O||(U=!0,kt(Le))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return R},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(F){switch(R){case 1:case 2:case 3:var ke=3;break;default:ke=R}var pe=R;R=ke;try{return F()}finally{R=pe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,ke){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var pe=R;R=F;try{return ke()}finally{R=pe}},n.unstable_scheduleCallback=function(F,ke,pe){var W=n.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?W+pe:W):pe=W,F){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=pe+te,F={id:T++,callback:ke,priorityLevel:F,startTime:pe,expirationTime:te,sortIndex:-1},pe>W?(F.sortIndex=pe,e(_,F),t(p)===null&&F===t(_)&&(Y?(ee(k),k=-1):Y=!0,Xe(ye,pe-W))):(F.sortIndex=te,e(p,F),U||O||(U=!0,kt(Le))),F},n.unstable_shouldYield=$,n.unstable_wrapCallback=function(F){var ke=R;return function(){var pe=R;R=ke;try{return F.apply(this,arguments)}finally{R=pe}}}}(vp)),vp}var y_;function ZI(){return y_||(y_=1,_p.exports=JI()),_p.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function eS(){if(__)return Pr;__=1;var n=bm(),e=ZI();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T={},A={};function R(r){return p.call(A,r)?!0:p.call(T,r)?!1:_.test(r)?A[r]=!0:(T[r]=!0,!1)}function O(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function U(r,s,l,h){if(s===null||typeof s>"u"||O(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function Y(r,s,l,h,m,y,I){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=I}var H={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){H[r]=new Y(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];H[s]=new Y(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){H[r]=new Y(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){H[r]=new Y(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){H[r]=new Y(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){H[r]=new Y(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){H[r]=new Y(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){H[r]=new Y(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){H[r]=new Y(r,5,!1,r.toLowerCase(),null,!1,!1)});var ee=/[\-:]([a-z])/g;function le(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(ee,le);H[s]=new Y(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(ee,le);H[s]=new Y(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(ee,le);H[s]=new Y(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){H[r]=new Y(r,1,!1,r.toLowerCase(),null,!1,!1)}),H.xlinkHref=new Y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){H[r]=new Y(r,1,!1,r.toLowerCase(),null,!0,!0)});function se(r,s,l,h){var m=H.hasOwnProperty(s)?H[s]:null;(m!==null?m.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(U(s,l,m,h)&&(l=null),h||m===null?R(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):m.mustUseProperty?r[m.propertyName]=l===null?m.type===3?!1:"":l:(s=m.attributeName,h=m.attributeNamespace,l===null?r.removeAttribute(s):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var ye=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Le=Symbol.for("react.element"),Ae=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),$=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),Tt=Symbol.for("react.suspense_list"),Ft=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),Xe=Symbol.for("react.offscreen"),F=Symbol.iterator;function ke(r){return r===null||typeof r!="object"?null:(r=F&&r[F]||r["@@iterator"],typeof r=="function"?r:null)}var pe=Object.assign,W;function te(r){if(W===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);W=s&&s[1]||""}return`
`+W+r}var _e=!1;function Pe(r,s){if(!r||_e)return"";_e=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(J){var h=J}Reflect.construct(r,[],s)}else{try{s.call()}catch(J){h=J}r.call(s.prototype)}else{try{throw Error()}catch(J){h=J}r()}}catch(J){if(J&&h&&typeof J.stack=="string"){for(var m=J.stack.split(`
`),y=h.stack.split(`
`),I=m.length-1,P=y.length-1;1<=I&&0<=P&&m[I]!==y[P];)P--;for(;1<=I&&0<=P;I--,P--)if(m[I]!==y[P]){if(I!==1||P!==1)do if(I--,P--,0>P||m[I]!==y[P]){var V=`
`+m[I].replace(" at new "," at ");return r.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",r.displayName)),V}while(1<=I&&0<=P);break}}}finally{_e=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?te(r):""}function je(r){switch(r.tag){case 5:return te(r.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return r=Pe(r.type,!1),r;case 11:return r=Pe(r.type.render,!1),r;case 1:return r=Pe(r.type,!0),r;default:return""}}function ce(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case M:return"Fragment";case Ae:return"Portal";case b:return"Profiler";case k:return"StrictMode";case N:return"Suspense";case Tt:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case $:return(r.displayName||"Context")+".Consumer";case L:return(r._context.displayName||"Context")+".Provider";case q:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ft:return s=r.displayName||null,s!==null?s:ce(r.type)||"Memo";case kt:s=r._payload,r=r._init;try{return ce(r(s))}catch{}}return null}function Ke(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(s);case 8:return s===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Je(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function at(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Pt(r){var s=at(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return m.call(this)},set:function(I){h=""+I,y.call(this,I)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(I){h=""+I},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function tn(r){r._valueTracker||(r._valueTracker=Pt(r))}function Mn(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=at(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function nn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Gt(r,s){var l=s.checked;return pe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function ct(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=Je(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Jr(r,s){s=s.checked,s!=null&&se(r,"checked",s,!1)}function Dr(r,s){Jr(r,s);var l=Je(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?ts(r,s.type,l):s.hasOwnProperty("defaultValue")&&ts(r,s.type,Je(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function lo(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function ts(r,s,l){(s!=="number"||nn(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Or=Array.isArray;function Lr(r,s,l,h){if(r=r.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<r.length;l++)m=s.hasOwnProperty("$"+r[l].value),r[l].selected!==m&&(r[l].selected=m),m&&h&&(r[l].defaultSelected=!0)}else{for(l=""+Je(l),s=null,m=0;m<r.length;m++){if(r[m].value===l){r[m].selected=!0,h&&(r[m].defaultSelected=!0);return}s!==null||r[m].disabled||(s=r[m])}s!==null&&(s.selected=!0)}}function Zr(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return pe({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function An(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Or(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Je(l)}}function ei(r,s){var l=Je(s.value),h=Je(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function Mr(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function De(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ht(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?De(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Rn,ma=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,m){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,m)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Rn=Rn||document.createElement("div"),Rn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Rn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function ti(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var ks={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ps=["Webkit","ms","Moz","O"];Object.keys(ks).forEach(function(r){Ps.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),ks[s]=ks[r]})});function ga(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||ks.hasOwnProperty(r)&&ks[r]?(""+s).trim():s+"px"}function ya(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,m=ga(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,m):r[l]=m}}var _a=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function va(r,s){if(s){if(_a[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function uo(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ni=null;function bs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var xs=null,fr=null,ri=null;function co(r){if(r=Kr(r)){if(typeof xs!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Lo(s),xs(r.stateNode,r.type,s))}}function ii(r){fr?ri?ri.push(r):ri=[r]:fr=r}function si(){if(fr){var r=fr,s=ri;if(ri=fr=null,co(r),s)for(r=0;r<s.length;r++)co(s[r])}}function Vr(r,s){return r(s)}function wa(){}var Ci=!1;function Ea(r,s,l){if(Ci)return r(s,l);Ci=!0;try{return Vr(r,s,l)}finally{Ci=!1,(fr!==null||ri!==null)&&(wa(),si())}}function jt(r,s){var l=r.stateNode;if(l===null)return null;var h=Lo(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var ho=!1;if(f)try{var Yn={};Object.defineProperty(Yn,"passive",{get:function(){ho=!0}}),window.addEventListener("test",Yn,Yn),window.removeEventListener("test",Yn,Yn)}catch{ho=!1}function pr(r,s,l,h,m,y,I,P,V){var J=Array.prototype.slice.call(arguments,3);try{s.apply(l,J)}catch(ae){this.onError(ae)}}var oi=!1,fo=null,Xn=!1,Ta=null,Cu={onError:function(r){oi=!0,fo=r}};function Fr(r,s,l,h,m,y,I,P,V){oi=!1,fo=null,pr.apply(Cu,arguments)}function rn(r,s,l,h,m,y,I,P,V){if(Fr.apply(this,arguments),oi){if(oi){var J=fo;oi=!1,fo=null}else throw Error(t(198));Xn||(Xn=!0,Ta=J)}}function Nt(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function Qt(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function bt(r){if(Nt(r)!==r)throw Error(t(188))}function Ns(r){var s=r.alternate;if(!s){if(s=Nt(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,h=s;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){l=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return bt(m),r;if(y===h)return bt(m),s;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=m,h=y;else{for(var I=!1,P=m.child;P;){if(P===l){I=!0,l=m,h=y;break}if(P===h){I=!0,h=m,l=y;break}P=P.sibling}if(!I){for(P=y.child;P;){if(P===l){I=!0,l=y,h=m;break}if(P===h){I=!0,h=y,l=m;break}P=P.sibling}if(!I)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function ai(r){return r=Ns(r),r!==null?mr(r):null}function mr(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=mr(r);if(s!==null)return s;r=r.sibling}return null}var jr=e.unstable_scheduleCallback,po=e.unstable_cancelCallback,mo=e.unstable_shouldYield,ns=e.unstable_requestPaint,It=e.unstable_now,go=e.unstable_getCurrentPriorityLevel,Ai=e.unstable_ImmediatePriority,Ri=e.unstable_UserBlockingPriority,Jn=e.unstable_NormalPriority,yo=e.unstable_LowPriority,Ia=e.unstable_IdlePriority,rs=null,Vn=null;function Sa(r){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(rs,r,void 0,(r.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:Zn,_o=Math.log,Ca=Math.LN2;function Zn(r){return r>>>=0,r===0?32:31-(_o(r)/Ca|0)|0}var sn=64,gr=4194304;function Yt(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ki(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,m=r.suspendedLanes,y=r.pingedLanes,I=l&268435455;if(I!==0){var P=I&~m;P!==0?h=Yt(P):(y&=I,y!==0&&(h=Yt(y)))}else I=l&~m,I!==0?h=Yt(I):y!==0&&(h=Yt(y));if(h===0)return 0;if(s!==0&&s!==h&&!(s&m)&&(m=h&-h,y=s&-s,m>=y||m===16&&(y&4194240)!==0))return s;if(h&4&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-En(s),m=1<<l,h|=r[l],s&=~m;return h}function Aa(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function on(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,m=r.expirationTimes,y=r.pendingLanes;0<y;){var I=31-En(y),P=1<<I,V=m[I];V===-1?(!(P&l)||P&h)&&(m[I]=Aa(P,s)):V<=s&&(r.expiredLanes|=P),y&=~P}}function Xt(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function li(){var r=sn;return sn<<=1,!(sn&4194240)&&(sn=64),r}function er(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function ui(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-En(s),r[s]=l}function vt(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var m=31-En(l),y=1<<m;s[m]=0,h[m]=-1,r[m]=-1,l&=~y}}function tr(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-En(l),m=1<<h;m&s|r[h]&s&&(r[h]|=s),l&=~m}}var Ye=0;function Pi(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var yr,vo,Ur,Ds,Ra,bi=!1,_r=[],Ut=null,vr=null,wr=null,xi=new Map,dn=new Map,ci=[],wl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wo(r,s){switch(r){case"focusin":case"focusout":Ut=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":xi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":dn.delete(s.pointerId)}}function fn(r,s,l,h,m,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},s!==null&&(s=Kr(s),s!==null&&vo(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),r)}function ka(r,s,l,h,m){switch(s){case"focusin":return Ut=fn(Ut,r,s,l,h,m),!0;case"dragenter":return vr=fn(vr,r,s,l,h,m),!0;case"mouseover":return wr=fn(wr,r,s,l,h,m),!0;case"pointerover":var y=m.pointerId;return xi.set(y,fn(xi.get(y)||null,r,s,l,h,m)),!0;case"gotpointercapture":return y=m.pointerId,dn.set(y,fn(dn.get(y)||null,r,s,l,h,m)),!0}return!1}function El(r){var s=hs(r.target);if(s!==null){var l=Nt(s);if(l!==null){if(s=l.tag,s===13){if(s=Qt(l),s!==null){r.blockedOn=s,Ra(r.priority,function(){Ur(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Er(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=Br(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);ni=h,l.target.dispatchEvent(h),ni=null}else return s=Kr(l),s!==null&&vo(s),r.blockedOn=l,!1;s.shift()}return!0}function Os(r,s,l){Er(r)&&l.delete(s)}function Pa(){bi=!1,Ut!==null&&Er(Ut)&&(Ut=null),vr!==null&&Er(vr)&&(vr=null),wr!==null&&Er(wr)&&(wr=null),xi.forEach(Os),dn.forEach(Os)}function nr(r,s){r.blockedOn===s&&(r.blockedOn=null,bi||(bi=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Pa)))}function rr(r){function s(m){return nr(m,r)}if(0<_r.length){nr(_r[0],r);for(var l=1;l<_r.length;l++){var h=_r[l];h.blockedOn===r&&(h.blockedOn=null)}}for(Ut!==null&&nr(Ut,r),vr!==null&&nr(vr,r),wr!==null&&nr(wr,r),xi.forEach(s),dn.forEach(s),l=0;l<ci.length;l++)h=ci[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<ci.length&&(l=ci[0],l.blockedOn===null);)El(l),l.blockedOn===null&&ci.shift()}var $r=ye.ReactCurrentBatchConfig,Ni=!0;function wt(r,s,l,h){var m=Ye,y=$r.transition;$r.transition=null;try{Ye=1,Eo(r,s,l,h)}finally{Ye=m,$r.transition=y}}function ba(r,s,l,h){var m=Ye,y=$r.transition;$r.transition=null;try{Ye=4,Eo(r,s,l,h)}finally{Ye=m,$r.transition=y}}function Eo(r,s,l,h){if(Ni){var m=Br(r,s,l,h);if(m===null)Mi(r,s,h,is,l),wo(r,h);else if(ka(m,r,s,l,h))h.stopPropagation();else if(wo(r,h),s&4&&-1<wl.indexOf(r)){for(;m!==null;){var y=Kr(m);if(y!==null&&yr(y),y=Br(r,s,l,h),y===null&&Mi(r,s,h,is,l),y===m)break;m=y}m!==null&&h.stopPropagation()}else Mi(r,s,h,null,l)}}var is=null;function Br(r,s,l,h){if(is=null,r=bs(h),r=hs(r),r!==null)if(s=Nt(r),s===null)r=null;else if(l=s.tag,l===13){if(r=Qt(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return is=r,null}function xa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(go()){case Ai:return 1;case Ri:return 4;case Jn:case yo:return 16;case Ia:return 536870912;default:return 16}default:return 16}}var Fn=null,Ls=null,kn=null;function To(){if(kn)return kn;var r,s=Ls,l=s.length,h,m="value"in Fn?Fn.value:Fn.textContent,y=m.length;for(r=0;r<l&&s[r]===m[r];r++);var I=l-r;for(h=1;h<=I&&s[l-h]===m[y-h];h++);return kn=m.slice(r,1<h?1-h:void 0)}function Ms(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Tr(){return!0}function Io(){return!1}function pn(r){function s(l,h,m,y,I){this._reactName=l,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=I,this.currentTarget=null;for(var P in r)r.hasOwnProperty(P)&&(l=r[P],this[P]=l?l(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Tr:Io,this.isPropagationStopped=Io,this}return pe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Tr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Tr)},persist:function(){},isPersistent:Tr}),s}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vs=pn(zr),Hr=pe({},zr,{view:0,detail:0}),So=pn(Hr),Co,Di,hi,ss=pe({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ir,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==hi&&(hi&&r.type==="mousemove"?(Co=r.screenX-hi.screenX,Di=r.screenY-hi.screenY):Di=Co=0,hi=r),Co)},movementY:function(r){return"movementY"in r?r.movementY:Di}}),Fs=pn(ss),Wr=pe({},ss,{dataTransfer:0}),Ao=pn(Wr),Ro=pe({},Hr,{relatedTarget:0}),js=pn(Ro),Tl=pe({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Oi=pn(Tl),Il=pe({},zr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Sl=pn(Il),Na=pe({},zr,{data:0}),ko=pn(Na),Po={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},di={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=di[r])?!!s[r]:!1}function ir(){return Cl}var u=pe({},Hr,{key:function(r){if(r.key){var s=Po[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ms(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Wt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ir,charCode:function(r){return r.type==="keypress"?Ms(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ms(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=pn(u),w=pe({},ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C=pn(w),K=pe({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ir}),Z=pn(K),fe=pe({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),pt=pn(fe),mt=pe({},ss,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),tt=pn(mt),Jt=[9,13,27,32],$t=f&&"CompositionEvent"in window,Ir=null;f&&"documentMode"in document&&(Ir=document.documentMode);var sr=f&&"TextEvent"in window&&!Ir,os=f&&(!$t||Ir&&8<Ir&&11>=Ir),Li=" ",eh=!1;function th(r,s){switch(r){case"keyup":return Jt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Au(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var bo=!1;function vf(r,s){switch(r){case"compositionend":return Au(s);case"keypress":return s.which!==32?null:(eh=!0,Li);case"textInput":return r=s.data,r===Li&&eh?null:r;default:return null}}function nh(r,s){if(bo)return r==="compositionend"||!$t&&th(r,s)?(r=To(),kn=Ls=Fn=null,bo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return os&&s.locale!=="ko"?null:s.data;default:return null}}var rh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ru(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!rh[r.type]:s==="textarea"}function Da(r,s,l,h){ii(h),s=Nl(s,"onChange"),0<s.length&&(l=new Vs("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var xo=null,Us=null;function Sr(r){Uu(r,0)}function Al(r){var s=zs(r);if(Mn(s))return r}function wf(r,s){if(r==="change")return s}var ku=!1;if(f){var Rl;if(f){var Pu="oninput"in document;if(!Pu){var ih=document.createElement("div");ih.setAttribute("oninput","return;"),Pu=typeof ih.oninput=="function"}Rl=Pu}else Rl=!1;ku=Rl&&(!document.documentMode||9<document.documentMode)}function sh(){xo&&(xo.detachEvent("onpropertychange",oh),Us=xo=null)}function oh(r){if(r.propertyName==="value"&&Al(Us)){var s=[];Da(s,Us,r,bs(r)),Ea(Sr,s)}}function Ef(r,s,l){r==="focusin"?(sh(),xo=s,Us=l,xo.attachEvent("onpropertychange",oh)):r==="focusout"&&sh()}function Tf(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Al(Us)}function ah(r,s){if(r==="click")return Al(s)}function lh(r,s){if(r==="input"||r==="change")return Al(s)}function bu(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var qr=typeof Object.is=="function"?Object.is:bu;function Oa(r,s){if(qr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var m=l[h];if(!p.call(s,m)||!qr(r[m],s[m]))return!1}return!0}function as(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function fi(r,s){var l=as(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=as(l)}}function xu(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?xu(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function uh(){for(var r=window,s=nn();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=nn(r.document)}return s}function kl(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function ch(r){var s=uh(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&xu(l.ownerDocument.documentElement,l)){if(h!==null&&kl(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var m=l.textContent.length,y=Math.min(h.start,m);h=h.end===void 0?y:Math.min(h.end,m),!r.extend&&y>h&&(m=h,h=y,y=m),m=fi(l,y);var I=fi(l,h);m&&I&&(r.rangeCount!==1||r.anchorNode!==m.node||r.anchorOffset!==m.offset||r.focusNode!==I.node||r.focusOffset!==I.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),r.removeAllRanges(),y>h?(r.addRange(s),r.extend(I.node,I.offset)):(s.setEnd(I.node,I.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var hh=f&&"documentMode"in document&&11>=document.documentMode,$s=null,Nu=null,La=null,Du=!1;function Ou(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Du||$s==null||$s!==nn(h)||(h=$s,"selectionStart"in h&&kl(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),La&&Oa(La,h)||(La=h,h=Nl(Nu,"onSelect"),0<h.length&&(s=new Vs("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=$s)))}function Ma(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var No={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionend:Ma("Transition","TransitionEnd")},Lu={},dh={};f&&(dh=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function Pl(r){if(Lu[r])return Lu[r];if(!No[r])return r;var s=No[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in dh)return Lu[r]=s[l];return r}var fh=Pl("animationend"),pi=Pl("animationiteration"),Mu=Pl("animationstart"),ph=Pl("transitionend"),mh=new Map,gh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ls(r,s){mh.set(r,s),a(s,[r])}for(var Vu=0;Vu<gh.length;Vu++){var Fu=gh[Vu],If=Fu.toLowerCase(),Sf=Fu[0].toUpperCase()+Fu.slice(1);ls(If,"on"+Sf)}ls(fh,"onAnimationEnd"),ls(pi,"onAnimationIteration"),ls(Mu,"onAnimationStart"),ls("dblclick","onDoubleClick"),ls("focusin","onFocus"),ls("focusout","onBlur"),ls(ph,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bl=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bs));function ju(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,rn(h,s,void 0,r),r.currentTarget=null}function Uu(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],m=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var I=h.length-1;0<=I;I--){var P=h[I],V=P.instance,J=P.currentTarget;if(P=P.listener,V!==y&&m.isPropagationStopped())break e;ju(m,P,J),y=V}else for(I=0;I<h.length;I++){if(P=h[I],V=P.instance,J=P.currentTarget,P=P.listener,V!==y&&m.isPropagationStopped())break e;ju(m,P,J),y=V}}}if(Xn)throw r=Ta,Xn=!1,Ta=null,r}function gt(r,s){var l=s[Wu];l===void 0&&(l=s[Wu]=new Set);var h=r+"__bubble";l.has(h)||(yh(s,r,2,!1),l.add(h))}function Va(r,s,l){var h=0;s&&(h|=4),yh(l,r,h,s)}var xl="_reactListening"+Math.random().toString(36).slice(2);function Fa(r){if(!r[xl]){r[xl]=!0,i.forEach(function(l){l!=="selectionchange"&&(bl.has(l)||Va(l,!1,r),Va(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[xl]||(s[xl]=!0,Va("selectionchange",!1,s))}}function yh(r,s,l,h){switch(xa(s)){case 1:var m=wt;break;case 4:m=ba;break;default:m=Eo}l=m.bind(null,s,l,r),m=void 0,!ho||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),h?m!==void 0?r.addEventListener(s,l,{capture:!0,passive:m}):r.addEventListener(s,l,!0):m!==void 0?r.addEventListener(s,l,{passive:m}):r.addEventListener(s,l,!1)}function Mi(r,s,l,h,m){var y=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var I=h.tag;if(I===3||I===4){var P=h.stateNode.containerInfo;if(P===m||P.nodeType===8&&P.parentNode===m)break;if(I===4)for(I=h.return;I!==null;){var V=I.tag;if((V===3||V===4)&&(V=I.stateNode.containerInfo,V===m||V.nodeType===8&&V.parentNode===m))return;I=I.return}for(;P!==null;){if(I=hs(P),I===null)return;if(V=I.tag,V===5||V===6){h=y=I;continue e}P=P.parentNode}}h=h.return}Ea(function(){var J=y,ae=bs(l),ue=[];e:{var oe=mh.get(r);if(oe!==void 0){var we=Vs,Se=r;switch(r){case"keypress":if(Ms(l)===0)break e;case"keydown":case"keyup":we=g;break;case"focusin":Se="focus",we=js;break;case"focusout":Se="blur",we=js;break;case"beforeblur":case"afterblur":we=js;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=Fs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=Ao;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=Z;break;case fh:case pi:case Mu:we=Oi;break;case ph:we=pt;break;case"scroll":we=So;break;case"wheel":we=tt;break;case"copy":case"cut":case"paste":we=Sl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=C}var Re=(s&4)!==0,Zt=!Re&&r==="scroll",G=Re?oe!==null?oe+"Capture":null:oe;Re=[];for(var j=J,Q;j!==null;){Q=j;var de=Q.stateNode;if(Q.tag===5&&de!==null&&(Q=de,G!==null&&(de=jt(j,G),de!=null&&Re.push(ja(j,de,Q)))),Zt)break;j=j.return}0<Re.length&&(oe=new we(oe,Se,null,l,ae),ue.push({event:oe,listeners:Re}))}}if(!(s&7)){e:{if(oe=r==="mouseover"||r==="pointerover",we=r==="mouseout"||r==="pointerout",oe&&l!==ni&&(Se=l.relatedTarget||l.fromElement)&&(hs(Se)||Se[gi]))break e;if((we||oe)&&(oe=ae.window===ae?ae:(oe=ae.ownerDocument)?oe.defaultView||oe.parentWindow:window,we?(Se=l.relatedTarget||l.toElement,we=J,Se=Se?hs(Se):null,Se!==null&&(Zt=Nt(Se),Se!==Zt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(we=null,Se=J),we!==Se)){if(Re=Fs,de="onMouseLeave",G="onMouseEnter",j="mouse",(r==="pointerout"||r==="pointerover")&&(Re=C,de="onPointerLeave",G="onPointerEnter",j="pointer"),Zt=we==null?oe:zs(we),Q=Se==null?oe:zs(Se),oe=new Re(de,j+"leave",we,l,ae),oe.target=Zt,oe.relatedTarget=Q,de=null,hs(ae)===J&&(Re=new Re(G,j+"enter",Se,l,ae),Re.target=Q,Re.relatedTarget=Zt,de=Re),Zt=de,we&&Se)t:{for(Re=we,G=Se,j=0,Q=Re;Q;Q=Vi(Q))j++;for(Q=0,de=G;de;de=Vi(de))Q++;for(;0<j-Q;)Re=Vi(Re),j--;for(;0<Q-j;)G=Vi(G),Q--;for(;j--;){if(Re===G||G!==null&&Re===G.alternate)break t;Re=Vi(Re),G=Vi(G)}Re=null}else Re=null;we!==null&&Dl(ue,oe,we,Re,!1),Se!==null&&Zt!==null&&Dl(ue,Zt,Se,Re,!0)}}e:{if(oe=J?zs(J):window,we=oe.nodeName&&oe.nodeName.toLowerCase(),we==="select"||we==="input"&&oe.type==="file")var xe=wf;else if(Ru(oe))if(ku)xe=lh;else{xe=Tf;var Ve=Ef}else(we=oe.nodeName)&&we.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(xe=ah);if(xe&&(xe=xe(r,J))){Da(ue,xe,l,ae);break e}Ve&&Ve(r,oe,J),r==="focusout"&&(Ve=oe._wrapperState)&&Ve.controlled&&oe.type==="number"&&ts(oe,"number",oe.value)}switch(Ve=J?zs(J):window,r){case"focusin":(Ru(Ve)||Ve.contentEditable==="true")&&($s=Ve,Nu=J,La=null);break;case"focusout":La=Nu=$s=null;break;case"mousedown":Du=!0;break;case"contextmenu":case"mouseup":case"dragend":Du=!1,Ou(ue,l,ae);break;case"selectionchange":if(hh)break;case"keydown":case"keyup":Ou(ue,l,ae)}var Fe;if($t)e:{switch(r){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else bo?th(r,l)&&(Be="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Be="onCompositionStart");Be&&(os&&l.locale!=="ko"&&(bo||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&bo&&(Fe=To()):(Fn=ae,Ls="value"in Fn?Fn.value:Fn.textContent,bo=!0)),Ve=Nl(J,Be),0<Ve.length&&(Be=new ko(Be,r,null,l,ae),ue.push({event:Be,listeners:Ve}),Fe?Be.data=Fe:(Fe=Au(l),Fe!==null&&(Be.data=Fe)))),(Fe=sr?vf(r,l):nh(r,l))&&(J=Nl(J,"onBeforeInput"),0<J.length&&(ae=new ko("onBeforeInput","beforeinput",null,l,ae),ue.push({event:ae,listeners:J}),ae.data=Fe))}Uu(ue,s)})}function ja(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Nl(r,s){for(var l=s+"Capture",h=[];r!==null;){var m=r,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=jt(r,l),y!=null&&h.unshift(ja(r,y,m)),y=jt(r,s),y!=null&&h.push(ja(r,y,m))),r=r.return}return h}function Vi(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Dl(r,s,l,h,m){for(var y=s._reactName,I=[];l!==null&&l!==h;){var P=l,V=P.alternate,J=P.stateNode;if(V!==null&&V===h)break;P.tag===5&&J!==null&&(P=J,m?(V=jt(l,y),V!=null&&I.unshift(ja(l,V,P))):m||(V=jt(l,y),V!=null&&I.push(ja(l,V,P)))),l=l.return}I.length!==0&&r.push({event:s,listeners:I})}var Cf=/\r\n?/g,_h=/\u0000|\uFFFD/g;function vh(r){return(typeof r=="string"?r:""+r).replace(Cf,`
`).replace(_h,"")}function Fi(r,s,l){if(s=vh(s),vh(r)!==s&&l)throw Error(t(425))}function Do(){}var Ol=null,$u=null;function Bu(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var zu=typeof setTimeout=="function"?setTimeout:void 0,Ua=typeof clearTimeout=="function"?clearTimeout:void 0,us=typeof Promise=="function"?Promise:void 0,Af=typeof queueMicrotask=="function"?queueMicrotask:typeof us<"u"?function(r){return us.resolve(null).then(r).catch(Rf)}:zu;function Rf(r){setTimeout(function(){throw r})}function Hu(r,s){var l=s,h=0;do{var m=l.nextSibling;if(r.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(h===0){r.removeChild(m),rr(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=m}while(l);rr(s)}function cs(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function wh(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Oo=Math.random().toString(36).slice(2),mi="__reactFiber$"+Oo,$a="__reactProps$"+Oo,gi="__reactContainer$"+Oo,Wu="__reactEvents$"+Oo,Eh="__reactListeners$"+Oo,qu="__reactHandles$"+Oo;function hs(r){var s=r[mi];if(s)return s;for(var l=r.parentNode;l;){if(s=l[gi]||l[mi]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=wh(r);r!==null;){if(l=r[mi])return l;r=wh(r)}return s}r=l,l=r.parentNode}return null}function Kr(r){return r=r[mi]||r[gi],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function zs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Lo(r){return r[$a]||null}var Ll=[],ds=-1;function ji(r){return{current:r}}function St(r){0>ds||(r.current=Ll[ds],Ll[ds]=null,ds--)}function Rt(r,s){ds++,Ll[ds]=r.current,r.current=s}var jn={},Dt=ji(jn),Un=ji(!1),Hs=jn;function Mo(r,s){var l=r.type.contextTypes;if(!l)return jn;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in l)m[y]=s[y];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=m),m}function $n(r){return r=r.childContextTypes,r!=null}function Ml(){St(Un),St(Dt)}function Th(r,s,l){if(Dt.current!==jn)throw Error(t(168));Rt(Dt,s),Rt(Un,l)}function Ih(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var m in h)if(!(m in s))throw Error(t(108,Ke(r)||"Unknown",m));return pe({},l,h)}function Vl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||jn,Hs=Dt.current,Rt(Dt,r),Rt(Un,Un.current),!0}function Ku(r,s,l){var h=r.stateNode;if(!h)throw Error(t(169));l?(r=Ih(r,s,Hs),h.__reactInternalMemoizedMergedChildContext=r,St(Un),St(Dt),Rt(Dt,r)):St(Un),Rt(Un,l)}var Cr=null,Ws=!1,Gu=!1;function Sh(r){Cr===null?Cr=[r]:Cr.push(r)}function Ba(r){Ws=!0,Sh(r)}function E(){if(!Gu&&Cr!==null){Gu=!0;var r=0,s=Ye;try{var l=Cr;for(Ye=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}Cr=null,Ws=!1}catch(m){throw Cr!==null&&(Cr=Cr.slice(r+1)),jr(Ai,E),m}finally{Ye=s,Gu=!1}}return null}var d=[],v=0,S=null,B=0,z=[],X=0,ne=null,he=1,me="";function ve(r,s){d[v++]=B,d[v++]=S,S=r,B=s}function ge(r,s,l){z[X++]=he,z[X++]=me,z[X++]=ne,ne=r;var h=he;r=me;var m=32-En(h)-1;h&=~(1<<m),l+=1;var y=32-En(s)+m;if(30<y){var I=m-m%5;y=(h&(1<<I)-1).toString(32),h>>=I,m-=I,he=1<<32-En(s)+m|l<<m|h,me=y+r}else he=1<<y|l<<m|h,me=r}function ze(r){r.return!==null&&(ve(r,1),ge(r,1,0))}function Me(r){for(;r===S;)S=d[--v],d[v]=null,B=d[--v],d[v]=null;for(;r===ne;)ne=z[--X],z[X]=null,me=z[--X],z[X]=null,he=z[--X],z[X]=null}var Ne=null,be=null,Ee=!1,Qe=null;function Ct(r,s){var l=Ei(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Ge(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Ne=r,be=cs(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Ne=r,be=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=ne!==null?{id:he,overflow:me}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Ei(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,Ne=r,be=null,!0):!1;default:return!1}}function st(r){return(r.mode&1)!==0&&(r.flags&128)===0}function We(r){if(Ee){var s=be;if(s){var l=s;if(!Ge(r,s)){if(st(r))throw Error(t(418));s=cs(l.nextSibling);var h=Ne;s&&Ge(r,s)?Ct(h,l):(r.flags=r.flags&-4097|2,Ee=!1,Ne=r)}}else{if(st(r))throw Error(t(418));r.flags=r.flags&-4097|2,Ee=!1,Ne=r}}}function Ze(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Ne=r}function lt(r){if(r!==Ne)return!1;if(!Ee)return Ze(r),Ee=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Bu(r.type,r.memoizedProps)),s&&(s=be)){if(st(r))throw yt(),Error(t(418));for(;s;)Ct(r,s),s=cs(s.nextSibling)}if(Ze(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){be=cs(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}be=null}}else be=Ne?cs(r.stateNode.nextSibling):null;return!0}function yt(){for(var r=be;r;)r=cs(r.nextSibling)}function nt(){be=Ne=null,Ee=!1}function Ot(r){Qe===null?Qe=[r]:Qe.push(r)}var or=ye.ReactCurrentBatchConfig;function Pn(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,r));var m=h,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(I){var P=m.refs;I===null?delete P[y]:P[y]=I},s._stringRef=y,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function an(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function ar(r){var s=r._init;return s(r._payload)}function lr(r){function s(G,j){if(r){var Q=G.deletions;Q===null?(G.deletions=[j],G.flags|=16):Q.push(j)}}function l(G,j){if(!r)return null;for(;j!==null;)s(G,j),j=j.sibling;return null}function h(G,j){for(G=new Map;j!==null;)j.key!==null?G.set(j.key,j):G.set(j.index,j),j=j.sibling;return G}function m(G,j){return G=Wo(G,j),G.index=0,G.sibling=null,G}function y(G,j,Q){return G.index=Q,r?(Q=G.alternate,Q!==null?(Q=Q.index,Q<j?(G.flags|=2,j):Q):(G.flags|=2,j)):(G.flags|=1048576,j)}function I(G){return r&&G.alternate===null&&(G.flags|=2),G}function P(G,j,Q,de){return j===null||j.tag!==6?(j=up(Q,G.mode,de),j.return=G,j):(j=m(j,Q),j.return=G,j)}function V(G,j,Q,de){var xe=Q.type;return xe===M?ae(G,j,Q.props.children,de,Q.key):j!==null&&(j.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===kt&&ar(xe)===j.type)?(de=m(j,Q.props),de.ref=Pn(G,j,Q),de.return=G,de):(de=Wh(Q.type,Q.key,Q.props,null,G.mode,de),de.ref=Pn(G,j,Q),de.return=G,de)}function J(G,j,Q,de){return j===null||j.tag!==4||j.stateNode.containerInfo!==Q.containerInfo||j.stateNode.implementation!==Q.implementation?(j=cp(Q,G.mode,de),j.return=G,j):(j=m(j,Q.children||[]),j.return=G,j)}function ae(G,j,Q,de,xe){return j===null||j.tag!==7?(j=Qa(Q,G.mode,de,xe),j.return=G,j):(j=m(j,Q),j.return=G,j)}function ue(G,j,Q){if(typeof j=="string"&&j!==""||typeof j=="number")return j=up(""+j,G.mode,Q),j.return=G,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Le:return Q=Wh(j.type,j.key,j.props,null,G.mode,Q),Q.ref=Pn(G,null,j),Q.return=G,Q;case Ae:return j=cp(j,G.mode,Q),j.return=G,j;case kt:var de=j._init;return ue(G,de(j._payload),Q)}if(Or(j)||ke(j))return j=Qa(j,G.mode,Q,null),j.return=G,j;an(G,j)}return null}function oe(G,j,Q,de){var xe=j!==null?j.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return xe!==null?null:P(G,j,""+Q,de);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Le:return Q.key===xe?V(G,j,Q,de):null;case Ae:return Q.key===xe?J(G,j,Q,de):null;case kt:return xe=Q._init,oe(G,j,xe(Q._payload),de)}if(Or(Q)||ke(Q))return xe!==null?null:ae(G,j,Q,de,null);an(G,Q)}return null}function we(G,j,Q,de,xe){if(typeof de=="string"&&de!==""||typeof de=="number")return G=G.get(Q)||null,P(j,G,""+de,xe);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case Le:return G=G.get(de.key===null?Q:de.key)||null,V(j,G,de,xe);case Ae:return G=G.get(de.key===null?Q:de.key)||null,J(j,G,de,xe);case kt:var Ve=de._init;return we(G,j,Q,Ve(de._payload),xe)}if(Or(de)||ke(de))return G=G.get(Q)||null,ae(j,G,de,xe,null);an(j,de)}return null}function Se(G,j,Q,de){for(var xe=null,Ve=null,Fe=j,Be=j=0,Sn=null;Fe!==null&&Be<Q.length;Be++){Fe.index>Be?(Sn=Fe,Fe=null):Sn=Fe.sibling;var ft=oe(G,Fe,Q[Be],de);if(ft===null){Fe===null&&(Fe=Sn);break}r&&Fe&&ft.alternate===null&&s(G,Fe),j=y(ft,j,Be),Ve===null?xe=ft:Ve.sibling=ft,Ve=ft,Fe=Sn}if(Be===Q.length)return l(G,Fe),Ee&&ve(G,Be),xe;if(Fe===null){for(;Be<Q.length;Be++)Fe=ue(G,Q[Be],de),Fe!==null&&(j=y(Fe,j,Be),Ve===null?xe=Fe:Ve.sibling=Fe,Ve=Fe);return Ee&&ve(G,Be),xe}for(Fe=h(G,Fe);Be<Q.length;Be++)Sn=we(Fe,G,Be,Q[Be],de),Sn!==null&&(r&&Sn.alternate!==null&&Fe.delete(Sn.key===null?Be:Sn.key),j=y(Sn,j,Be),Ve===null?xe=Sn:Ve.sibling=Sn,Ve=Sn);return r&&Fe.forEach(function(qo){return s(G,qo)}),Ee&&ve(G,Be),xe}function Re(G,j,Q,de){var xe=ke(Q);if(typeof xe!="function")throw Error(t(150));if(Q=xe.call(Q),Q==null)throw Error(t(151));for(var Ve=xe=null,Fe=j,Be=j=0,Sn=null,ft=Q.next();Fe!==null&&!ft.done;Be++,ft=Q.next()){Fe.index>Be?(Sn=Fe,Fe=null):Sn=Fe.sibling;var qo=oe(G,Fe,ft.value,de);if(qo===null){Fe===null&&(Fe=Sn);break}r&&Fe&&qo.alternate===null&&s(G,Fe),j=y(qo,j,Be),Ve===null?xe=qo:Ve.sibling=qo,Ve=qo,Fe=Sn}if(ft.done)return l(G,Fe),Ee&&ve(G,Be),xe;if(Fe===null){for(;!ft.done;Be++,ft=Q.next())ft=ue(G,ft.value,de),ft!==null&&(j=y(ft,j,Be),Ve===null?xe=ft:Ve.sibling=ft,Ve=ft);return Ee&&ve(G,Be),xe}for(Fe=h(G,Fe);!ft.done;Be++,ft=Q.next())ft=we(Fe,G,Be,ft.value,de),ft!==null&&(r&&ft.alternate!==null&&Fe.delete(ft.key===null?Be:ft.key),j=y(ft,j,Be),Ve===null?xe=ft:Ve.sibling=ft,Ve=ft);return r&&Fe.forEach(function(KI){return s(G,KI)}),Ee&&ve(G,Be),xe}function Zt(G,j,Q,de){if(typeof Q=="object"&&Q!==null&&Q.type===M&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Le:e:{for(var xe=Q.key,Ve=j;Ve!==null;){if(Ve.key===xe){if(xe=Q.type,xe===M){if(Ve.tag===7){l(G,Ve.sibling),j=m(Ve,Q.props.children),j.return=G,G=j;break e}}else if(Ve.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===kt&&ar(xe)===Ve.type){l(G,Ve.sibling),j=m(Ve,Q.props),j.ref=Pn(G,Ve,Q),j.return=G,G=j;break e}l(G,Ve);break}else s(G,Ve);Ve=Ve.sibling}Q.type===M?(j=Qa(Q.props.children,G.mode,de,Q.key),j.return=G,G=j):(de=Wh(Q.type,Q.key,Q.props,null,G.mode,de),de.ref=Pn(G,j,Q),de.return=G,G=de)}return I(G);case Ae:e:{for(Ve=Q.key;j!==null;){if(j.key===Ve)if(j.tag===4&&j.stateNode.containerInfo===Q.containerInfo&&j.stateNode.implementation===Q.implementation){l(G,j.sibling),j=m(j,Q.children||[]),j.return=G,G=j;break e}else{l(G,j);break}else s(G,j);j=j.sibling}j=cp(Q,G.mode,de),j.return=G,G=j}return I(G);case kt:return Ve=Q._init,Zt(G,j,Ve(Q._payload),de)}if(Or(Q))return Se(G,j,Q,de);if(ke(Q))return Re(G,j,Q,de);an(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,j!==null&&j.tag===6?(l(G,j.sibling),j=m(j,Q),j.return=G,G=j):(l(G,j),j=up(Q,G.mode,de),j.return=G,G=j),I(G)):l(G,j)}return Zt}var At=lr(!0),Gr=lr(!1),ur=ji(null),Ui=null,Lt=null,_t=null;function mn(){_t=Lt=Ui=null}function Bn(r){var s=ur.current;St(ur),r._currentValue=s}function yi(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function $i(r,s){Ui=r,_t=Lt=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(Ar=!0),r.firstContext=null)}function cr(r){var s=r._currentValue;if(_t!==r)if(r={context:r,memoizedValue:s,next:null},Lt===null){if(Ui===null)throw Error(t(308));Lt=r,Ui.dependencies={lanes:0,firstContext:r}}else Lt=Lt.next=r;return s}var fs=null;function Vo(r){fs===null?fs=[r]:fs.push(r)}function Ch(r,s,l,h){var m=s.interleaved;return m===null?(l.next=l,Vo(s)):(l.next=m.next,m.next=l),s.interleaved=l,Bi(r,h)}function Bi(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var _i=!1;function Qu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yu(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function zi(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Hi(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,dt&2){var m=h.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),h.pending=s,Bi(r,l)}return m=h.interleaved,m===null?(s.next=s,Vo(h)):(s.next=m.next,m.next=s),h.interleaved=s,Bi(r,l)}function za(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,tr(r,l)}}function Ah(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var I={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?m=y=I:y=y.next=I,l=l.next}while(l!==null);y===null?m=y=s:y=y.next=s}else m=y=s;l={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Fl(r,s,l,h){var m=r.updateQueue;_i=!1;var y=m.firstBaseUpdate,I=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var V=P,J=V.next;V.next=null,I===null?y=J:I.next=J,I=V;var ae=r.alternate;ae!==null&&(ae=ae.updateQueue,P=ae.lastBaseUpdate,P!==I&&(P===null?ae.firstBaseUpdate=J:P.next=J,ae.lastBaseUpdate=V))}if(y!==null){var ue=m.baseState;I=0,ae=J=V=null,P=y;do{var oe=P.lane,we=P.eventTime;if((h&oe)===oe){ae!==null&&(ae=ae.next={eventTime:we,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var Se=r,Re=P;switch(oe=s,we=l,Re.tag){case 1:if(Se=Re.payload,typeof Se=="function"){ue=Se.call(we,ue,oe);break e}ue=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Re.payload,oe=typeof Se=="function"?Se.call(we,ue,oe):Se,oe==null)break e;ue=pe({},ue,oe);break e;case 2:_i=!0}}P.callback!==null&&P.lane!==0&&(r.flags|=64,oe=m.effects,oe===null?m.effects=[P]:oe.push(P))}else we={eventTime:we,lane:oe,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ae===null?(J=ae=we,V=ue):ae=ae.next=we,I|=oe;if(P=P.next,P===null){if(P=m.shared.pending,P===null)break;oe=P,P=oe.next,oe.next=null,m.lastBaseUpdate=oe,m.shared.pending=null}}while(!0);if(ae===null&&(V=ue),m.baseState=V,m.firstBaseUpdate=J,m.lastBaseUpdate=ae,s=m.shared.interleaved,s!==null){m=s;do I|=m.lane,m=m.next;while(m!==s)}else y===null&&(m.shared.lanes=0);Wa|=I,r.lanes=I,r.memoizedState=ue}}function ps(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],m=h.callback;if(m!==null){if(h.callback=null,h=l,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var ms={},Qr=ji(ms),Fo=ji(ms),qs=ji(ms);function gs(r){if(r===ms)throw Error(t(174));return r}function jl(r,s){switch(Rt(qs,s),Rt(Fo,r),Rt(Qr,ms),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ht(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=ht(s,r)}St(Qr),Rt(Qr,s)}function Ks(){St(Qr),St(Fo),St(qs)}function Xu(r){gs(qs.current);var s=gs(Qr.current),l=ht(s,r.type);s!==l&&(Rt(Fo,r),Rt(Qr,l))}function Ju(r){Fo.current===r&&(St(Qr),St(Fo))}var Mt=ji(0);function jo(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ul=[];function kf(){for(var r=0;r<Ul.length;r++)Ul[r]._workInProgressVersionPrimary=null;Ul.length=0}var Rh=ye.ReactCurrentDispatcher,Pf=ye.ReactCurrentBatchConfig,Ha=0,Bt=null,gn=null,Tn=null,kh=!1,Zu=!1,ec=0,mI=0;function zn(){throw Error(t(321))}function bf(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!qr(r[l],s[l]))return!1;return!0}function xf(r,s,l,h,m,y){if(Ha=y,Bt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Rh.current=r===null||r.memoizedState===null?vI:wI,r=l(h,m),Zu){y=0;do{if(Zu=!1,ec=0,25<=y)throw Error(t(301));y+=1,Tn=gn=null,s.updateQueue=null,Rh.current=EI,r=l(h,m)}while(Zu)}if(Rh.current=xh,s=gn!==null&&gn.next!==null,Ha=0,Tn=gn=Bt=null,kh=!1,s)throw Error(t(300));return r}function Nf(){var r=ec!==0;return ec=0,r}function ys(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?Bt.memoizedState=Tn=r:Tn=Tn.next=r,Tn}function vi(){if(gn===null){var r=Bt.alternate;r=r!==null?r.memoizedState:null}else r=gn.next;var s=Tn===null?Bt.memoizedState:Tn.next;if(s!==null)Tn=s,gn=r;else{if(r===null)throw Error(t(310));gn=r,r={memoizedState:gn.memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},Tn===null?Bt.memoizedState=Tn=r:Tn=Tn.next=r}return Tn}function tc(r,s){return typeof s=="function"?s(r):s}function Df(r){var s=vi(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=gn,m=h.baseQueue,y=l.pending;if(y!==null){if(m!==null){var I=m.next;m.next=y.next,y.next=I}h.baseQueue=m=y,l.pending=null}if(m!==null){y=m.next,h=h.baseState;var P=I=null,V=null,J=y;do{var ae=J.lane;if((Ha&ae)===ae)V!==null&&(V=V.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),h=J.hasEagerState?J.eagerState:r(h,J.action);else{var ue={lane:ae,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};V===null?(P=V=ue,I=h):V=V.next=ue,Bt.lanes|=ae,Wa|=ae}J=J.next}while(J!==null&&J!==y);V===null?I=h:V.next=P,qr(h,s.memoizedState)||(Ar=!0),s.memoizedState=h,s.baseState=I,s.baseQueue=V,l.lastRenderedState=h}if(r=l.interleaved,r!==null){m=r;do y=m.lane,Bt.lanes|=y,Wa|=y,m=m.next;while(m!==r)}else m===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Of(r){var s=vi(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=l.dispatch,m=l.pending,y=s.memoizedState;if(m!==null){l.pending=null;var I=m=m.next;do y=r(y,I.action),I=I.next;while(I!==m);qr(y,s.memoizedState)||(Ar=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,h]}function Xg(){}function Jg(r,s){var l=Bt,h=vi(),m=s(),y=!qr(h.memoizedState,m);if(y&&(h.memoizedState=m,Ar=!0),h=h.queue,Lf(ty.bind(null,l,h,r),[r]),h.getSnapshot!==s||y||Tn!==null&&Tn.memoizedState.tag&1){if(l.flags|=2048,nc(9,ey.bind(null,l,h,m,s),void 0,null),In===null)throw Error(t(349));Ha&30||Zg(l,s,m)}return m}function Zg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=Bt.updateQueue,s===null?(s={lastEffect:null,stores:null},Bt.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function ey(r,s,l,h){s.value=l,s.getSnapshot=h,ny(s)&&ry(r)}function ty(r,s,l){return l(function(){ny(s)&&ry(r)})}function ny(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!qr(r,l)}catch{return!0}}function ry(r){var s=Bi(r,1);s!==null&&Gi(s,r,1,-1)}function iy(r){var s=ys();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:r},s.queue=r,r=r.dispatch=_I.bind(null,Bt,r),[s.memoizedState,r]}function nc(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=Bt.updateQueue,s===null?(s={lastEffect:null,stores:null},Bt.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function sy(){return vi().memoizedState}function Ph(r,s,l,h){var m=ys();Bt.flags|=r,m.memoizedState=nc(1|s,l,void 0,h===void 0?null:h)}function bh(r,s,l,h){var m=vi();h=h===void 0?null:h;var y=void 0;if(gn!==null){var I=gn.memoizedState;if(y=I.destroy,h!==null&&bf(h,I.deps)){m.memoizedState=nc(s,l,y,h);return}}Bt.flags|=r,m.memoizedState=nc(1|s,l,y,h)}function oy(r,s){return Ph(8390656,8,r,s)}function Lf(r,s){return bh(2048,8,r,s)}function ay(r,s){return bh(4,2,r,s)}function ly(r,s){return bh(4,4,r,s)}function uy(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function cy(r,s,l){return l=l!=null?l.concat([r]):null,bh(4,4,uy.bind(null,s,r),l)}function Mf(){}function hy(r,s){var l=vi();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&bf(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function dy(r,s){var l=vi();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&bf(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function fy(r,s,l){return Ha&21?(qr(l,s)||(l=li(),Bt.lanes|=l,Wa|=l,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,Ar=!0),r.memoizedState=l)}function gI(r,s){var l=Ye;Ye=l!==0&&4>l?l:4,r(!0);var h=Pf.transition;Pf.transition={};try{r(!1),s()}finally{Ye=l,Pf.transition=h}}function py(){return vi().memoizedState}function yI(r,s,l){var h=zo(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},my(r))gy(s,l);else if(l=Ch(r,s,l,h),l!==null){var m=dr();Gi(l,r,h,m),yy(l,s,h)}}function _I(r,s,l){var h=zo(r),m={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(my(r))gy(s,m);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var I=s.lastRenderedState,P=y(I,l);if(m.hasEagerState=!0,m.eagerState=P,qr(P,I)){var V=s.interleaved;V===null?(m.next=m,Vo(s)):(m.next=V.next,V.next=m),s.interleaved=m;return}}catch{}finally{}l=Ch(r,s,m,h),l!==null&&(m=dr(),Gi(l,r,h,m),yy(l,s,h))}}function my(r){var s=r.alternate;return r===Bt||s!==null&&s===Bt}function gy(r,s){Zu=kh=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function yy(r,s,l){if(l&4194240){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,tr(r,l)}}var xh={readContext:cr,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useInsertionEffect:zn,useLayoutEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useMutableSource:zn,useSyncExternalStore:zn,useId:zn,unstable_isNewReconciler:!1},vI={readContext:cr,useCallback:function(r,s){return ys().memoizedState=[r,s===void 0?null:s],r},useContext:cr,useEffect:oy,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Ph(4194308,4,uy.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Ph(4194308,4,r,s)},useInsertionEffect:function(r,s){return Ph(4,2,r,s)},useMemo:function(r,s){var l=ys();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=ys();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=yI.bind(null,Bt,r),[h.memoizedState,r]},useRef:function(r){var s=ys();return r={current:r},s.memoizedState=r},useState:iy,useDebugValue:Mf,useDeferredValue:function(r){return ys().memoizedState=r},useTransition:function(){var r=iy(!1),s=r[0];return r=gI.bind(null,r[1]),ys().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=Bt,m=ys();if(Ee){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),In===null)throw Error(t(349));Ha&30||Zg(h,s,l)}m.memoizedState=l;var y={value:l,getSnapshot:s};return m.queue=y,oy(ty.bind(null,h,y,r),[r]),h.flags|=2048,nc(9,ey.bind(null,h,y,l,s),void 0,null),l},useId:function(){var r=ys(),s=In.identifierPrefix;if(Ee){var l=me,h=he;l=(h&~(1<<32-En(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=ec++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=mI++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},wI={readContext:cr,useCallback:hy,useContext:cr,useEffect:Lf,useImperativeHandle:cy,useInsertionEffect:ay,useLayoutEffect:ly,useMemo:dy,useReducer:Df,useRef:sy,useState:function(){return Df(tc)},useDebugValue:Mf,useDeferredValue:function(r){var s=vi();return fy(s,gn.memoizedState,r)},useTransition:function(){var r=Df(tc)[0],s=vi().memoizedState;return[r,s]},useMutableSource:Xg,useSyncExternalStore:Jg,useId:py,unstable_isNewReconciler:!1},EI={readContext:cr,useCallback:hy,useContext:cr,useEffect:Lf,useImperativeHandle:cy,useInsertionEffect:ay,useLayoutEffect:ly,useMemo:dy,useReducer:Of,useRef:sy,useState:function(){return Of(tc)},useDebugValue:Mf,useDeferredValue:function(r){var s=vi();return gn===null?s.memoizedState=r:fy(s,gn.memoizedState,r)},useTransition:function(){var r=Of(tc)[0],s=vi().memoizedState;return[r,s]},useMutableSource:Xg,useSyncExternalStore:Jg,useId:py,unstable_isNewReconciler:!1};function Wi(r,s){if(r&&r.defaultProps){s=pe({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function Vf(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:pe({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Nh={isMounted:function(r){return(r=r._reactInternals)?Nt(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=dr(),m=zo(r),y=zi(h,m);y.payload=s,l!=null&&(y.callback=l),s=Hi(r,y,m),s!==null&&(Gi(s,r,m,h),za(s,r,m))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=dr(),m=zo(r),y=zi(h,m);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=Hi(r,y,m),s!==null&&(Gi(s,r,m,h),za(s,r,m))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=dr(),h=zo(r),m=zi(l,h);m.tag=2,s!=null&&(m.callback=s),s=Hi(r,m,h),s!==null&&(Gi(s,r,h,l),za(s,r,h))}};function _y(r,s,l,h,m,y,I){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,I):s.prototype&&s.prototype.isPureReactComponent?!Oa(l,h)||!Oa(m,y):!0}function vy(r,s,l){var h=!1,m=jn,y=s.contextType;return typeof y=="object"&&y!==null?y=cr(y):(m=$n(s)?Hs:Dt.current,h=s.contextTypes,y=(h=h!=null)?Mo(r,m):jn),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Nh,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=m,r.__reactInternalMemoizedMaskedChildContext=y),s}function wy(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&Nh.enqueueReplaceState(s,s.state,null)}function Ff(r,s,l,h){var m=r.stateNode;m.props=l,m.state=r.memoizedState,m.refs={},Qu(r);var y=s.contextType;typeof y=="object"&&y!==null?m.context=cr(y):(y=$n(s)?Hs:Dt.current,m.context=Mo(r,y)),m.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Vf(r,s,y,l),m.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(s=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),s!==m.state&&Nh.enqueueReplaceState(m,m.state,null),Fl(r,l,m,h),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308)}function $l(r,s){try{var l="",h=s;do l+=je(h),h=h.return;while(h);var m=l}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:m,digest:null}}function jf(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Uf(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var TI=typeof WeakMap=="function"?WeakMap:Map;function Ey(r,s,l){l=zi(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){jh||(jh=!0,tp=h),Uf(r,s)},l}function Ty(r,s,l){l=zi(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var m=s.value;l.payload=function(){return h(m)},l.callback=function(){Uf(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Uf(r,s),typeof h!="function"&&($o===null?$o=new Set([this]):$o.add(this));var I=s.stack;this.componentDidCatch(s.value,{componentStack:I!==null?I:""})}),l}function Iy(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new TI;var m=new Set;h.set(s,m)}else m=h.get(s),m===void 0&&(m=new Set,h.set(s,m));m.has(l)||(m.add(l),r=MI.bind(null,r,s,l),s.then(r,r))}function Sy(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Cy(r,s,l,h,m){return r.mode&1?(r.flags|=65536,r.lanes=m,r):(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=zi(-1,1),s.tag=2,Hi(l,s,1))),l.lanes|=1),r)}var II=ye.ReactCurrentOwner,Ar=!1;function hr(r,s,l,h){s.child=r===null?Gr(s,null,l,h):At(s,r.child,l,h)}function Ay(r,s,l,h,m){l=l.render;var y=s.ref;return $i(s,m),h=xf(r,s,l,h,y,m),l=Nf(),r!==null&&!Ar?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~m,Gs(r,s,m)):(Ee&&l&&ze(s),s.flags|=1,hr(r,s,h,m),s.child)}function Ry(r,s,l,h,m){if(r===null){var y=l.type;return typeof y=="function"&&!lp(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,ky(r,s,y,h,m)):(r=Wh(l.type,null,h,s,s.mode,m),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!(r.lanes&m)){var I=y.memoizedProps;if(l=l.compare,l=l!==null?l:Oa,l(I,h)&&r.ref===s.ref)return Gs(r,s,m)}return s.flags|=1,r=Wo(y,h),r.ref=s.ref,r.return=s,s.child=r}function ky(r,s,l,h,m){if(r!==null){var y=r.memoizedProps;if(Oa(y,h)&&r.ref===s.ref)if(Ar=!1,s.pendingProps=h=y,(r.lanes&m)!==0)r.flags&131072&&(Ar=!0);else return s.lanes=r.lanes,Gs(r,s,m)}return $f(r,s,l,h,m)}function Py(r,s,l){var h=s.pendingProps,m=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rt(zl,Yr),Yr|=l;else{if(!(l&1073741824))return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Rt(zl,Yr),Yr|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,Rt(zl,Yr),Yr|=h}else y!==null?(h=y.baseLanes|l,s.memoizedState=null):h=l,Rt(zl,Yr),Yr|=h;return hr(r,s,m,l),s.child}function by(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function $f(r,s,l,h,m){var y=$n(l)?Hs:Dt.current;return y=Mo(s,y),$i(s,m),l=xf(r,s,l,h,y,m),h=Nf(),r!==null&&!Ar?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~m,Gs(r,s,m)):(Ee&&h&&ze(s),s.flags|=1,hr(r,s,l,m),s.child)}function xy(r,s,l,h,m){if($n(l)){var y=!0;Vl(s)}else y=!1;if($i(s,m),s.stateNode===null)Oh(r,s),vy(s,l,h),Ff(s,l,h,m),h=!0;else if(r===null){var I=s.stateNode,P=s.memoizedProps;I.props=P;var V=I.context,J=l.contextType;typeof J=="object"&&J!==null?J=cr(J):(J=$n(l)?Hs:Dt.current,J=Mo(s,J));var ae=l.getDerivedStateFromProps,ue=typeof ae=="function"||typeof I.getSnapshotBeforeUpdate=="function";ue||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(P!==h||V!==J)&&wy(s,I,h,J),_i=!1;var oe=s.memoizedState;I.state=oe,Fl(s,h,I,m),V=s.memoizedState,P!==h||oe!==V||Un.current||_i?(typeof ae=="function"&&(Vf(s,l,ae,h),V=s.memoizedState),(P=_i||_y(s,l,P,h,oe,V,J))?(ue||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(s.flags|=4194308)):(typeof I.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=V),I.props=h,I.state=V,I.context=J,h=P):(typeof I.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{I=s.stateNode,Yu(r,s),P=s.memoizedProps,J=s.type===s.elementType?P:Wi(s.type,P),I.props=J,ue=s.pendingProps,oe=I.context,V=l.contextType,typeof V=="object"&&V!==null?V=cr(V):(V=$n(l)?Hs:Dt.current,V=Mo(s,V));var we=l.getDerivedStateFromProps;(ae=typeof we=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(P!==ue||oe!==V)&&wy(s,I,h,V),_i=!1,oe=s.memoizedState,I.state=oe,Fl(s,h,I,m);var Se=s.memoizedState;P!==ue||oe!==Se||Un.current||_i?(typeof we=="function"&&(Vf(s,l,we,h),Se=s.memoizedState),(J=_i||_y(s,l,J,h,oe,Se,V)||!1)?(ae||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(h,Se,V),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(h,Se,V)),typeof I.componentDidUpdate=="function"&&(s.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof I.componentDidUpdate!="function"||P===r.memoizedProps&&oe===r.memoizedState||(s.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&oe===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=Se),I.props=h,I.state=Se,I.context=V,h=J):(typeof I.componentDidUpdate!="function"||P===r.memoizedProps&&oe===r.memoizedState||(s.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&oe===r.memoizedState||(s.flags|=1024),h=!1)}return Bf(r,s,l,h,y,m)}function Bf(r,s,l,h,m,y){by(r,s);var I=(s.flags&128)!==0;if(!h&&!I)return m&&Ku(s,l,!1),Gs(r,s,y);h=s.stateNode,II.current=s;var P=I&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&I?(s.child=At(s,r.child,null,y),s.child=At(s,null,P,y)):hr(r,s,P,y),s.memoizedState=h.state,m&&Ku(s,l,!0),s.child}function Ny(r){var s=r.stateNode;s.pendingContext?Th(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Th(r,s.context,!1),jl(r,s.containerInfo)}function Dy(r,s,l,h,m){return nt(),Ot(m),s.flags|=256,hr(r,s,l,h),s.child}var zf={dehydrated:null,treeContext:null,retryLane:0};function Hf(r){return{baseLanes:r,cachePool:null,transitions:null}}function Oy(r,s,l){var h=s.pendingProps,m=Mt.current,y=!1,I=(s.flags&128)!==0,P;if((P=I)||(P=r!==null&&r.memoizedState===null?!1:(m&2)!==0),P?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(m|=1),Rt(Mt,m&1),r===null)return We(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(I=h.children,r=h.fallback,y?(h=s.mode,y=s.child,I={mode:"hidden",children:I},!(h&1)&&y!==null?(y.childLanes=0,y.pendingProps=I):y=qh(I,h,0,null),r=Qa(r,h,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=Hf(l),s.memoizedState=zf,r):Wf(s,I));if(m=r.memoizedState,m!==null&&(P=m.dehydrated,P!==null))return SI(r,s,I,h,P,m,l);if(y){y=h.fallback,I=s.mode,m=r.child,P=m.sibling;var V={mode:"hidden",children:h.children};return!(I&1)&&s.child!==m?(h=s.child,h.childLanes=0,h.pendingProps=V,s.deletions=null):(h=Wo(m,V),h.subtreeFlags=m.subtreeFlags&14680064),P!==null?y=Wo(P,y):(y=Qa(y,I,l,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,I=r.child.memoizedState,I=I===null?Hf(l):{baseLanes:I.baseLanes|l,cachePool:null,transitions:I.transitions},y.memoizedState=I,y.childLanes=r.childLanes&~l,s.memoizedState=zf,h}return y=r.child,r=y.sibling,h=Wo(y,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function Wf(r,s){return s=qh({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Dh(r,s,l,h){return h!==null&&Ot(h),At(s,r.child,null,l),r=Wf(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function SI(r,s,l,h,m,y,I){if(l)return s.flags&256?(s.flags&=-257,h=jf(Error(t(422))),Dh(r,s,I,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=h.fallback,m=s.mode,h=qh({mode:"visible",children:h.children},m,0,null),y=Qa(y,m,I,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,s.mode&1&&At(s,r.child,null,I),s.child.memoizedState=Hf(I),s.memoizedState=zf,y);if(!(s.mode&1))return Dh(r,s,I,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var P=h.dgst;return h=P,y=Error(t(419)),h=jf(y,h,void 0),Dh(r,s,I,h)}if(P=(I&r.childLanes)!==0,Ar||P){if(h=In,h!==null){switch(I&-I){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(h.suspendedLanes|I)?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,Bi(r,m),Gi(h,r,m,-1))}return ap(),h=jf(Error(t(421))),Dh(r,s,I,h)}return m.data==="$?"?(s.flags|=128,s.child=r.child,s=VI.bind(null,r),m._reactRetry=s,null):(r=y.treeContext,be=cs(m.nextSibling),Ne=s,Ee=!0,Qe=null,r!==null&&(z[X++]=he,z[X++]=me,z[X++]=ne,he=r.id,me=r.overflow,ne=s),s=Wf(s,h.children),s.flags|=4096,s)}function Ly(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),yi(r.return,s,l)}function qf(r,s,l,h,m){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:m}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=m)}function My(r,s,l){var h=s.pendingProps,m=h.revealOrder,y=h.tail;if(hr(r,s,h.children,l),h=Mt.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ly(r,l,s);else if(r.tag===19)Ly(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Rt(Mt,h),!(s.mode&1))s.memoizedState=null;else switch(m){case"forwards":for(l=s.child,m=null;l!==null;)r=l.alternate,r!==null&&jo(r)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),qf(s,!1,m,l,y);break;case"backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(r=m.alternate,r!==null&&jo(r)===null){s.child=m;break}r=m.sibling,m.sibling=l,l=m,m=r}qf(s,!0,l,null,y);break;case"together":qf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Oh(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Gs(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Wa|=s.lanes,!(l&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=Wo(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Wo(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function CI(r,s,l){switch(s.tag){case 3:Ny(s),nt();break;case 5:Xu(s);break;case 1:$n(s.type)&&Vl(s);break;case 4:jl(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,m=s.memoizedProps.value;Rt(ur,h._currentValue),h._currentValue=m;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Rt(Mt,Mt.current&1),s.flags|=128,null):l&s.child.childLanes?Oy(r,s,l):(Rt(Mt,Mt.current&1),r=Gs(r,s,l),r!==null?r.sibling:null);Rt(Mt,Mt.current&1);break;case 19:if(h=(l&s.childLanes)!==0,r.flags&128){if(h)return My(r,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Rt(Mt,Mt.current),h)break;return null;case 22:case 23:return s.lanes=0,Py(r,s,l)}return Gs(r,s,l)}var Vy,Kf,Fy,jy;Vy=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Kf=function(){},Fy=function(r,s,l,h){var m=r.memoizedProps;if(m!==h){r=s.stateNode,gs(Qr.current);var y=null;switch(l){case"input":m=Gt(r,m),h=Gt(r,h),y=[];break;case"select":m=pe({},m,{value:void 0}),h=pe({},h,{value:void 0}),y=[];break;case"textarea":m=Zr(r,m),h=Zr(r,h),y=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Do)}va(l,h);var I;l=null;for(J in m)if(!h.hasOwnProperty(J)&&m.hasOwnProperty(J)&&m[J]!=null)if(J==="style"){var P=m[J];for(I in P)P.hasOwnProperty(I)&&(l||(l={}),l[I]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(o.hasOwnProperty(J)?y||(y=[]):(y=y||[]).push(J,null));for(J in h){var V=h[J];if(P=m!=null?m[J]:void 0,h.hasOwnProperty(J)&&V!==P&&(V!=null||P!=null))if(J==="style")if(P){for(I in P)!P.hasOwnProperty(I)||V&&V.hasOwnProperty(I)||(l||(l={}),l[I]="");for(I in V)V.hasOwnProperty(I)&&P[I]!==V[I]&&(l||(l={}),l[I]=V[I])}else l||(y||(y=[]),y.push(J,l)),l=V;else J==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,P=P?P.__html:void 0,V!=null&&P!==V&&(y=y||[]).push(J,V)):J==="children"?typeof V!="string"&&typeof V!="number"||(y=y||[]).push(J,""+V):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(o.hasOwnProperty(J)?(V!=null&&J==="onScroll"&&gt("scroll",r),y||P===V||(y=[])):(y=y||[]).push(J,V))}l&&(y=y||[]).push("style",l);var J=y;(s.updateQueue=J)&&(s.flags|=4)}},jy=function(r,s,l,h){l!==h&&(s.flags|=4)};function rc(r,s){if(!Ee)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Hn(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var m=r.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function AI(r,s,l){var h=s.pendingProps;switch(Me(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hn(s),null;case 1:return $n(s.type)&&Ml(),Hn(s),null;case 3:return h=s.stateNode,Ks(),St(Un),St(Dt),kf(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(lt(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Qe!==null&&(ip(Qe),Qe=null))),Kf(r,s),Hn(s),null;case 5:Ju(s);var m=gs(qs.current);if(l=s.type,r!==null&&s.stateNode!=null)Fy(r,s,l,h,m),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Hn(s),null}if(r=gs(Qr.current),lt(s)){h=s.stateNode,l=s.type;var y=s.memoizedProps;switch(h[mi]=s,h[$a]=y,r=(s.mode&1)!==0,l){case"dialog":gt("cancel",h),gt("close",h);break;case"iframe":case"object":case"embed":gt("load",h);break;case"video":case"audio":for(m=0;m<Bs.length;m++)gt(Bs[m],h);break;case"source":gt("error",h);break;case"img":case"image":case"link":gt("error",h),gt("load",h);break;case"details":gt("toggle",h);break;case"input":ct(h,y),gt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},gt("invalid",h);break;case"textarea":An(h,y),gt("invalid",h)}va(l,y),m=null;for(var I in y)if(y.hasOwnProperty(I)){var P=y[I];I==="children"?typeof P=="string"?h.textContent!==P&&(y.suppressHydrationWarning!==!0&&Fi(h.textContent,P,r),m=["children",P]):typeof P=="number"&&h.textContent!==""+P&&(y.suppressHydrationWarning!==!0&&Fi(h.textContent,P,r),m=["children",""+P]):o.hasOwnProperty(I)&&P!=null&&I==="onScroll"&&gt("scroll",h)}switch(l){case"input":tn(h),lo(h,y,!0);break;case"textarea":tn(h),Mr(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Do)}h=m,s.updateQueue=h,h!==null&&(s.flags|=4)}else{I=m.nodeType===9?m:m.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=De(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=I.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=I.createElement(l,{is:h.is}):(r=I.createElement(l),l==="select"&&(I=r,h.multiple?I.multiple=!0:h.size&&(I.size=h.size))):r=I.createElementNS(r,l),r[mi]=s,r[$a]=h,Vy(r,s,!1,!1),s.stateNode=r;e:{switch(I=uo(l,h),l){case"dialog":gt("cancel",r),gt("close",r),m=h;break;case"iframe":case"object":case"embed":gt("load",r),m=h;break;case"video":case"audio":for(m=0;m<Bs.length;m++)gt(Bs[m],r);m=h;break;case"source":gt("error",r),m=h;break;case"img":case"image":case"link":gt("error",r),gt("load",r),m=h;break;case"details":gt("toggle",r),m=h;break;case"input":ct(r,h),m=Gt(r,h),gt("invalid",r);break;case"option":m=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},m=pe({},h,{value:void 0}),gt("invalid",r);break;case"textarea":An(r,h),m=Zr(r,h),gt("invalid",r);break;default:m=h}va(l,m),P=m;for(y in P)if(P.hasOwnProperty(y)){var V=P[y];y==="style"?ya(r,V):y==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&ma(r,V)):y==="children"?typeof V=="string"?(l!=="textarea"||V!=="")&&ti(r,V):typeof V=="number"&&ti(r,""+V):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?V!=null&&y==="onScroll"&&gt("scroll",r):V!=null&&se(r,y,V,I))}switch(l){case"input":tn(r),lo(r,h,!1);break;case"textarea":tn(r),Mr(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Je(h.value));break;case"select":r.multiple=!!h.multiple,y=h.value,y!=null?Lr(r,!!h.multiple,y,!1):h.defaultValue!=null&&Lr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(r.onclick=Do)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Hn(s),null;case 6:if(r&&s.stateNode!=null)jy(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=gs(qs.current),gs(Qr.current),lt(s)){if(h=s.stateNode,l=s.memoizedProps,h[mi]=s,(y=h.nodeValue!==l)&&(r=Ne,r!==null))switch(r.tag){case 3:Fi(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Fi(h.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[mi]=s,s.stateNode=h}return Hn(s),null;case 13:if(St(Mt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ee&&be!==null&&s.mode&1&&!(s.flags&128))yt(),nt(),s.flags|=98560,y=!1;else if(y=lt(s),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[mi]=s}else nt(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Hn(s),y=!1}else Qe!==null&&(ip(Qe),Qe=null),y=!0;if(!y)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||Mt.current&1?yn===0&&(yn=3):ap())),s.updateQueue!==null&&(s.flags|=4),Hn(s),null);case 4:return Ks(),Kf(r,s),r===null&&Fa(s.stateNode.containerInfo),Hn(s),null;case 10:return Bn(s.type._context),Hn(s),null;case 17:return $n(s.type)&&Ml(),Hn(s),null;case 19:if(St(Mt),y=s.memoizedState,y===null)return Hn(s),null;if(h=(s.flags&128)!==0,I=y.rendering,I===null)if(h)rc(y,!1);else{if(yn!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(I=jo(r),I!==null){for(s.flags|=128,rc(y,!1),h=I.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)y=l,r=h,y.flags&=14680066,I=y.alternate,I===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=I.childLanes,y.lanes=I.lanes,y.child=I.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=I.memoizedProps,y.memoizedState=I.memoizedState,y.updateQueue=I.updateQueue,y.type=I.type,r=I.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Rt(Mt,Mt.current&1|2),s.child}r=r.sibling}y.tail!==null&&It()>Hl&&(s.flags|=128,h=!0,rc(y,!1),s.lanes=4194304)}else{if(!h)if(r=jo(I),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),rc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!I.alternate&&!Ee)return Hn(s),null}else 2*It()-y.renderingStartTime>Hl&&l!==1073741824&&(s.flags|=128,h=!0,rc(y,!1),s.lanes=4194304);y.isBackwards?(I.sibling=s.child,s.child=I):(l=y.last,l!==null?l.sibling=I:s.child=I,y.last=I)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=It(),s.sibling=null,l=Mt.current,Rt(Mt,h?l&1|2:l&1),s):(Hn(s),null);case 22:case 23:return op(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?Yr&1073741824&&(Hn(s),s.subtreeFlags&6&&(s.flags|=8192)):Hn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function RI(r,s){switch(Me(s),s.tag){case 1:return $n(s.type)&&Ml(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ks(),St(Un),St(Dt),kf(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Ju(s),null;case 13:if(St(Mt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));nt()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return St(Mt),null;case 4:return Ks(),null;case 10:return Bn(s.type._context),null;case 22:case 23:return op(),null;case 24:return null;default:return null}}var Lh=!1,Wn=!1,kI=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Bl(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){qt(r,s,h)}else l.current=null}function Gf(r,s,l){try{l()}catch(h){qt(r,s,h)}}var Uy=!1;function PI(r,s){if(Ol=Ni,r=uh(),kl(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var I=0,P=-1,V=-1,J=0,ae=0,ue=r,oe=null;t:for(;;){for(var we;ue!==l||m!==0&&ue.nodeType!==3||(P=I+m),ue!==y||h!==0&&ue.nodeType!==3||(V=I+h),ue.nodeType===3&&(I+=ue.nodeValue.length),(we=ue.firstChild)!==null;)oe=ue,ue=we;for(;;){if(ue===r)break t;if(oe===l&&++J===m&&(P=I),oe===y&&++ae===h&&(V=I),(we=ue.nextSibling)!==null)break;ue=oe,oe=ue.parentNode}ue=we}l=P===-1||V===-1?null:{start:P,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for($u={focusedElem:r,selectionRange:l},Ni=!1,Ie=s;Ie!==null;)if(s=Ie,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Ie=r;else for(;Ie!==null;){s=Ie;try{var Se=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Re=Se.memoizedProps,Zt=Se.memoizedState,G=s.stateNode,j=G.getSnapshotBeforeUpdate(s.elementType===s.type?Re:Wi(s.type,Re),Zt);G.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var Q=s.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(de){qt(s,s.return,de)}if(r=s.sibling,r!==null){r.return=s.return,Ie=r;break}Ie=s.return}return Se=Uy,Uy=!1,Se}function ic(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&r)===r){var y=m.destroy;m.destroy=void 0,y!==void 0&&Gf(s,l,y)}m=m.next}while(m!==h)}}function Mh(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function Qf(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function $y(r){var s=r.alternate;s!==null&&(r.alternate=null,$y(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[mi],delete s[$a],delete s[Wu],delete s[Eh],delete s[qu])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function By(r){return r.tag===5||r.tag===3||r.tag===4}function zy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||By(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Yf(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Do));else if(h!==4&&(r=r.child,r!==null))for(Yf(r,s,l),r=r.sibling;r!==null;)Yf(r,s,l),r=r.sibling}function Xf(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Xf(r,s,l),r=r.sibling;r!==null;)Xf(r,s,l),r=r.sibling}var bn=null,qi=!1;function Uo(r,s,l){for(l=l.child;l!==null;)Hy(r,s,l),l=l.sibling}function Hy(r,s,l){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(rs,l)}catch{}switch(l.tag){case 5:Wn||Bl(l,s);case 6:var h=bn,m=qi;bn=null,Uo(r,s,l),bn=h,qi=m,bn!==null&&(qi?(r=bn,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):bn.removeChild(l.stateNode));break;case 18:bn!==null&&(qi?(r=bn,l=l.stateNode,r.nodeType===8?Hu(r.parentNode,l):r.nodeType===1&&Hu(r,l),rr(r)):Hu(bn,l.stateNode));break;case 4:h=bn,m=qi,bn=l.stateNode.containerInfo,qi=!0,Uo(r,s,l),bn=h,qi=m;break;case 0:case 11:case 14:case 15:if(!Wn&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var y=m,I=y.destroy;y=y.tag,I!==void 0&&(y&2||y&4)&&Gf(l,s,I),m=m.next}while(m!==h)}Uo(r,s,l);break;case 1:if(!Wn&&(Bl(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(P){qt(l,s,P)}Uo(r,s,l);break;case 21:Uo(r,s,l);break;case 22:l.mode&1?(Wn=(h=Wn)||l.memoizedState!==null,Uo(r,s,l),Wn=h):Uo(r,s,l);break;default:Uo(r,s,l)}}function Wy(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new kI),s.forEach(function(h){var m=FI.bind(null,r,h);l.has(h)||(l.add(h),h.then(m,m))})}}function Ki(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];try{var y=r,I=s,P=I;e:for(;P!==null;){switch(P.tag){case 5:bn=P.stateNode,qi=!1;break e;case 3:bn=P.stateNode.containerInfo,qi=!0;break e;case 4:bn=P.stateNode.containerInfo,qi=!0;break e}P=P.return}if(bn===null)throw Error(t(160));Hy(y,I,m),bn=null,qi=!1;var V=m.alternate;V!==null&&(V.return=null),m.return=null}catch(J){qt(m,s,J)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)qy(s,r),s=s.sibling}function qy(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Ki(s,r),_s(r),h&4){try{ic(3,r,r.return),Mh(3,r)}catch(Re){qt(r,r.return,Re)}try{ic(5,r,r.return)}catch(Re){qt(r,r.return,Re)}}break;case 1:Ki(s,r),_s(r),h&512&&l!==null&&Bl(l,l.return);break;case 5:if(Ki(s,r),_s(r),h&512&&l!==null&&Bl(l,l.return),r.flags&32){var m=r.stateNode;try{ti(m,"")}catch(Re){qt(r,r.return,Re)}}if(h&4&&(m=r.stateNode,m!=null)){var y=r.memoizedProps,I=l!==null?l.memoizedProps:y,P=r.type,V=r.updateQueue;if(r.updateQueue=null,V!==null)try{P==="input"&&y.type==="radio"&&y.name!=null&&Jr(m,y),uo(P,I);var J=uo(P,y);for(I=0;I<V.length;I+=2){var ae=V[I],ue=V[I+1];ae==="style"?ya(m,ue):ae==="dangerouslySetInnerHTML"?ma(m,ue):ae==="children"?ti(m,ue):se(m,ae,ue,J)}switch(P){case"input":Dr(m,y);break;case"textarea":ei(m,y);break;case"select":var oe=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var we=y.value;we!=null?Lr(m,!!y.multiple,we,!1):oe!==!!y.multiple&&(y.defaultValue!=null?Lr(m,!!y.multiple,y.defaultValue,!0):Lr(m,!!y.multiple,y.multiple?[]:"",!1))}m[$a]=y}catch(Re){qt(r,r.return,Re)}}break;case 6:if(Ki(s,r),_s(r),h&4){if(r.stateNode===null)throw Error(t(162));m=r.stateNode,y=r.memoizedProps;try{m.nodeValue=y}catch(Re){qt(r,r.return,Re)}}break;case 3:if(Ki(s,r),_s(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{rr(s.containerInfo)}catch(Re){qt(r,r.return,Re)}break;case 4:Ki(s,r),_s(r);break;case 13:Ki(s,r),_s(r),m=r.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(ep=It())),h&4&&Wy(r);break;case 22:if(ae=l!==null&&l.memoizedState!==null,r.mode&1?(Wn=(J=Wn)||ae,Ki(s,r),Wn=J):Ki(s,r),_s(r),h&8192){if(J=r.memoizedState!==null,(r.stateNode.isHidden=J)&&!ae&&r.mode&1)for(Ie=r,ae=r.child;ae!==null;){for(ue=Ie=ae;Ie!==null;){switch(oe=Ie,we=oe.child,oe.tag){case 0:case 11:case 14:case 15:ic(4,oe,oe.return);break;case 1:Bl(oe,oe.return);var Se=oe.stateNode;if(typeof Se.componentWillUnmount=="function"){h=oe,l=oe.return;try{s=h,Se.props=s.memoizedProps,Se.state=s.memoizedState,Se.componentWillUnmount()}catch(Re){qt(h,l,Re)}}break;case 5:Bl(oe,oe.return);break;case 22:if(oe.memoizedState!==null){Qy(ue);continue}}we!==null?(we.return=oe,Ie=we):Qy(ue)}ae=ae.sibling}e:for(ae=null,ue=r;;){if(ue.tag===5){if(ae===null){ae=ue;try{m=ue.stateNode,J?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(P=ue.stateNode,V=ue.memoizedProps.style,I=V!=null&&V.hasOwnProperty("display")?V.display:null,P.style.display=ga("display",I))}catch(Re){qt(r,r.return,Re)}}}else if(ue.tag===6){if(ae===null)try{ue.stateNode.nodeValue=J?"":ue.memoizedProps}catch(Re){qt(r,r.return,Re)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===r)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===r)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===r)break e;ae===ue&&(ae=null),ue=ue.return}ae===ue&&(ae=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:Ki(s,r),_s(r),h&4&&Wy(r);break;case 21:break;default:Ki(s,r),_s(r)}}function _s(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(By(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(ti(m,""),h.flags&=-33);var y=zy(r);Xf(r,y,m);break;case 3:case 4:var I=h.stateNode.containerInfo,P=zy(r);Yf(r,P,I);break;default:throw Error(t(161))}}catch(V){qt(r,r.return,V)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function bI(r,s,l){Ie=r,Ky(r)}function Ky(r,s,l){for(var h=(r.mode&1)!==0;Ie!==null;){var m=Ie,y=m.child;if(m.tag===22&&h){var I=m.memoizedState!==null||Lh;if(!I){var P=m.alternate,V=P!==null&&P.memoizedState!==null||Wn;P=Lh;var J=Wn;if(Lh=I,(Wn=V)&&!J)for(Ie=m;Ie!==null;)I=Ie,V=I.child,I.tag===22&&I.memoizedState!==null?Yy(m):V!==null?(V.return=I,Ie=V):Yy(m);for(;y!==null;)Ie=y,Ky(y),y=y.sibling;Ie=m,Lh=P,Wn=J}Gy(r)}else m.subtreeFlags&8772&&y!==null?(y.return=m,Ie=y):Gy(r)}}function Gy(r){for(;Ie!==null;){var s=Ie;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Wn||Mh(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Wn)if(l===null)h.componentDidMount();else{var m=s.elementType===s.type?l.memoizedProps:Wi(s.type,l.memoizedProps);h.componentDidUpdate(m,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&ps(s,y,h);break;case 3:var I=s.updateQueue;if(I!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}ps(s,I,l)}break;case 5:var P=s.stateNode;if(l===null&&s.flags&4){l=P;var V=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&l.focus();break;case"img":V.src&&(l.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var J=s.alternate;if(J!==null){var ae=J.memoizedState;if(ae!==null){var ue=ae.dehydrated;ue!==null&&rr(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Wn||s.flags&512&&Qf(s)}catch(oe){qt(s,s.return,oe)}}if(s===r){Ie=null;break}if(l=s.sibling,l!==null){l.return=s.return,Ie=l;break}Ie=s.return}}function Qy(r){for(;Ie!==null;){var s=Ie;if(s===r){Ie=null;break}var l=s.sibling;if(l!==null){l.return=s.return,Ie=l;break}Ie=s.return}}function Yy(r){for(;Ie!==null;){var s=Ie;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Mh(4,s)}catch(V){qt(s,l,V)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var m=s.return;try{h.componentDidMount()}catch(V){qt(s,m,V)}}var y=s.return;try{Qf(s)}catch(V){qt(s,y,V)}break;case 5:var I=s.return;try{Qf(s)}catch(V){qt(s,I,V)}}}catch(V){qt(s,s.return,V)}if(s===r){Ie=null;break}var P=s.sibling;if(P!==null){P.return=s.return,Ie=P;break}Ie=s.return}}var xI=Math.ceil,Vh=ye.ReactCurrentDispatcher,Jf=ye.ReactCurrentOwner,wi=ye.ReactCurrentBatchConfig,dt=0,In=null,ln=null,xn=0,Yr=0,zl=ji(0),yn=0,sc=null,Wa=0,Fh=0,Zf=0,oc=null,Rr=null,ep=0,Hl=1/0,Qs=null,jh=!1,tp=null,$o=null,Uh=!1,Bo=null,$h=0,ac=0,np=null,Bh=-1,zh=0;function dr(){return dt&6?It():Bh!==-1?Bh:Bh=It()}function zo(r){return r.mode&1?dt&2&&xn!==0?xn&-xn:or.transition!==null?(zh===0&&(zh=li()),zh):(r=Ye,r!==0||(r=window.event,r=r===void 0?16:xa(r.type)),r):1}function Gi(r,s,l,h){if(50<ac)throw ac=0,np=null,Error(t(185));ui(r,l,h),(!(dt&2)||r!==In)&&(r===In&&(!(dt&2)&&(Fh|=l),yn===4&&Ho(r,xn)),kr(r,h),l===1&&dt===0&&!(s.mode&1)&&(Hl=It()+500,Ws&&E()))}function kr(r,s){var l=r.callbackNode;on(r,s);var h=ki(r,r===In?xn:0);if(h===0)l!==null&&po(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&po(l),s===1)r.tag===0?Ba(Jy.bind(null,r)):Sh(Jy.bind(null,r)),Af(function(){!(dt&6)&&E()}),l=null;else{switch(Pi(h)){case 1:l=Ai;break;case 4:l=Ri;break;case 16:l=Jn;break;case 536870912:l=Ia;break;default:l=Jn}l=o_(l,Xy.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Xy(r,s){if(Bh=-1,zh=0,dt&6)throw Error(t(327));var l=r.callbackNode;if(Wl()&&r.callbackNode!==l)return null;var h=ki(r,r===In?xn:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=Hh(r,h);else{s=h;var m=dt;dt|=2;var y=e_();(In!==r||xn!==s)&&(Qs=null,Hl=It()+500,Ka(r,s));do try{OI();break}catch(P){Zy(r,P)}while(!0);mn(),Vh.current=y,dt=m,ln!==null?s=0:(In=null,xn=0,s=yn)}if(s!==0){if(s===2&&(m=Xt(r),m!==0&&(h=m,s=rp(r,m))),s===1)throw l=sc,Ka(r,0),Ho(r,h),kr(r,It()),l;if(s===6)Ho(r,h);else{if(m=r.current.alternate,!(h&30)&&!NI(m)&&(s=Hh(r,h),s===2&&(y=Xt(r),y!==0&&(h=y,s=rp(r,y))),s===1))throw l=sc,Ka(r,0),Ho(r,h),kr(r,It()),l;switch(r.finishedWork=m,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:Ga(r,Rr,Qs);break;case 3:if(Ho(r,h),(h&130023424)===h&&(s=ep+500-It(),10<s)){if(ki(r,0)!==0)break;if(m=r.suspendedLanes,(m&h)!==h){dr(),r.pingedLanes|=r.suspendedLanes&m;break}r.timeoutHandle=zu(Ga.bind(null,r,Rr,Qs),s);break}Ga(r,Rr,Qs);break;case 4:if(Ho(r,h),(h&4194240)===h)break;for(s=r.eventTimes,m=-1;0<h;){var I=31-En(h);y=1<<I,I=s[I],I>m&&(m=I),h&=~y}if(h=m,h=It()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*xI(h/1960))-h,10<h){r.timeoutHandle=zu(Ga.bind(null,r,Rr,Qs),h);break}Ga(r,Rr,Qs);break;case 5:Ga(r,Rr,Qs);break;default:throw Error(t(329))}}}return kr(r,It()),r.callbackNode===l?Xy.bind(null,r):null}function rp(r,s){var l=oc;return r.current.memoizedState.isDehydrated&&(Ka(r,s).flags|=256),r=Hh(r,s),r!==2&&(s=Rr,Rr=l,s!==null&&ip(s)),r}function ip(r){Rr===null?Rr=r:Rr.push.apply(Rr,r)}function NI(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var m=l[h],y=m.getSnapshot;m=m.value;try{if(!qr(y(),m))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ho(r,s){for(s&=~Zf,s&=~Fh,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-En(s),h=1<<l;r[l]=-1,s&=~h}}function Jy(r){if(dt&6)throw Error(t(327));Wl();var s=ki(r,0);if(!(s&1))return kr(r,It()),null;var l=Hh(r,s);if(r.tag!==0&&l===2){var h=Xt(r);h!==0&&(s=h,l=rp(r,h))}if(l===1)throw l=sc,Ka(r,0),Ho(r,s),kr(r,It()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Ga(r,Rr,Qs),kr(r,It()),null}function sp(r,s){var l=dt;dt|=1;try{return r(s)}finally{dt=l,dt===0&&(Hl=It()+500,Ws&&E())}}function qa(r){Bo!==null&&Bo.tag===0&&!(dt&6)&&Wl();var s=dt;dt|=1;var l=wi.transition,h=Ye;try{if(wi.transition=null,Ye=1,r)return r()}finally{Ye=h,wi.transition=l,dt=s,!(dt&6)&&E()}}function op(){Yr=zl.current,St(zl)}function Ka(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,Ua(l)),ln!==null)for(l=ln.return;l!==null;){var h=l;switch(Me(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Ml();break;case 3:Ks(),St(Un),St(Dt),kf();break;case 5:Ju(h);break;case 4:Ks();break;case 13:St(Mt);break;case 19:St(Mt);break;case 10:Bn(h.type._context);break;case 22:case 23:op()}l=l.return}if(In=r,ln=r=Wo(r.current,null),xn=Yr=s,yn=0,sc=null,Zf=Fh=Wa=0,Rr=oc=null,fs!==null){for(s=0;s<fs.length;s++)if(l=fs[s],h=l.interleaved,h!==null){l.interleaved=null;var m=h.next,y=l.pending;if(y!==null){var I=y.next;y.next=m,h.next=I}l.pending=h}fs=null}return r}function Zy(r,s){do{var l=ln;try{if(mn(),Rh.current=xh,kh){for(var h=Bt.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}kh=!1}if(Ha=0,Tn=gn=Bt=null,Zu=!1,ec=0,Jf.current=null,l===null||l.return===null){yn=1,sc=s,ln=null;break}e:{var y=r,I=l.return,P=l,V=s;if(s=xn,P.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var J=V,ae=P,ue=ae.tag;if(!(ae.mode&1)&&(ue===0||ue===11||ue===15)){var oe=ae.alternate;oe?(ae.updateQueue=oe.updateQueue,ae.memoizedState=oe.memoizedState,ae.lanes=oe.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var we=Sy(I);if(we!==null){we.flags&=-257,Cy(we,I,P,y,s),we.mode&1&&Iy(y,J,s),s=we,V=J;var Se=s.updateQueue;if(Se===null){var Re=new Set;Re.add(V),s.updateQueue=Re}else Se.add(V);break e}else{if(!(s&1)){Iy(y,J,s),ap();break e}V=Error(t(426))}}else if(Ee&&P.mode&1){var Zt=Sy(I);if(Zt!==null){!(Zt.flags&65536)&&(Zt.flags|=256),Cy(Zt,I,P,y,s),Ot($l(V,P));break e}}y=V=$l(V,P),yn!==4&&(yn=2),oc===null?oc=[y]:oc.push(y),y=I;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var G=Ey(y,V,s);Ah(y,G);break e;case 1:P=V;var j=y.type,Q=y.stateNode;if(!(y.flags&128)&&(typeof j.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&($o===null||!$o.has(Q)))){y.flags|=65536,s&=-s,y.lanes|=s;var de=Ty(y,P,s);Ah(y,de);break e}}y=y.return}while(y!==null)}n_(l)}catch(xe){s=xe,ln===l&&l!==null&&(ln=l=l.return);continue}break}while(!0)}function e_(){var r=Vh.current;return Vh.current=xh,r===null?xh:r}function ap(){(yn===0||yn===3||yn===2)&&(yn=4),In===null||!(Wa&268435455)&&!(Fh&268435455)||Ho(In,xn)}function Hh(r,s){var l=dt;dt|=2;var h=e_();(In!==r||xn!==s)&&(Qs=null,Ka(r,s));do try{DI();break}catch(m){Zy(r,m)}while(!0);if(mn(),dt=l,Vh.current=h,ln!==null)throw Error(t(261));return In=null,xn=0,yn}function DI(){for(;ln!==null;)t_(ln)}function OI(){for(;ln!==null&&!mo();)t_(ln)}function t_(r){var s=s_(r.alternate,r,Yr);r.memoizedProps=r.pendingProps,s===null?n_(r):ln=s,Jf.current=null}function n_(r){var s=r;do{var l=s.alternate;if(r=s.return,s.flags&32768){if(l=RI(l,s),l!==null){l.flags&=32767,ln=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{yn=6,ln=null;return}}else if(l=AI(l,s,Yr),l!==null){ln=l;return}if(s=s.sibling,s!==null){ln=s;return}ln=s=r}while(s!==null);yn===0&&(yn=5)}function Ga(r,s,l){var h=Ye,m=wi.transition;try{wi.transition=null,Ye=1,LI(r,s,l,h)}finally{wi.transition=m,Ye=h}return null}function LI(r,s,l,h){do Wl();while(Bo!==null);if(dt&6)throw Error(t(327));l=r.finishedWork;var m=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(vt(r,y),r===In&&(ln=In=null,xn=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Uh||(Uh=!0,o_(Jn,function(){return Wl(),null})),y=(l.flags&15990)!==0,l.subtreeFlags&15990||y){y=wi.transition,wi.transition=null;var I=Ye;Ye=1;var P=dt;dt|=4,Jf.current=null,PI(r,l),qy(l,r),ch($u),Ni=!!Ol,$u=Ol=null,r.current=l,bI(l),ns(),dt=P,Ye=I,wi.transition=y}else r.current=l;if(Uh&&(Uh=!1,Bo=r,$h=m),y=r.pendingLanes,y===0&&($o=null),Sa(l.stateNode),kr(r,It()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)m=s[l],h(m.value,{componentStack:m.stack,digest:m.digest});if(jh)throw jh=!1,r=tp,tp=null,r;return $h&1&&r.tag!==0&&Wl(),y=r.pendingLanes,y&1?r===np?ac++:(ac=0,np=r):ac=0,E(),null}function Wl(){if(Bo!==null){var r=Pi($h),s=wi.transition,l=Ye;try{if(wi.transition=null,Ye=16>r?16:r,Bo===null)var h=!1;else{if(r=Bo,Bo=null,$h=0,dt&6)throw Error(t(331));var m=dt;for(dt|=4,Ie=r.current;Ie!==null;){var y=Ie,I=y.child;if(Ie.flags&16){var P=y.deletions;if(P!==null){for(var V=0;V<P.length;V++){var J=P[V];for(Ie=J;Ie!==null;){var ae=Ie;switch(ae.tag){case 0:case 11:case 15:ic(8,ae,y)}var ue=ae.child;if(ue!==null)ue.return=ae,Ie=ue;else for(;Ie!==null;){ae=Ie;var oe=ae.sibling,we=ae.return;if($y(ae),ae===J){Ie=null;break}if(oe!==null){oe.return=we,Ie=oe;break}Ie=we}}}var Se=y.alternate;if(Se!==null){var Re=Se.child;if(Re!==null){Se.child=null;do{var Zt=Re.sibling;Re.sibling=null,Re=Zt}while(Re!==null)}}Ie=y}}if(y.subtreeFlags&2064&&I!==null)I.return=y,Ie=I;else e:for(;Ie!==null;){if(y=Ie,y.flags&2048)switch(y.tag){case 0:case 11:case 15:ic(9,y,y.return)}var G=y.sibling;if(G!==null){G.return=y.return,Ie=G;break e}Ie=y.return}}var j=r.current;for(Ie=j;Ie!==null;){I=Ie;var Q=I.child;if(I.subtreeFlags&2064&&Q!==null)Q.return=I,Ie=Q;else e:for(I=j;Ie!==null;){if(P=Ie,P.flags&2048)try{switch(P.tag){case 0:case 11:case 15:Mh(9,P)}}catch(xe){qt(P,P.return,xe)}if(P===I){Ie=null;break e}var de=P.sibling;if(de!==null){de.return=P.return,Ie=de;break e}Ie=P.return}}if(dt=m,E(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(rs,r)}catch{}h=!0}return h}finally{Ye=l,wi.transition=s}}return!1}function r_(r,s,l){s=$l(l,s),s=Ey(r,s,1),r=Hi(r,s,1),s=dr(),r!==null&&(ui(r,1,s),kr(r,s))}function qt(r,s,l){if(r.tag===3)r_(r,r,l);else for(;s!==null;){if(s.tag===3){r_(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&($o===null||!$o.has(h))){r=$l(l,r),r=Ty(s,r,1),s=Hi(s,r,1),r=dr(),s!==null&&(ui(s,1,r),kr(s,r));break}}s=s.return}}function MI(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=dr(),r.pingedLanes|=r.suspendedLanes&l,In===r&&(xn&l)===l&&(yn===4||yn===3&&(xn&130023424)===xn&&500>It()-ep?Ka(r,0):Zf|=l),kr(r,s)}function i_(r,s){s===0&&(r.mode&1?(s=gr,gr<<=1,!(gr&130023424)&&(gr=4194304)):s=1);var l=dr();r=Bi(r,s),r!==null&&(ui(r,s,l),kr(r,l))}function VI(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),i_(r,l)}function FI(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,m=r.memoizedState;m!==null&&(l=m.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),i_(r,l)}var s_;s_=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||Un.current)Ar=!0;else{if(!(r.lanes&l)&&!(s.flags&128))return Ar=!1,CI(r,s,l);Ar=!!(r.flags&131072)}else Ar=!1,Ee&&s.flags&1048576&&ge(s,B,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Oh(r,s),r=s.pendingProps;var m=Mo(s,Dt.current);$i(s,l),m=xf(null,s,h,r,m,l);var y=Nf();return s.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,$n(h)?(y=!0,Vl(s)):y=!1,s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Qu(s),m.updater=Nh,s.stateNode=m,m._reactInternals=s,Ff(s,h,r,l),s=Bf(null,s,h,!0,y,l)):(s.tag=0,Ee&&y&&ze(s),hr(null,s,m,l),s=s.child),s;case 16:h=s.elementType;e:{switch(Oh(r,s),r=s.pendingProps,m=h._init,h=m(h._payload),s.type=h,m=s.tag=UI(h),r=Wi(h,r),m){case 0:s=$f(null,s,h,r,l);break e;case 1:s=xy(null,s,h,r,l);break e;case 11:s=Ay(null,s,h,r,l);break e;case 14:s=Ry(null,s,h,Wi(h.type,r),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:Wi(h,m),$f(r,s,h,m,l);case 1:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:Wi(h,m),xy(r,s,h,m,l);case 3:e:{if(Ny(s),r===null)throw Error(t(387));h=s.pendingProps,y=s.memoizedState,m=y.element,Yu(r,s),Fl(s,h,null,l);var I=s.memoizedState;if(h=I.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){m=$l(Error(t(423)),s),s=Dy(r,s,h,l,m);break e}else if(h!==m){m=$l(Error(t(424)),s),s=Dy(r,s,h,l,m);break e}else for(be=cs(s.stateNode.containerInfo.firstChild),Ne=s,Ee=!0,Qe=null,l=Gr(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(nt(),h===m){s=Gs(r,s,l);break e}hr(r,s,h,l)}s=s.child}return s;case 5:return Xu(s),r===null&&We(s),h=s.type,m=s.pendingProps,y=r!==null?r.memoizedProps:null,I=m.children,Bu(h,m)?I=null:y!==null&&Bu(h,y)&&(s.flags|=32),by(r,s),hr(r,s,I,l),s.child;case 6:return r===null&&We(s),null;case 13:return Oy(r,s,l);case 4:return jl(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=At(s,null,h,l):hr(r,s,h,l),s.child;case 11:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:Wi(h,m),Ay(r,s,h,m,l);case 7:return hr(r,s,s.pendingProps,l),s.child;case 8:return hr(r,s,s.pendingProps.children,l),s.child;case 12:return hr(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,m=s.pendingProps,y=s.memoizedProps,I=m.value,Rt(ur,h._currentValue),h._currentValue=I,y!==null)if(qr(y.value,I)){if(y.children===m.children&&!Un.current){s=Gs(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var P=y.dependencies;if(P!==null){I=y.child;for(var V=P.firstContext;V!==null;){if(V.context===h){if(y.tag===1){V=zi(-1,l&-l),V.tag=2;var J=y.updateQueue;if(J!==null){J=J.shared;var ae=J.pending;ae===null?V.next=V:(V.next=ae.next,ae.next=V),J.pending=V}}y.lanes|=l,V=y.alternate,V!==null&&(V.lanes|=l),yi(y.return,l,s),P.lanes|=l;break}V=V.next}}else if(y.tag===10)I=y.type===s.type?null:y.child;else if(y.tag===18){if(I=y.return,I===null)throw Error(t(341));I.lanes|=l,P=I.alternate,P!==null&&(P.lanes|=l),yi(I,l,s),I=y.sibling}else I=y.child;if(I!==null)I.return=y;else for(I=y;I!==null;){if(I===s){I=null;break}if(y=I.sibling,y!==null){y.return=I.return,I=y;break}I=I.return}y=I}hr(r,s,m.children,l),s=s.child}return s;case 9:return m=s.type,h=s.pendingProps.children,$i(s,l),m=cr(m),h=h(m),s.flags|=1,hr(r,s,h,l),s.child;case 14:return h=s.type,m=Wi(h,s.pendingProps),m=Wi(h.type,m),Ry(r,s,h,m,l);case 15:return ky(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:Wi(h,m),Oh(r,s),s.tag=1,$n(h)?(r=!0,Vl(s)):r=!1,$i(s,l),vy(s,h,m),Ff(s,h,m,l),Bf(null,s,h,!0,r,l);case 19:return My(r,s,l);case 22:return Py(r,s,l)}throw Error(t(156,s.tag))};function o_(r,s){return jr(r,s)}function jI(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ei(r,s,l,h){return new jI(r,s,l,h)}function lp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function UI(r){if(typeof r=="function")return lp(r)?1:0;if(r!=null){if(r=r.$$typeof,r===q)return 11;if(r===Ft)return 14}return 2}function Wo(r,s){var l=r.alternate;return l===null?(l=Ei(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Wh(r,s,l,h,m,y){var I=2;if(h=r,typeof r=="function")lp(r)&&(I=1);else if(typeof r=="string")I=5;else e:switch(r){case M:return Qa(l.children,m,y,s);case k:I=8,m|=8;break;case b:return r=Ei(12,l,s,m|2),r.elementType=b,r.lanes=y,r;case N:return r=Ei(13,l,s,m),r.elementType=N,r.lanes=y,r;case Tt:return r=Ei(19,l,s,m),r.elementType=Tt,r.lanes=y,r;case Xe:return qh(l,m,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case L:I=10;break e;case $:I=9;break e;case q:I=11;break e;case Ft:I=14;break e;case kt:I=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Ei(I,l,s,m),s.elementType=r,s.type=h,s.lanes=y,s}function Qa(r,s,l,h){return r=Ei(7,r,h,s),r.lanes=l,r}function qh(r,s,l,h){return r=Ei(22,r,h,s),r.elementType=Xe,r.lanes=l,r.stateNode={isHidden:!1},r}function up(r,s,l){return r=Ei(6,r,null,s),r.lanes=l,r}function cp(r,s,l){return s=Ei(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function $I(r,s,l,h,m){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=er(0),this.expirationTimes=er(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=er(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function hp(r,s,l,h,m,y,I,P,V){return r=new $I(r,s,l,P,V),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Ei(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qu(y),r}function BI(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ae,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function a_(r){if(!r)return jn;r=r._reactInternals;e:{if(Nt(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if($n(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if($n(l))return Ih(r,l,s)}return s}function l_(r,s,l,h,m,y,I,P,V){return r=hp(l,h,!0,r,m,y,I,P,V),r.context=a_(null),l=r.current,h=dr(),m=zo(l),y=zi(h,m),y.callback=s??null,Hi(l,y,m),r.current.lanes=m,ui(r,m,h),kr(r,h),r}function Kh(r,s,l,h){var m=s.current,y=dr(),I=zo(m);return l=a_(l),s.context===null?s.context=l:s.pendingContext=l,s=zi(y,I),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=Hi(m,s,I),r!==null&&(Gi(r,m,I,y),za(r,m,I)),I}function Gh(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function u_(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function dp(r,s){u_(r,s),(r=r.alternate)&&u_(r,s)}function zI(){return null}var c_=typeof reportError=="function"?reportError:function(r){console.error(r)};function fp(r){this._internalRoot=r}Qh.prototype.render=fp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Kh(r,s,null,null)},Qh.prototype.unmount=fp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;qa(function(){Kh(null,r,null,null)}),s[gi]=null}};function Qh(r){this._internalRoot=r}Qh.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ds();r={blockedOn:null,target:r,priority:s};for(var l=0;l<ci.length&&s!==0&&s<ci[l].priority;l++);ci.splice(l,0,r),l===0&&El(r)}};function pp(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Yh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function h_(){}function HI(r,s,l,h,m){if(m){if(typeof h=="function"){var y=h;h=function(){var J=Gh(I);y.call(J)}}var I=l_(s,h,r,0,null,!1,!1,"",h_);return r._reactRootContainer=I,r[gi]=I.current,Fa(r.nodeType===8?r.parentNode:r),qa(),I}for(;m=r.lastChild;)r.removeChild(m);if(typeof h=="function"){var P=h;h=function(){var J=Gh(V);P.call(J)}}var V=hp(r,0,!1,null,null,!1,!1,"",h_);return r._reactRootContainer=V,r[gi]=V.current,Fa(r.nodeType===8?r.parentNode:r),qa(function(){Kh(s,V,l,h)}),V}function Xh(r,s,l,h,m){var y=l._reactRootContainer;if(y){var I=y;if(typeof m=="function"){var P=m;m=function(){var V=Gh(I);P.call(V)}}Kh(s,I,r,m)}else I=HI(l,s,r,m,h);return Gh(I)}yr=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=Yt(s.pendingLanes);l!==0&&(tr(s,l|1),kr(s,It()),!(dt&6)&&(Hl=It()+500,E()))}break;case 13:qa(function(){var h=Bi(r,1);if(h!==null){var m=dr();Gi(h,r,1,m)}}),dp(r,1)}},vo=function(r){if(r.tag===13){var s=Bi(r,134217728);if(s!==null){var l=dr();Gi(s,r,134217728,l)}dp(r,134217728)}},Ur=function(r){if(r.tag===13){var s=zo(r),l=Bi(r,s);if(l!==null){var h=dr();Gi(l,r,s,h)}dp(r,s)}},Ds=function(){return Ye},Ra=function(r,s){var l=Ye;try{return Ye=r,s()}finally{Ye=l}},xs=function(r,s,l){switch(s){case"input":if(Dr(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var m=Lo(h);if(!m)throw Error(t(90));Mn(h),Dr(h,m)}}}break;case"textarea":ei(r,l);break;case"select":s=l.value,s!=null&&Lr(r,!!l.multiple,s,!1)}},Vr=sp,wa=qa;var WI={usingClientEntryPoint:!1,Events:[Kr,zs,Lo,ii,si,sp]},lc={findFiberByHostInstance:hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qI={bundleType:lc.bundleType,version:lc.version,rendererPackageName:lc.rendererPackageName,rendererConfig:lc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ye.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ai(r),r===null?null:r.stateNode},findFiberByHostInstance:lc.findFiberByHostInstance||zI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jh.isDisabled&&Jh.supportsFiber)try{rs=Jh.inject(qI),Vn=Jh}catch{}}return Pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WI,Pr.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pp(s))throw Error(t(200));return BI(r,s,null,l)},Pr.createRoot=function(r,s){if(!pp(r))throw Error(t(299));var l=!1,h="",m=c_;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),s=hp(r,1,!1,null,null,l,!1,h,m),r[gi]=s.current,Fa(r.nodeType===8?r.parentNode:r),new fp(s)},Pr.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ai(s),r=r===null?null:r.stateNode,r},Pr.flushSync=function(r){return qa(r)},Pr.hydrate=function(r,s,l){if(!Yh(s))throw Error(t(200));return Xh(null,r,s,!0,l)},Pr.hydrateRoot=function(r,s,l){if(!pp(r))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,m=!1,y="",I=c_;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(I=l.onRecoverableError)),s=l_(s,null,r,1,l??null,m,!1,y,I),r[gi]=s.current,Fa(r),h)for(r=0;r<h.length;r++)l=h[r],m=l._getVersion,m=m(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,m]:s.mutableSourceEagerHydrationData.push(l,m);return new Qh(s)},Pr.render=function(r,s,l){if(!Yh(s))throw Error(t(200));return Xh(null,r,s,!1,l)},Pr.unmountComponentAtNode=function(r){if(!Yh(r))throw Error(t(40));return r._reactRootContainer?(qa(function(){Xh(null,null,r,!1,function(){r._reactRootContainer=null,r[gi]=null})}),!0):!1},Pr.unstable_batchedUpdates=sp,Pr.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!Yh(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Xh(r,s,l,!1,h)},Pr.version="18.3.1-next-f1338f8080-20240426",Pr}var v_;function xw(){if(v_)return yp.exports;v_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yp.exports=eS(),yp.exports}var w_;function tS(){if(w_)return Zh;w_=1;var n=xw();return Zh.createRoot=n.createRoot,Zh.hydrateRoot=n.hydrateRoot,Zh}var nS=tS(),cc={},E_;function rS(){if(E_)return cc;E_=1,Object.defineProperty(cc,"__esModule",{value:!0}),cc.parse=c,cc.serialize=_;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function c(R,O){const U=new a,Y=R.length;if(Y<2)return U;const H=(O==null?void 0:O.decode)||T;let ee=0;do{const le=R.indexOf("=",ee);if(le===-1)break;const se=R.indexOf(";",ee),ye=se===-1?Y:se;if(le>ye){ee=R.lastIndexOf(";",le-1)+1;continue}const Le=f(R,ee,le),Ae=p(R,le,Le),M=R.slice(Le,Ae);if(U[M]===void 0){let k=f(R,le+1,ye),b=p(R,ye,k);const L=H(R.slice(k,b));U[M]=L}ee=ye+1}while(ee<Y);return U}function f(R,O,U){do{const Y=R.charCodeAt(O);if(Y!==32&&Y!==9)return O}while(++O<U);return U}function p(R,O,U){for(;O>U;){const Y=R.charCodeAt(--O);if(Y!==32&&Y!==9)return O+1}return U}function _(R,O,U){const Y=(U==null?void 0:U.encode)||encodeURIComponent;if(!n.test(R))throw new TypeError(`argument name is invalid: ${R}`);const H=Y(O);if(!e.test(H))throw new TypeError(`argument val is invalid: ${O}`);let ee=R+"="+H;if(!U)return ee;if(U.maxAge!==void 0){if(!Number.isInteger(U.maxAge))throw new TypeError(`option maxAge is invalid: ${U.maxAge}`);ee+="; Max-Age="+U.maxAge}if(U.domain){if(!t.test(U.domain))throw new TypeError(`option domain is invalid: ${U.domain}`);ee+="; Domain="+U.domain}if(U.path){if(!i.test(U.path))throw new TypeError(`option path is invalid: ${U.path}`);ee+="; Path="+U.path}if(U.expires){if(!A(U.expires)||!Number.isFinite(U.expires.valueOf()))throw new TypeError(`option expires is invalid: ${U.expires}`);ee+="; Expires="+U.expires.toUTCString()}if(U.httpOnly&&(ee+="; HttpOnly"),U.secure&&(ee+="; Secure"),U.partitioned&&(ee+="; Partitioned"),U.priority)switch(typeof U.priority=="string"?U.priority.toLowerCase():void 0){case"low":ee+="; Priority=Low";break;case"medium":ee+="; Priority=Medium";break;case"high":ee+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${U.priority}`)}if(U.sameSite)switch(typeof U.sameSite=="string"?U.sameSite.toLowerCase():U.sameSite){case!0:case"strict":ee+="; SameSite=Strict";break;case"lax":ee+="; SameSite=Lax";break;case"none":ee+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${U.sameSite}`)}return ee}function T(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function A(R){return o.call(R)==="[object Date]"}return cc}rS();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var T_="popstate";function iS(n={}){function e(i,o){let{pathname:a,search:c,hash:f}=i.location;return Kp("",{pathname:a,search:c,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:kc(o)}return oS(e,t,null,n)}function zt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ss(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sS(){return Math.random().toString(36).substring(2,10)}function I_(n,e){return{usr:n.state,key:n.key,idx:e}}function Kp(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?mu(e):e,state:t,key:e&&e.key||i||sS()}}function kc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function mu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function oS(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,f="POP",p=null,_=T();_==null&&(_=0,c.replaceState({...c.state,idx:_},""));function T(){return(c.state||{idx:null}).idx}function A(){f="POP";let H=T(),ee=H==null?null:H-_;_=H,p&&p({action:f,location:Y.location,delta:ee})}function R(H,ee){f="PUSH";let le=Kp(Y.location,H,ee);_=T()+1;let se=I_(le,_),ye=Y.createHref(le);try{c.pushState(se,"",ye)}catch(Le){if(Le instanceof DOMException&&Le.name==="DataCloneError")throw Le;o.location.assign(ye)}a&&p&&p({action:f,location:Y.location,delta:1})}function O(H,ee){f="REPLACE";let le=Kp(Y.location,H,ee);_=T();let se=I_(le,_),ye=Y.createHref(le);c.replaceState(se,"",ye),a&&p&&p({action:f,location:Y.location,delta:0})}function U(H){let ee=o.location.origin!=="null"?o.location.origin:o.location.href,le=typeof H=="string"?H:kc(H);return le=le.replace(/ $/,"%20"),zt(ee,`No window.location.(origin|href) available to create URL for href: ${le}`),new URL(le,ee)}let Y={get action(){return f},get location(){return n(o,c)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(T_,A),p=H,()=>{o.removeEventListener(T_,A),p=null}},createHref(H){return e(o,H)},createURL:U,encodeLocation(H){let ee=U(H);return{pathname:ee.pathname,search:ee.search,hash:ee.hash}},push:R,replace:O,go(H){return c.go(H)}};return Y}function Nw(n,e,t="/"){return aS(n,e,t,!1)}function aS(n,e,t,i){let o=typeof e=="string"?mu(e):e,a=oa(o.pathname||"/",t);if(a==null)return null;let c=Dw(n);lS(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let _=vS(a);f=yS(c[p],_,i)}return f}function Dw(n,e=[],t=[],i=""){let o=(a,c,f)=>{let p={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(zt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let _=Zs([i,p.relativePath]),T=t.concat(p);a.children&&a.children.length>0&&(zt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Dw(a.children,e,T,_)),!(a.path==null&&!a.index)&&e.push({path:_,score:mS(_,a.index),routesMeta:T})};return n.forEach((a,c)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))o(a,c);else for(let p of Ow(a.path))o(a,c,p)}),e}function Ow(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=Ow(i.join("/")),f=[];return f.push(...c.map(p=>p===""?a:[a,p].join("/"))),o&&f.push(...c),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function lS(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:gS(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var uS=/^:[\w-]+$/,cS=3,hS=2,dS=1,fS=10,pS=-2,S_=n=>n==="*";function mS(n,e){let t=n.split("/"),i=t.length;return t.some(S_)&&(i+=pS),e&&(i+=hS),t.filter(o=>!S_(o)).reduce((o,a)=>o+(uS.test(a)?cS:a===""?dS:fS),i)}function gS(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function yS(n,e,t=!1){let{routesMeta:i}=n,o={},a="/",c=[];for(let f=0;f<i.length;++f){let p=i[f],_=f===i.length-1,T=a==="/"?e:e.slice(a.length)||"/",A=Td({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},T),R=p.route;if(!A&&_&&t&&!i[i.length-1].route.index&&(A=Td({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!A)return null;Object.assign(o,A.params),c.push({params:o,pathname:Zs([a,A.pathname]),pathnameBase:IS(Zs([a,A.pathnameBase])),route:R}),A.pathnameBase!=="/"&&(a=Zs([a,A.pathnameBase]))}return c}function Td(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=_S(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((_,{paramName:T,isOptional:A},R)=>{if(T==="*"){let U=f[R]||"";c=a.slice(0,a.length-U.length).replace(/(.)\/+$/,"$1")}const O=f[R];return A&&!O?_[T]=void 0:_[T]=(O||"").replace(/%2F/g,"/"),_},{}),pathname:a,pathnameBase:c,pattern:n}}function _S(n,e=!1,t=!0){Ss(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function vS(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ss(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function oa(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function wS(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?mu(n):n;return{pathname:t?t.startsWith("/")?t:ES(t,e):e,search:SS(i),hash:CS(o)}}function ES(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function wp(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TS(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Lw(n){let e=TS(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Mw(n,e,t,i=!1){let o;typeof n=="string"?o=mu(n):(o={...n},zt(!o.pathname||!o.pathname.includes("?"),wp("?","pathname","search",o)),zt(!o.pathname||!o.pathname.includes("#"),wp("#","pathname","hash",o)),zt(!o.search||!o.search.includes("#"),wp("#","search","hash",o)));let a=n===""||o.pathname==="",c=a?"/":o.pathname,f;if(c==null)f=t;else{let A=e.length-1;if(!i&&c.startsWith("..")){let R=c.split("/");for(;R[0]==="..";)R.shift(),A-=1;o.pathname=R.join("/")}f=A>=0?e[A]:"/"}let p=wS(o,f),_=c&&c!=="/"&&c.endsWith("/"),T=(a||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(_||T)&&(p.pathname+="/"),p}var Zs=n=>n.join("/").replace(/\/\/+/g,"/"),IS=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),SS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,CS=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function AS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Vw=["POST","PUT","PATCH","DELETE"];new Set(Vw);var RS=["GET",...Vw];new Set(RS);var gu=x.createContext(null);gu.displayName="DataRouter";var qd=x.createContext(null);qd.displayName="DataRouterState";var Fw=x.createContext({isTransitioning:!1});Fw.displayName="ViewTransition";var kS=x.createContext(new Map);kS.displayName="Fetchers";var PS=x.createContext(null);PS.displayName="Await";var Rs=x.createContext(null);Rs.displayName="Navigation";var $c=x.createContext(null);$c.displayName="Location";var oo=x.createContext({outlet:null,matches:[],isDataRoute:!1});oo.displayName="Route";var xm=x.createContext(null);xm.displayName="RouteError";function bS(n,{relative:e}={}){zt(Bc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=x.useContext(Rs),{hash:o,pathname:a,search:c}=zc(n,{relative:e}),f=a;return t!=="/"&&(f=a==="/"?t:Zs([t,a])),i.createHref({pathname:f,search:c,hash:o})}function Bc(){return x.useContext($c)!=null}function hl(){return zt(Bc(),"useLocation() may be used only in the context of a <Router> component."),x.useContext($c).location}var jw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Uw(n){x.useContext(Rs).static||x.useLayoutEffect(n)}function Nm(){let{isDataRoute:n}=x.useContext(oo);return n?zS():xS()}function xS(){zt(Bc(),"useNavigate() may be used only in the context of a <Router> component.");let n=x.useContext(gu),{basename:e,navigator:t}=x.useContext(Rs),{matches:i}=x.useContext(oo),{pathname:o}=hl(),a=JSON.stringify(Lw(i)),c=x.useRef(!1);return Uw(()=>{c.current=!0}),x.useCallback((p,_={})=>{if(Ss(c.current,jw),!c.current)return;if(typeof p=="number"){t.go(p);return}let T=Mw(p,JSON.parse(a),o,_.relative==="path");n==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Zs([e,T.pathname])),(_.replace?t.replace:t.push)(T,_.state,_)},[e,t,a,o,n])}x.createContext(null);function zc(n,{relative:e}={}){let{matches:t}=x.useContext(oo),{pathname:i}=hl(),o=JSON.stringify(Lw(t));return x.useMemo(()=>Mw(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function NS(n,e){return $w(n,e)}function $w(n,e,t,i){var le;zt(Bc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:a}=x.useContext(Rs),{matches:c}=x.useContext(oo),f=c[c.length-1],p=f?f.params:{},_=f?f.pathname:"/",T=f?f.pathnameBase:"/",A=f&&f.route;{let se=A&&A.path||"";Bw(_,!A||se.endsWith("*")||se.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${se}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${se}"> to <Route path="${se==="/"?"*":`${se}/*`}">.`)}let R=hl(),O;if(e){let se=typeof e=="string"?mu(e):e;zt(T==="/"||((le=se.pathname)==null?void 0:le.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${se.pathname}" was given in the \`location\` prop.`),O=se}else O=R;let U=O.pathname||"/",Y=U;if(T!=="/"){let se=T.replace(/^\//,"").split("/");Y="/"+U.replace(/^\//,"").split("/").slice(se.length).join("/")}let H=!a&&t&&t.matches&&t.matches.length>0?t.matches:Nw(n,{pathname:Y});Ss(A||H!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Ss(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ee=VS(H&&H.map(se=>Object.assign({},se,{params:Object.assign({},p,se.params),pathname:Zs([T,o.encodeLocation?o.encodeLocation(se.pathname).pathname:se.pathname]),pathnameBase:se.pathnameBase==="/"?T:Zs([T,o.encodeLocation?o.encodeLocation(se.pathnameBase).pathname:se.pathnameBase])})),c,t,i);return e&&ee?x.createElement($c.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},ee):ee}function DS(){let n=BS(),e=AS(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:a},"ErrorBoundary")," or"," ",x.createElement("code",{style:a},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),t?x.createElement("pre",{style:o},t):null,c)}var OS=x.createElement(DS,null),LS=class extends x.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?x.createElement(oo.Provider,{value:this.props.routeContext},x.createElement(xm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MS({routeContext:n,match:e,children:t}){let i=x.useContext(gu);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(oo.Provider,{value:n},t)}function VS(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let p=o.findIndex(_=>_.route.id&&(a==null?void 0:a[_.route.id])!==void 0);zt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,f=-1;if(t)for(let p=0;p<o.length;p++){let _=o[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(f=p),_.route.id){let{loaderData:T,errors:A}=t,R=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||R){c=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,_,T)=>{let A,R=!1,O=null,U=null;t&&(A=a&&_.route.id?a[_.route.id]:void 0,O=_.route.errorElement||OS,c&&(f<0&&T===0?(Bw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,U=null):f===T&&(R=!0,U=_.route.hydrateFallbackElement||null)));let Y=e.concat(o.slice(0,T+1)),H=()=>{let ee;return A?ee=O:R?ee=U:_.route.Component?ee=x.createElement(_.route.Component,null):_.route.element?ee=_.route.element:ee=p,x.createElement(MS,{match:_,routeContext:{outlet:p,matches:Y,isDataRoute:t!=null},children:ee})};return t&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?x.createElement(LS,{location:t.location,revalidation:t.revalidation,component:O,error:A,children:H(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):H()},null)}function Dm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FS(n){let e=x.useContext(gu);return zt(e,Dm(n)),e}function jS(n){let e=x.useContext(qd);return zt(e,Dm(n)),e}function US(n){let e=x.useContext(oo);return zt(e,Dm(n)),e}function Om(n){let e=US(n),t=e.matches[e.matches.length-1];return zt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function $S(){return Om("useRouteId")}function BS(){var i;let n=x.useContext(xm),e=jS("useRouteError"),t=Om("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function zS(){let{router:n}=FS("useNavigate"),e=Om("useNavigate"),t=x.useRef(!1);return Uw(()=>{t.current=!0}),x.useCallback(async(o,a={})=>{Ss(t.current,jw),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var C_={};function Bw(n,e,t){!e&&!C_[n]&&(C_[n]=!0,Ss(!1,t))}x.memo(HS);function HS({routes:n,future:e,state:t}){return $w(n,void 0,t,e)}function pc(n){zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function WS({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:a=!1}){zt(!Bc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=x.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof t=="string"&&(t=mu(t));let{pathname:p="/",search:_="",hash:T="",state:A=null,key:R="default"}=t,O=x.useMemo(()=>{let U=oa(p,c);return U==null?null:{location:{pathname:U,search:_,hash:T,state:A,key:R},navigationType:i}},[c,p,_,T,A,R,i]);return Ss(O!=null,`<Router basename="${c}"> is not able to match the URL "${p}${_}${T}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:x.createElement(Rs.Provider,{value:f},x.createElement($c.Provider,{children:e,value:O}))}function qS({children:n,location:e}){return NS(Gp(n),e)}function Gp(n,e=[]){let t=[];return x.Children.forEach(n,(i,o)=>{if(!x.isValidElement(i))return;let a=[...e,o];if(i.type===x.Fragment){t.push.apply(t,Gp(i.props.children,a));return}zt(i.type===pc,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),zt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Gp(i.props.children,a)),t.push(c)}),t}var ud="get",cd="application/x-www-form-urlencoded";function Kd(n){return n!=null&&typeof n.tagName=="string"}function KS(n){return Kd(n)&&n.tagName.toLowerCase()==="button"}function GS(n){return Kd(n)&&n.tagName.toLowerCase()==="form"}function QS(n){return Kd(n)&&n.tagName.toLowerCase()==="input"}function YS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function XS(n,e){return n.button===0&&(!e||e==="_self")&&!YS(n)}var ed=null;function JS(){if(ed===null)try{new FormData(document.createElement("form"),0),ed=!1}catch{ed=!0}return ed}var ZS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ep(n){return n!=null&&!ZS.has(n)?(Ss(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cd}"`),null):n}function eC(n,e){let t,i,o,a,c;if(GS(n)){let f=n.getAttribute("action");i=f?oa(f,e):null,t=n.getAttribute("method")||ud,o=Ep(n.getAttribute("enctype"))||cd,a=new FormData(n)}else if(KS(n)||QS(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(i=p?oa(p,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||ud,o=Ep(n.getAttribute("formenctype"))||Ep(f.getAttribute("enctype"))||cd,a=new FormData(f,n),!JS()){let{name:_,type:T,value:A}=n;if(T==="image"){let R=_?`${_}.`:"";a.append(`${R}x`,"0"),a.append(`${R}y`,"0")}else _&&a.append(_,A)}}else{if(Kd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ud,i=null,o=cd,c=n}return a&&o==="text/plain"&&(c=a,a=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:a,body:c}}function Lm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function tC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function rC(n,e,t){let i=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await tC(a,t);return c.links?c.links():[]}return[]}));return aC(i.flat(1).filter(nC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function A_(n,e,t,i,o,a){let c=(p,_)=>t[_]?p.route.id!==t[_].route.id:!0,f=(p,_)=>{var T;return t[_].pathname!==p.pathname||((T=t[_].route.path)==null?void 0:T.endsWith("*"))&&t[_].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,_)=>c(p,_)||f(p,_)):a==="data"?e.filter((p,_)=>{var A;let T=i.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(c(p,_)||f(p,_))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=t[0])==null?void 0:A.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function iC(n,e){return sC(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function sC(n){return[...new Set(n)]}function oC(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function aC(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let a=JSON.stringify(oC(o));return t.has(a)||(t.add(a),i.push({key:a,link:o})),i},[])}function lC(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function uC(){let n=x.useContext(gu);return Lm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function cC(){let n=x.useContext(qd);return Lm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Mm=x.createContext(void 0);Mm.displayName="FrameworkContext";function zw(){let n=x.useContext(Mm);return Lm(n,"You must render this element inside a <HydratedRouter> element"),n}function hC(n,e){let t=x.useContext(Mm),[i,o]=x.useState(!1),[a,c]=x.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:_,onMouseLeave:T,onTouchStart:A}=e,R=x.useRef(null);x.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let Y=ee=>{ee.forEach(le=>{c(le.isIntersecting)})},H=new IntersectionObserver(Y,{threshold:.5});return R.current&&H.observe(R.current),()=>{H.disconnect()}}},[n]),x.useEffect(()=>{if(i){let Y=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(Y)}}},[i]);let O=()=>{o(!0)},U=()=>{o(!1),c(!1)};return t?n!=="intent"?[a,R,{}]:[a,R,{onFocus:hc(f,O),onBlur:hc(p,U),onMouseEnter:hc(_,O),onMouseLeave:hc(T,U),onTouchStart:hc(A,O)}]:[!1,R,{}]}function hc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function dC({page:n,...e}){let{router:t}=uC(),i=x.useMemo(()=>Nw(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?x.createElement(pC,{page:n,matches:i,...e}):null}function fC(n){let{manifest:e,routeModules:t}=zw(),[i,o]=x.useState([]);return x.useEffect(()=>{let a=!1;return rC(n,e,t).then(c=>{a||o(c)}),()=>{a=!0}},[n,e,t]),i}function pC({page:n,matches:e,...t}){let i=hl(),{manifest:o,routeModules:a}=zw(),{loaderData:c,matches:f}=cC(),p=x.useMemo(()=>A_(n,e,f,o,i,"data"),[n,e,f,o,i]),_=x.useMemo(()=>A_(n,e,f,o,i,"assets"),[n,e,f,o,i]),T=x.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let O=new Set,U=!1;if(e.forEach(H=>{var le;let ee=o.routes[H.route.id];!ee||!ee.hasLoader||(!p.some(se=>se.route.id===H.route.id)&&H.route.id in c&&((le=a[H.route.id])!=null&&le.shouldRevalidate)||ee.hasClientLoader?U=!0:O.add(H.route.id))}),O.size===0)return[];let Y=lC(n);return U&&O.size>0&&Y.searchParams.set("_routes",e.filter(H=>O.has(H.route.id)).map(H=>H.route.id).join(",")),[Y.pathname+Y.search]},[c,i,o,p,e,n,a]),A=x.useMemo(()=>iC(_,o),[_,o]),R=fC(_);return x.createElement(x.Fragment,null,T.map(O=>x.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),A.map(O=>x.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),R.map(({key:O,link:U})=>x.createElement("link",{key:O,...U})))}function mC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Hw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Hw&&(window.__reactRouterVersion="7.1.5")}catch{}function gC({basename:n,children:e,window:t}){let i=x.useRef();i.current==null&&(i.current=iS({window:t,v5Compat:!0}));let o=i.current,[a,c]=x.useState({action:o.action,location:o.location}),f=x.useCallback(p=>{x.startTransition(()=>c(p))},[c]);return x.useLayoutEffect(()=>o.listen(f),[o,f]),x.createElement(WS,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var Ww=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eu=x.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:a,replace:c,state:f,target:p,to:_,preventScrollReset:T,viewTransition:A,...R},O){let{basename:U}=x.useContext(Rs),Y=typeof _=="string"&&Ww.test(_),H,ee=!1;if(typeof _=="string"&&Y&&(H=_,Hw))try{let b=new URL(window.location.href),L=_.startsWith("//")?new URL(b.protocol+_):new URL(_),$=oa(L.pathname,U);L.origin===b.origin&&$!=null?_=$+L.search+L.hash:ee=!0}catch{Ss(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let le=bS(_,{relative:o}),[se,ye,Le]=hC(i,R),Ae=vC(_,{replace:c,state:f,target:p,preventScrollReset:T,relative:o,viewTransition:A});function M(b){e&&e(b),b.defaultPrevented||Ae(b)}let k=x.createElement("a",{...R,...Le,href:H||le,onClick:ee||a?e:M,ref:mC(O,ye),target:p,"data-discover":!Y&&t==="render"?"true":void 0});return se&&!Y?x.createElement(x.Fragment,null,k,x.createElement(dC,{page:le})):k});eu.displayName="Link";var Vm=x.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:a,to:c,viewTransition:f,children:p,..._},T){let A=zc(c,{relative:_.relative}),R=hl(),O=x.useContext(qd),{navigator:U,basename:Y}=x.useContext(Rs),H=O!=null&&SC(A)&&f===!0,ee=U.encodeLocation?U.encodeLocation(A).pathname:A.pathname,le=R.pathname,se=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(le=le.toLowerCase(),se=se?se.toLowerCase():null,ee=ee.toLowerCase()),se&&Y&&(se=oa(se,Y)||se);const ye=ee!=="/"&&ee.endsWith("/")?ee.length-1:ee.length;let Le=le===ee||!o&&le.startsWith(ee)&&le.charAt(ye)==="/",Ae=se!=null&&(se===ee||!o&&se.startsWith(ee)&&se.charAt(ee.length)==="/"),M={isActive:Le,isPending:Ae,isTransitioning:H},k=Le?e:void 0,b;typeof i=="function"?b=i(M):b=[i,Le?"active":null,Ae?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(M):a;return x.createElement(eu,{..._,"aria-current":k,className:b,ref:T,style:L,to:c,viewTransition:f},typeof p=="function"?p(M):p)});Vm.displayName="NavLink";var yC=x.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:a,method:c=ud,action:f,onSubmit:p,relative:_,preventScrollReset:T,viewTransition:A,...R},O)=>{let U=TC(),Y=IC(f,{relative:_}),H=c.toLowerCase()==="get"?"get":"post",ee=typeof f=="string"&&Ww.test(f),le=se=>{if(p&&p(se),se.defaultPrevented)return;se.preventDefault();let ye=se.nativeEvent.submitter,Le=(ye==null?void 0:ye.getAttribute("formmethod"))||c;U(ye||se.currentTarget,{fetcherKey:e,method:Le,navigate:t,replace:o,state:a,relative:_,preventScrollReset:T,viewTransition:A})};return x.createElement("form",{ref:O,method:H,action:Y,onSubmit:i?p:le,...R,"data-discover":!ee&&n==="render"?"true":void 0})});yC.displayName="Form";function _C(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qw(n){let e=x.useContext(gu);return zt(e,_C(n)),e}function vC(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:c}={}){let f=Nm(),p=hl(),_=zc(n,{relative:a});return x.useCallback(T=>{if(XS(T,e)){T.preventDefault();let A=t!==void 0?t:kc(p)===kc(_);f(n,{replace:A,state:i,preventScrollReset:o,relative:a,viewTransition:c})}},[p,f,_,t,i,e,n,o,a,c])}var wC=0,EC=()=>`__${String(++wC)}__`;function TC(){let{router:n}=qw("useSubmit"),{basename:e}=x.useContext(Rs),t=$S();return x.useCallback(async(i,o={})=>{let{action:a,method:c,encType:f,formData:p,body:_}=eC(i,e);if(o.navigate===!1){let T=o.fetcherKey||EC();await n.fetch(T,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||c,formEncType:o.encType||f,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||c,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function IC(n,{relative:e}={}){let{basename:t}=x.useContext(Rs),i=x.useContext(oo);zt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...zc(n||".",{relative:e})},c=hl();if(n==null){a.search=c.search;let f=new URLSearchParams(a.search),p=f.getAll("index");if(p.some(T=>T==="")){f.delete("index"),p.filter(A=>A).forEach(A=>f.append("index",A));let T=f.toString();a.search=T?`?${T}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Zs([t,a.pathname])),kc(a)}function SC(n,e={}){let t=x.useContext(Fw);zt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=qw("useViewTransitionState"),o=zc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=oa(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=oa(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Td(o.pathname,c)!=null||Td(o.pathname,a)!=null}new TextEncoder;var CC=xw();const tu=Wd(CC);/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(n,e){typeof pI=="object"&&typeof Pm<"u"?Pm.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self).bootstrap=e()})(void 0,function(){const n=new Map,e={set(E,d,v){n.has(E)||n.set(E,new Map);const S=n.get(E);S.has(d)||S.size===0?S.set(d,v):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(S.keys())[0]}.`)},get:(E,d)=>n.has(E)&&n.get(E).get(d)||null,remove(E,d){if(!n.has(E))return;const v=n.get(E);v.delete(d),v.size===0&&n.delete(E)}},t="transitionend",i=E=>(E&&window.CSS&&window.CSS.escape&&(E=E.replace(/#([^\s"#']+)/g,(d,v)=>`#${CSS.escape(v)}`)),E),o=E=>{E.dispatchEvent(new Event(t))},a=E=>!(!E||typeof E!="object")&&(E.jquery!==void 0&&(E=E[0]),E.nodeType!==void 0),c=E=>a(E)?E.jquery?E[0]:E:typeof E=="string"&&E.length>0?document.querySelector(i(E)):null,f=E=>{if(!a(E)||E.getClientRects().length===0)return!1;const d=getComputedStyle(E).getPropertyValue("visibility")==="visible",v=E.closest("details:not([open])");if(!v)return d;if(v!==E){const S=E.closest("summary");if(S&&S.parentNode!==v||S===null)return!1}return d},p=E=>!E||E.nodeType!==Node.ELEMENT_NODE||!!E.classList.contains("disabled")||(E.disabled!==void 0?E.disabled:E.hasAttribute("disabled")&&E.getAttribute("disabled")!=="false"),_=E=>{if(!document.documentElement.attachShadow)return null;if(typeof E.getRootNode=="function"){const d=E.getRootNode();return d instanceof ShadowRoot?d:null}return E instanceof ShadowRoot?E:E.parentNode?_(E.parentNode):null},T=()=>{},A=E=>{E.offsetHeight},R=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,O=[],U=()=>document.documentElement.dir==="rtl",Y=E=>{var d;d=()=>{const v=R();if(v){const S=E.NAME,B=v.fn[S];v.fn[S]=E.jQueryInterface,v.fn[S].Constructor=E,v.fn[S].noConflict=()=>(v.fn[S]=B,E.jQueryInterface)}},document.readyState==="loading"?(O.length||document.addEventListener("DOMContentLoaded",()=>{for(const v of O)v()}),O.push(d)):d()},H=(E,d=[],v=E)=>typeof E=="function"?E(...d):v,ee=(E,d,v=!0)=>{if(!v)return void H(E);const S=(X=>{if(!X)return 0;let{transitionDuration:ne,transitionDelay:he}=window.getComputedStyle(X);const me=Number.parseFloat(ne),ve=Number.parseFloat(he);return me||ve?(ne=ne.split(",")[0],he=he.split(",")[0],1e3*(Number.parseFloat(ne)+Number.parseFloat(he))):0})(d)+5;let B=!1;const z=({target:X})=>{X===d&&(B=!0,d.removeEventListener(t,z),H(E))};d.addEventListener(t,z),setTimeout(()=>{B||o(d)},S)},le=(E,d,v,S)=>{const B=E.length;let z=E.indexOf(d);return z===-1?!v&&S?E[B-1]:E[0]:(z+=v?1:-1,S&&(z=(z+B)%B),E[Math.max(0,Math.min(z,B-1))])},se=/[^.]*(?=\..*)\.|.*/,ye=/\..*/,Le=/::\d+$/,Ae={};let M=1;const k={mouseenter:"mouseover",mouseleave:"mouseout"},b=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function L(E,d){return d&&`${d}::${M++}`||E.uidEvent||M++}function $(E){const d=L(E);return E.uidEvent=d,Ae[d]=Ae[d]||{},Ae[d]}function q(E,d,v=null){return Object.values(E).find(S=>S.callable===d&&S.delegationSelector===v)}function N(E,d,v){const S=typeof d=="string",B=S?v:d||v;let z=Xe(E);return b.has(z)||(z=E),[S,B,z]}function Tt(E,d,v,S,B){if(typeof d!="string"||!E)return;let[z,X,ne]=N(d,v,S);d in k&&(X=(Ne=>function(be){if(!be.relatedTarget||be.relatedTarget!==be.delegateTarget&&!be.delegateTarget.contains(be.relatedTarget))return Ne.call(this,be)})(X));const he=$(E),me=he[ne]||(he[ne]={}),ve=q(me,X,z?v:null);if(ve)return void(ve.oneOff=ve.oneOff&&B);const ge=L(X,d.replace(se,"")),ze=z?function(Me,Ne,be){return function Ee(Qe){const Ct=Me.querySelectorAll(Ne);for(let{target:Ge}=Qe;Ge&&Ge!==this;Ge=Ge.parentNode)for(const st of Ct)if(st===Ge)return ke(Qe,{delegateTarget:Ge}),Ee.oneOff&&F.off(Me,Qe.type,Ne,be),be.apply(Ge,[Qe])}}(E,v,X):function(Me,Ne){return function be(Ee){return ke(Ee,{delegateTarget:Me}),be.oneOff&&F.off(Me,Ee.type,Ne),Ne.apply(Me,[Ee])}}(E,X);ze.delegationSelector=z?v:null,ze.callable=X,ze.oneOff=B,ze.uidEvent=ge,me[ge]=ze,E.addEventListener(ne,ze,z)}function Ft(E,d,v,S,B){const z=q(d[v],S,B);z&&(E.removeEventListener(v,z,!!B),delete d[v][z.uidEvent])}function kt(E,d,v,S){const B=d[v]||{};for(const[z,X]of Object.entries(B))z.includes(S)&&Ft(E,d,v,X.callable,X.delegationSelector)}function Xe(E){return E=E.replace(ye,""),k[E]||E}const F={on(E,d,v,S){Tt(E,d,v,S,!1)},one(E,d,v,S){Tt(E,d,v,S,!0)},off(E,d,v,S){if(typeof d!="string"||!E)return;const[B,z,X]=N(d,v,S),ne=X!==d,he=$(E),me=he[X]||{},ve=d.startsWith(".");if(z===void 0){if(ve)for(const ge of Object.keys(he))kt(E,he,ge,d.slice(1));for(const[ge,ze]of Object.entries(me)){const Me=ge.replace(Le,"");ne&&!d.includes(Me)||Ft(E,he,X,ze.callable,ze.delegationSelector)}}else{if(!Object.keys(me).length)return;Ft(E,he,X,z,B?v:null)}},trigger(E,d,v){if(typeof d!="string"||!E)return null;const S=R();let B=null,z=!0,X=!0,ne=!1;d!==Xe(d)&&S&&(B=S.Event(d,v),S(E).trigger(B),z=!B.isPropagationStopped(),X=!B.isImmediatePropagationStopped(),ne=B.isDefaultPrevented());const he=ke(new Event(d,{bubbles:z,cancelable:!0}),v);return ne&&he.preventDefault(),X&&E.dispatchEvent(he),he.defaultPrevented&&B&&B.preventDefault(),he}};function ke(E,d={}){for(const[v,S]of Object.entries(d))try{E[v]=S}catch{Object.defineProperty(E,v,{configurable:!0,get:()=>S})}return E}function pe(E){if(E==="true")return!0;if(E==="false")return!1;if(E===Number(E).toString())return Number(E);if(E===""||E==="null")return null;if(typeof E!="string")return E;try{return JSON.parse(decodeURIComponent(E))}catch{return E}}function W(E){return E.replace(/[A-Z]/g,d=>`-${d.toLowerCase()}`)}const te={setDataAttribute(E,d,v){E.setAttribute(`data-bs-${W(d)}`,v)},removeDataAttribute(E,d){E.removeAttribute(`data-bs-${W(d)}`)},getDataAttributes(E){if(!E)return{};const d={},v=Object.keys(E.dataset).filter(S=>S.startsWith("bs")&&!S.startsWith("bsConfig"));for(const S of v){let B=S.replace(/^bs/,"");B=B.charAt(0).toLowerCase()+B.slice(1,B.length),d[B]=pe(E.dataset[S])}return d},getDataAttribute:(E,d)=>pe(E.getAttribute(`data-bs-${W(d)}`))};class _e{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(d){return d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d}_mergeConfigObj(d,v){const S=a(v)?te.getDataAttribute(v,"config"):{};return{...this.constructor.Default,...typeof S=="object"?S:{},...a(v)?te.getDataAttributes(v):{},...typeof d=="object"?d:{}}}_typeCheckConfig(d,v=this.constructor.DefaultType){for(const[B,z]of Object.entries(v)){const X=d[B],ne=a(X)?"element":(S=X)==null?`${S}`:Object.prototype.toString.call(S).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(z).test(ne))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${B}" provided type "${ne}" but expected type "${z}".`)}var S}}class Pe extends _e{constructor(d,v){super(),(d=c(d))&&(this._element=d,this._config=this._getConfig(v),e.set(this._element,this.constructor.DATA_KEY,this))}dispose(){e.remove(this._element,this.constructor.DATA_KEY),F.off(this._element,this.constructor.EVENT_KEY);for(const d of Object.getOwnPropertyNames(this))this[d]=null}_queueCallback(d,v,S=!0){ee(d,v,S)}_getConfig(d){return d=this._mergeConfigObj(d,this._element),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}static getInstance(d){return e.get(c(d),this.DATA_KEY)}static getOrCreateInstance(d,v={}){return this.getInstance(d)||new this(d,typeof v=="object"?v:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(d){return`${d}${this.EVENT_KEY}`}}const je=E=>{let d=E.getAttribute("data-bs-target");if(!d||d==="#"){let v=E.getAttribute("href");if(!v||!v.includes("#")&&!v.startsWith("."))return null;v.includes("#")&&!v.startsWith("#")&&(v=`#${v.split("#")[1]}`),d=v&&v!=="#"?v.trim():null}return d?d.split(",").map(v=>i(v)).join(","):null},ce={find:(E,d=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(d,E)),findOne:(E,d=document.documentElement)=>Element.prototype.querySelector.call(d,E),children:(E,d)=>[].concat(...E.children).filter(v=>v.matches(d)),parents(E,d){const v=[];let S=E.parentNode.closest(d);for(;S;)v.push(S),S=S.parentNode.closest(d);return v},prev(E,d){let v=E.previousElementSibling;for(;v;){if(v.matches(d))return[v];v=v.previousElementSibling}return[]},next(E,d){let v=E.nextElementSibling;for(;v;){if(v.matches(d))return[v];v=v.nextElementSibling}return[]},focusableChildren(E){const d=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(v=>`${v}:not([tabindex^="-"])`).join(",");return this.find(d,E).filter(v=>!p(v)&&f(v))},getSelectorFromElement(E){const d=je(E);return d&&ce.findOne(d)?d:null},getElementFromSelector(E){const d=je(E);return d?ce.findOne(d):null},getMultipleElementsFromSelector(E){const d=je(E);return d?ce.find(d):[]}},Ke=(E,d="hide")=>{const v=`click.dismiss${E.EVENT_KEY}`,S=E.NAME;F.on(document,v,`[data-bs-dismiss="${S}"]`,function(B){if(["A","AREA"].includes(this.tagName)&&B.preventDefault(),p(this))return;const z=ce.getElementFromSelector(this)||this.closest(`.${S}`);E.getOrCreateInstance(z)[d]()})},Je=".bs.alert",at=`close${Je}`,Pt=`closed${Je}`;class tn extends Pe{static get NAME(){return"alert"}close(){if(F.trigger(this._element,at).defaultPrevented)return;this._element.classList.remove("show");const d=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,d)}_destroyElement(){this._element.remove(),F.trigger(this._element,Pt),this.dispose()}static jQueryInterface(d){return this.each(function(){const v=tn.getOrCreateInstance(this);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d](this)}})}}Ke(tn,"close"),Y(tn);const Mn='[data-bs-toggle="button"]';class nn extends Pe{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(d){return this.each(function(){const v=nn.getOrCreateInstance(this);d==="toggle"&&v[d]()})}}F.on(document,"click.bs.button.data-api",Mn,E=>{E.preventDefault();const d=E.target.closest(Mn);nn.getOrCreateInstance(d).toggle()}),Y(nn);const Gt=".bs.swipe",ct=`touchstart${Gt}`,Jr=`touchmove${Gt}`,Dr=`touchend${Gt}`,lo=`pointerdown${Gt}`,ts=`pointerup${Gt}`,Or={endCallback:null,leftCallback:null,rightCallback:null},Lr={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Zr extends _e{constructor(d,v){super(),this._element=d,d&&Zr.isSupported()&&(this._config=this._getConfig(v),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Or}static get DefaultType(){return Lr}static get NAME(){return"swipe"}dispose(){F.off(this._element,Gt)}_start(d){this._supportPointerEvents?this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX):this._deltaX=d.touches[0].clientX}_end(d){this._eventIsPointerPenTouch(d)&&(this._deltaX=d.clientX-this._deltaX),this._handleSwipe(),H(this._config.endCallback)}_move(d){this._deltaX=d.touches&&d.touches.length>1?0:d.touches[0].clientX-this._deltaX}_handleSwipe(){const d=Math.abs(this._deltaX);if(d<=40)return;const v=d/this._deltaX;this._deltaX=0,v&&H(v>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(F.on(this._element,lo,d=>this._start(d)),F.on(this._element,ts,d=>this._end(d)),this._element.classList.add("pointer-event")):(F.on(this._element,ct,d=>this._start(d)),F.on(this._element,Jr,d=>this._move(d)),F.on(this._element,Dr,d=>this._end(d)))}_eventIsPointerPenTouch(d){return this._supportPointerEvents&&(d.pointerType==="pen"||d.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const An=".bs.carousel",ei=".data-api",Mr="next",De="prev",ht="left",Rn="right",ma=`slide${An}`,ti=`slid${An}`,ks=`keydown${An}`,Ps=`mouseenter${An}`,ga=`mouseleave${An}`,ya=`dragstart${An}`,_a=`load${An}${ei}`,va=`click${An}${ei}`,uo="carousel",ni="active",bs=".active",xs=".carousel-item",fr=bs+xs,ri={ArrowLeft:Rn,ArrowRight:ht},co={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},ii={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class si extends Pe{constructor(d,v){super(d,v),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ce.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===uo&&this.cycle()}static get Default(){return co}static get DefaultType(){return ii}static get NAME(){return"carousel"}next(){this._slide(Mr)}nextWhenVisible(){!document.hidden&&f(this._element)&&this.next()}prev(){this._slide(De)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?F.one(this._element,ti,()=>this.cycle()):this.cycle())}to(d){const v=this._getItems();if(d>v.length-1||d<0)return;if(this._isSliding)return void F.one(this._element,ti,()=>this.to(d));const S=this._getItemIndex(this._getActive());if(S===d)return;const B=d>S?Mr:De;this._slide(B,v[d])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(d){return d.defaultInterval=d.interval,d}_addEventListeners(){this._config.keyboard&&F.on(this._element,ks,d=>this._keydown(d)),this._config.pause==="hover"&&(F.on(this._element,Ps,()=>this.pause()),F.on(this._element,ga,()=>this._maybeEnableCycle())),this._config.touch&&Zr.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const v of ce.find(".carousel-item img",this._element))F.on(v,ya,S=>S.preventDefault());const d={leftCallback:()=>this._slide(this._directionToOrder(ht)),rightCallback:()=>this._slide(this._directionToOrder(Rn)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new Zr(this._element,d)}_keydown(d){if(/input|textarea/i.test(d.target.tagName))return;const v=ri[d.key];v&&(d.preventDefault(),this._slide(this._directionToOrder(v)))}_getItemIndex(d){return this._getItems().indexOf(d)}_setActiveIndicatorElement(d){if(!this._indicatorsElement)return;const v=ce.findOne(bs,this._indicatorsElement);v.classList.remove(ni),v.removeAttribute("aria-current");const S=ce.findOne(`[data-bs-slide-to="${d}"]`,this._indicatorsElement);S&&(S.classList.add(ni),S.setAttribute("aria-current","true"))}_updateInterval(){const d=this._activeElement||this._getActive();if(!d)return;const v=Number.parseInt(d.getAttribute("data-bs-interval"),10);this._config.interval=v||this._config.defaultInterval}_slide(d,v=null){if(this._isSliding)return;const S=this._getActive(),B=d===Mr,z=v||le(this._getItems(),S,B,this._config.wrap);if(z===S)return;const X=this._getItemIndex(z),ne=ge=>F.trigger(this._element,ge,{relatedTarget:z,direction:this._orderToDirection(d),from:this._getItemIndex(S),to:X});if(ne(ma).defaultPrevented||!S||!z)return;const he=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(X),this._activeElement=z;const me=B?"carousel-item-start":"carousel-item-end",ve=B?"carousel-item-next":"carousel-item-prev";z.classList.add(ve),A(z),S.classList.add(me),z.classList.add(me),this._queueCallback(()=>{z.classList.remove(me,ve),z.classList.add(ni),S.classList.remove(ni,ve,me),this._isSliding=!1,ne(ti)},S,this._isAnimated()),he&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return ce.findOne(fr,this._element)}_getItems(){return ce.find(xs,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(d){return U()?d===ht?De:Mr:d===ht?Mr:De}_orderToDirection(d){return U()?d===De?ht:Rn:d===De?Rn:ht}static jQueryInterface(d){return this.each(function(){const v=si.getOrCreateInstance(this,d);if(typeof d!="number"){if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d]()}}else v.to(d)})}}F.on(document,va,"[data-bs-slide], [data-bs-slide-to]",function(E){const d=ce.getElementFromSelector(this);if(!d||!d.classList.contains(uo))return;E.preventDefault();const v=si.getOrCreateInstance(d),S=this.getAttribute("data-bs-slide-to");return S?(v.to(S),void v._maybeEnableCycle()):te.getDataAttribute(this,"slide")==="next"?(v.next(),void v._maybeEnableCycle()):(v.prev(),void v._maybeEnableCycle())}),F.on(window,_a,()=>{const E=ce.find('[data-bs-ride="carousel"]');for(const d of E)si.getOrCreateInstance(d)}),Y(si);const Vr=".bs.collapse",wa=`show${Vr}`,Ci=`shown${Vr}`,Ea=`hide${Vr}`,jt=`hidden${Vr}`,ho=`click${Vr}.data-api`,Yn="show",pr="collapse",oi="collapsing",fo=`:scope .${pr} .${pr}`,Xn='[data-bs-toggle="collapse"]',Ta={parent:null,toggle:!0},Cu={parent:"(null|element)",toggle:"boolean"};class Fr extends Pe{constructor(d,v){super(d,v),this._isTransitioning=!1,this._triggerArray=[];const S=ce.find(Xn);for(const B of S){const z=ce.getSelectorFromElement(B),X=ce.find(z).filter(ne=>ne===this._element);z!==null&&X.length&&this._triggerArray.push(B)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ta}static get DefaultType(){return Cu}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let d=[];if(this._config.parent&&(d=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(B=>B!==this._element).map(B=>Fr.getOrCreateInstance(B,{toggle:!1}))),d.length&&d[0]._isTransitioning||F.trigger(this._element,wa).defaultPrevented)return;for(const B of d)B.hide();const v=this._getDimension();this._element.classList.remove(pr),this._element.classList.add(oi),this._element.style[v]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const S=`scroll${v[0].toUpperCase()+v.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(oi),this._element.classList.add(pr,Yn),this._element.style[v]="",F.trigger(this._element,Ci)},this._element,!0),this._element.style[v]=`${this._element[S]}px`}hide(){if(this._isTransitioning||!this._isShown()||F.trigger(this._element,Ea).defaultPrevented)return;const d=this._getDimension();this._element.style[d]=`${this._element.getBoundingClientRect()[d]}px`,A(this._element),this._element.classList.add(oi),this._element.classList.remove(pr,Yn);for(const v of this._triggerArray){const S=ce.getElementFromSelector(v);S&&!this._isShown(S)&&this._addAriaAndCollapsedClass([v],!1)}this._isTransitioning=!0,this._element.style[d]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(oi),this._element.classList.add(pr),F.trigger(this._element,jt)},this._element,!0)}_isShown(d=this._element){return d.classList.contains(Yn)}_configAfterMerge(d){return d.toggle=!!d.toggle,d.parent=c(d.parent),d}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const d=this._getFirstLevelChildren(Xn);for(const v of d){const S=ce.getElementFromSelector(v);S&&this._addAriaAndCollapsedClass([v],this._isShown(S))}}_getFirstLevelChildren(d){const v=ce.find(fo,this._config.parent);return ce.find(d,this._config.parent).filter(S=>!v.includes(S))}_addAriaAndCollapsedClass(d,v){if(d.length)for(const S of d)S.classList.toggle("collapsed",!v),S.setAttribute("aria-expanded",v)}static jQueryInterface(d){const v={};return typeof d=="string"&&/show|hide/.test(d)&&(v.toggle=!1),this.each(function(){const S=Fr.getOrCreateInstance(this,v);if(typeof d=="string"){if(S[d]===void 0)throw new TypeError(`No method named "${d}"`);S[d]()}})}}F.on(document,ho,Xn,function(E){(E.target.tagName==="A"||E.delegateTarget&&E.delegateTarget.tagName==="A")&&E.preventDefault();for(const d of ce.getMultipleElementsFromSelector(this))Fr.getOrCreateInstance(d,{toggle:!1}).toggle()}),Y(Fr);var rn="top",Nt="bottom",Qt="right",bt="left",Ns="auto",ai=[rn,Nt,Qt,bt],mr="start",jr="end",po="clippingParents",mo="viewport",ns="popper",It="reference",go=ai.reduce(function(E,d){return E.concat([d+"-"+mr,d+"-"+jr])},[]),Ai=[].concat(ai,[Ns]).reduce(function(E,d){return E.concat([d,d+"-"+mr,d+"-"+jr])},[]),Ri="beforeRead",Jn="read",yo="afterRead",Ia="beforeMain",rs="main",Vn="afterMain",Sa="beforeWrite",En="write",_o="afterWrite",Ca=[Ri,Jn,yo,Ia,rs,Vn,Sa,En,_o];function Zn(E){return E?(E.nodeName||"").toLowerCase():null}function sn(E){if(E==null)return window;if(E.toString()!=="[object Window]"){var d=E.ownerDocument;return d&&d.defaultView||window}return E}function gr(E){return E instanceof sn(E).Element||E instanceof Element}function Yt(E){return E instanceof sn(E).HTMLElement||E instanceof HTMLElement}function ki(E){return typeof ShadowRoot<"u"&&(E instanceof sn(E).ShadowRoot||E instanceof ShadowRoot)}const Aa={name:"applyStyles",enabled:!0,phase:"write",fn:function(E){var d=E.state;Object.keys(d.elements).forEach(function(v){var S=d.styles[v]||{},B=d.attributes[v]||{},z=d.elements[v];Yt(z)&&Zn(z)&&(Object.assign(z.style,S),Object.keys(B).forEach(function(X){var ne=B[X];ne===!1?z.removeAttribute(X):z.setAttribute(X,ne===!0?"":ne)}))})},effect:function(E){var d=E.state,v={popper:{position:d.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(d.elements.popper.style,v.popper),d.styles=v,d.elements.arrow&&Object.assign(d.elements.arrow.style,v.arrow),function(){Object.keys(d.elements).forEach(function(S){var B=d.elements[S],z=d.attributes[S]||{},X=Object.keys(d.styles.hasOwnProperty(S)?d.styles[S]:v[S]).reduce(function(ne,he){return ne[he]="",ne},{});Yt(B)&&Zn(B)&&(Object.assign(B.style,X),Object.keys(z).forEach(function(ne){B.removeAttribute(ne)}))})}},requires:["computeStyles"]};function on(E){return E.split("-")[0]}var Xt=Math.max,li=Math.min,er=Math.round;function ui(){var E=navigator.userAgentData;return E!=null&&E.brands&&Array.isArray(E.brands)?E.brands.map(function(d){return d.brand+"/"+d.version}).join(" "):navigator.userAgent}function vt(){return!/^((?!chrome|android).)*safari/i.test(ui())}function tr(E,d,v){d===void 0&&(d=!1),v===void 0&&(v=!1);var S=E.getBoundingClientRect(),B=1,z=1;d&&Yt(E)&&(B=E.offsetWidth>0&&er(S.width)/E.offsetWidth||1,z=E.offsetHeight>0&&er(S.height)/E.offsetHeight||1);var X=(gr(E)?sn(E):window).visualViewport,ne=!vt()&&v,he=(S.left+(ne&&X?X.offsetLeft:0))/B,me=(S.top+(ne&&X?X.offsetTop:0))/z,ve=S.width/B,ge=S.height/z;return{width:ve,height:ge,top:me,right:he+ve,bottom:me+ge,left:he,x:he,y:me}}function Ye(E){var d=tr(E),v=E.offsetWidth,S=E.offsetHeight;return Math.abs(d.width-v)<=1&&(v=d.width),Math.abs(d.height-S)<=1&&(S=d.height),{x:E.offsetLeft,y:E.offsetTop,width:v,height:S}}function Pi(E,d){var v=d.getRootNode&&d.getRootNode();if(E.contains(d))return!0;if(v&&ki(v)){var S=d;do{if(S&&E.isSameNode(S))return!0;S=S.parentNode||S.host}while(S)}return!1}function yr(E){return sn(E).getComputedStyle(E)}function vo(E){return["table","td","th"].indexOf(Zn(E))>=0}function Ur(E){return((gr(E)?E.ownerDocument:E.document)||window.document).documentElement}function Ds(E){return Zn(E)==="html"?E:E.assignedSlot||E.parentNode||(ki(E)?E.host:null)||Ur(E)}function Ra(E){return Yt(E)&&yr(E).position!=="fixed"?E.offsetParent:null}function bi(E){for(var d=sn(E),v=Ra(E);v&&vo(v)&&yr(v).position==="static";)v=Ra(v);return v&&(Zn(v)==="html"||Zn(v)==="body"&&yr(v).position==="static")?d:v||function(S){var B=/firefox/i.test(ui());if(/Trident/i.test(ui())&&Yt(S)&&yr(S).position==="fixed")return null;var z=Ds(S);for(ki(z)&&(z=z.host);Yt(z)&&["html","body"].indexOf(Zn(z))<0;){var X=yr(z);if(X.transform!=="none"||X.perspective!=="none"||X.contain==="paint"||["transform","perspective"].indexOf(X.willChange)!==-1||B&&X.willChange==="filter"||B&&X.filter&&X.filter!=="none")return z;z=z.parentNode}return null}(E)||d}function _r(E){return["top","bottom"].indexOf(E)>=0?"x":"y"}function Ut(E,d,v){return Xt(E,li(d,v))}function vr(E){return Object.assign({},{top:0,right:0,bottom:0,left:0},E)}function wr(E,d){return d.reduce(function(v,S){return v[S]=E,v},{})}const xi={name:"arrow",enabled:!0,phase:"main",fn:function(E){var d,v=E.state,S=E.name,B=E.options,z=v.elements.arrow,X=v.modifiersData.popperOffsets,ne=on(v.placement),he=_r(ne),me=[bt,Qt].indexOf(ne)>=0?"height":"width";if(z&&X){var ve=function(yt,nt){return vr(typeof(yt=typeof yt=="function"?yt(Object.assign({},nt.rects,{placement:nt.placement})):yt)!="number"?yt:wr(yt,ai))}(B.padding,v),ge=Ye(z),ze=he==="y"?rn:bt,Me=he==="y"?Nt:Qt,Ne=v.rects.reference[me]+v.rects.reference[he]-X[he]-v.rects.popper[me],be=X[he]-v.rects.reference[he],Ee=bi(z),Qe=Ee?he==="y"?Ee.clientHeight||0:Ee.clientWidth||0:0,Ct=Ne/2-be/2,Ge=ve[ze],st=Qe-ge[me]-ve[Me],We=Qe/2-ge[me]/2+Ct,Ze=Ut(Ge,We,st),lt=he;v.modifiersData[S]=((d={})[lt]=Ze,d.centerOffset=Ze-We,d)}},effect:function(E){var d=E.state,v=E.options.element,S=v===void 0?"[data-popper-arrow]":v;S!=null&&(typeof S!="string"||(S=d.elements.popper.querySelector(S)))&&Pi(d.elements.popper,S)&&(d.elements.arrow=S)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function dn(E){return E.split("-")[1]}var ci={top:"auto",right:"auto",bottom:"auto",left:"auto"};function wl(E){var d,v=E.popper,S=E.popperRect,B=E.placement,z=E.variation,X=E.offsets,ne=E.position,he=E.gpuAcceleration,me=E.adaptive,ve=E.roundOffsets,ge=E.isFixed,ze=X.x,Me=ze===void 0?0:ze,Ne=X.y,be=Ne===void 0?0:Ne,Ee=typeof ve=="function"?ve({x:Me,y:be}):{x:Me,y:be};Me=Ee.x,be=Ee.y;var Qe=X.hasOwnProperty("x"),Ct=X.hasOwnProperty("y"),Ge=bt,st=rn,We=window;if(me){var Ze=bi(v),lt="clientHeight",yt="clientWidth";Ze===sn(v)&&yr(Ze=Ur(v)).position!=="static"&&ne==="absolute"&&(lt="scrollHeight",yt="scrollWidth"),(B===rn||(B===bt||B===Qt)&&z===jr)&&(st=Nt,be-=(ge&&Ze===We&&We.visualViewport?We.visualViewport.height:Ze[lt])-S.height,be*=he?1:-1),B!==bt&&(B!==rn&&B!==Nt||z!==jr)||(Ge=Qt,Me-=(ge&&Ze===We&&We.visualViewport?We.visualViewport.width:Ze[yt])-S.width,Me*=he?1:-1)}var nt,Ot=Object.assign({position:ne},me&&ci),or=ve===!0?function(Pn,an){var ar=Pn.x,lr=Pn.y,At=an.devicePixelRatio||1;return{x:er(ar*At)/At||0,y:er(lr*At)/At||0}}({x:Me,y:be},sn(v)):{x:Me,y:be};return Me=or.x,be=or.y,he?Object.assign({},Ot,((nt={})[st]=Ct?"0":"",nt[Ge]=Qe?"0":"",nt.transform=(We.devicePixelRatio||1)<=1?"translate("+Me+"px, "+be+"px)":"translate3d("+Me+"px, "+be+"px, 0)",nt)):Object.assign({},Ot,((d={})[st]=Ct?be+"px":"",d[Ge]=Qe?Me+"px":"",d.transform="",d))}const wo={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(E){var d=E.state,v=E.options,S=v.gpuAcceleration,B=S===void 0||S,z=v.adaptive,X=z===void 0||z,ne=v.roundOffsets,he=ne===void 0||ne,me={placement:on(d.placement),variation:dn(d.placement),popper:d.elements.popper,popperRect:d.rects.popper,gpuAcceleration:B,isFixed:d.options.strategy==="fixed"};d.modifiersData.popperOffsets!=null&&(d.styles.popper=Object.assign({},d.styles.popper,wl(Object.assign({},me,{offsets:d.modifiersData.popperOffsets,position:d.options.strategy,adaptive:X,roundOffsets:he})))),d.modifiersData.arrow!=null&&(d.styles.arrow=Object.assign({},d.styles.arrow,wl(Object.assign({},me,{offsets:d.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:he})))),d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-placement":d.placement})},data:{}};var fn={passive:!0};const ka={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(E){var d=E.state,v=E.instance,S=E.options,B=S.scroll,z=B===void 0||B,X=S.resize,ne=X===void 0||X,he=sn(d.elements.popper),me=[].concat(d.scrollParents.reference,d.scrollParents.popper);return z&&me.forEach(function(ve){ve.addEventListener("scroll",v.update,fn)}),ne&&he.addEventListener("resize",v.update,fn),function(){z&&me.forEach(function(ve){ve.removeEventListener("scroll",v.update,fn)}),ne&&he.removeEventListener("resize",v.update,fn)}},data:{}};var El={left:"right",right:"left",bottom:"top",top:"bottom"};function Er(E){return E.replace(/left|right|bottom|top/g,function(d){return El[d]})}var Os={start:"end",end:"start"};function Pa(E){return E.replace(/start|end/g,function(d){return Os[d]})}function nr(E){var d=sn(E);return{scrollLeft:d.pageXOffset,scrollTop:d.pageYOffset}}function rr(E){return tr(Ur(E)).left+nr(E).scrollLeft}function $r(E){var d=yr(E),v=d.overflow,S=d.overflowX,B=d.overflowY;return/auto|scroll|overlay|hidden/.test(v+B+S)}function Ni(E){return["html","body","#document"].indexOf(Zn(E))>=0?E.ownerDocument.body:Yt(E)&&$r(E)?E:Ni(Ds(E))}function wt(E,d){var v;d===void 0&&(d=[]);var S=Ni(E),B=S===((v=E.ownerDocument)==null?void 0:v.body),z=sn(S),X=B?[z].concat(z.visualViewport||[],$r(S)?S:[]):S,ne=d.concat(X);return B?ne:ne.concat(wt(Ds(X)))}function ba(E){return Object.assign({},E,{left:E.x,top:E.y,right:E.x+E.width,bottom:E.y+E.height})}function Eo(E,d,v){return d===mo?ba(function(S,B){var z=sn(S),X=Ur(S),ne=z.visualViewport,he=X.clientWidth,me=X.clientHeight,ve=0,ge=0;if(ne){he=ne.width,me=ne.height;var ze=vt();(ze||!ze&&B==="fixed")&&(ve=ne.offsetLeft,ge=ne.offsetTop)}return{width:he,height:me,x:ve+rr(S),y:ge}}(E,v)):gr(d)?function(S,B){var z=tr(S,!1,B==="fixed");return z.top=z.top+S.clientTop,z.left=z.left+S.clientLeft,z.bottom=z.top+S.clientHeight,z.right=z.left+S.clientWidth,z.width=S.clientWidth,z.height=S.clientHeight,z.x=z.left,z.y=z.top,z}(d,v):ba(function(S){var B,z=Ur(S),X=nr(S),ne=(B=S.ownerDocument)==null?void 0:B.body,he=Xt(z.scrollWidth,z.clientWidth,ne?ne.scrollWidth:0,ne?ne.clientWidth:0),me=Xt(z.scrollHeight,z.clientHeight,ne?ne.scrollHeight:0,ne?ne.clientHeight:0),ve=-X.scrollLeft+rr(S),ge=-X.scrollTop;return yr(ne||z).direction==="rtl"&&(ve+=Xt(z.clientWidth,ne?ne.clientWidth:0)-he),{width:he,height:me,x:ve,y:ge}}(Ur(E)))}function is(E){var d,v=E.reference,S=E.element,B=E.placement,z=B?on(B):null,X=B?dn(B):null,ne=v.x+v.width/2-S.width/2,he=v.y+v.height/2-S.height/2;switch(z){case rn:d={x:ne,y:v.y-S.height};break;case Nt:d={x:ne,y:v.y+v.height};break;case Qt:d={x:v.x+v.width,y:he};break;case bt:d={x:v.x-S.width,y:he};break;default:d={x:v.x,y:v.y}}var me=z?_r(z):null;if(me!=null){var ve=me==="y"?"height":"width";switch(X){case mr:d[me]=d[me]-(v[ve]/2-S[ve]/2);break;case jr:d[me]=d[me]+(v[ve]/2-S[ve]/2)}}return d}function Br(E,d){d===void 0&&(d={});var v=d,S=v.placement,B=S===void 0?E.placement:S,z=v.strategy,X=z===void 0?E.strategy:z,ne=v.boundary,he=ne===void 0?po:ne,me=v.rootBoundary,ve=me===void 0?mo:me,ge=v.elementContext,ze=ge===void 0?ns:ge,Me=v.altBoundary,Ne=Me!==void 0&&Me,be=v.padding,Ee=be===void 0?0:be,Qe=vr(typeof Ee!="number"?Ee:wr(Ee,ai)),Ct=ze===ns?It:ns,Ge=E.rects.popper,st=E.elements[Ne?Ct:ze],We=function(an,ar,lr,At){var Gr=ar==="clippingParents"?function(_t){var mn=wt(Ds(_t)),Bn=["absolute","fixed"].indexOf(yr(_t).position)>=0&&Yt(_t)?bi(_t):_t;return gr(Bn)?mn.filter(function(yi){return gr(yi)&&Pi(yi,Bn)&&Zn(yi)!=="body"}):[]}(an):[].concat(ar),ur=[].concat(Gr,[lr]),Ui=ur[0],Lt=ur.reduce(function(_t,mn){var Bn=Eo(an,mn,At);return _t.top=Xt(Bn.top,_t.top),_t.right=li(Bn.right,_t.right),_t.bottom=li(Bn.bottom,_t.bottom),_t.left=Xt(Bn.left,_t.left),_t},Eo(an,Ui,At));return Lt.width=Lt.right-Lt.left,Lt.height=Lt.bottom-Lt.top,Lt.x=Lt.left,Lt.y=Lt.top,Lt}(gr(st)?st:st.contextElement||Ur(E.elements.popper),he,ve,X),Ze=tr(E.elements.reference),lt=is({reference:Ze,element:Ge,placement:B}),yt=ba(Object.assign({},Ge,lt)),nt=ze===ns?yt:Ze,Ot={top:We.top-nt.top+Qe.top,bottom:nt.bottom-We.bottom+Qe.bottom,left:We.left-nt.left+Qe.left,right:nt.right-We.right+Qe.right},or=E.modifiersData.offset;if(ze===ns&&or){var Pn=or[B];Object.keys(Ot).forEach(function(an){var ar=[Qt,Nt].indexOf(an)>=0?1:-1,lr=[rn,Nt].indexOf(an)>=0?"y":"x";Ot[an]+=Pn[lr]*ar})}return Ot}function xa(E,d){d===void 0&&(d={});var v=d,S=v.placement,B=v.boundary,z=v.rootBoundary,X=v.padding,ne=v.flipVariations,he=v.allowedAutoPlacements,me=he===void 0?Ai:he,ve=dn(S),ge=ve?ne?go:go.filter(function(Ne){return dn(Ne)===ve}):ai,ze=ge.filter(function(Ne){return me.indexOf(Ne)>=0});ze.length===0&&(ze=ge);var Me=ze.reduce(function(Ne,be){return Ne[be]=Br(E,{placement:be,boundary:B,rootBoundary:z,padding:X})[on(be)],Ne},{});return Object.keys(Me).sort(function(Ne,be){return Me[Ne]-Me[be]})}const Fn={name:"flip",enabled:!0,phase:"main",fn:function(E){var d=E.state,v=E.options,S=E.name;if(!d.modifiersData[S]._skip){for(var B=v.mainAxis,z=B===void 0||B,X=v.altAxis,ne=X===void 0||X,he=v.fallbackPlacements,me=v.padding,ve=v.boundary,ge=v.rootBoundary,ze=v.altBoundary,Me=v.flipVariations,Ne=Me===void 0||Me,be=v.allowedAutoPlacements,Ee=d.options.placement,Qe=on(Ee),Ct=he||(Qe!==Ee&&Ne?function(_t){if(on(_t)===Ns)return[];var mn=Er(_t);return[Pa(_t),mn,Pa(mn)]}(Ee):[Er(Ee)]),Ge=[Ee].concat(Ct).reduce(function(_t,mn){return _t.concat(on(mn)===Ns?xa(d,{placement:mn,boundary:ve,rootBoundary:ge,padding:me,flipVariations:Ne,allowedAutoPlacements:be}):mn)},[]),st=d.rects.reference,We=d.rects.popper,Ze=new Map,lt=!0,yt=Ge[0],nt=0;nt<Ge.length;nt++){var Ot=Ge[nt],or=on(Ot),Pn=dn(Ot)===mr,an=[rn,Nt].indexOf(or)>=0,ar=an?"width":"height",lr=Br(d,{placement:Ot,boundary:ve,rootBoundary:ge,altBoundary:ze,padding:me}),At=an?Pn?Qt:bt:Pn?Nt:rn;st[ar]>We[ar]&&(At=Er(At));var Gr=Er(At),ur=[];if(z&&ur.push(lr[or]<=0),ne&&ur.push(lr[At]<=0,lr[Gr]<=0),ur.every(function(_t){return _t})){yt=Ot,lt=!1;break}Ze.set(Ot,ur)}if(lt)for(var Ui=function(_t){var mn=Ge.find(function(Bn){var yi=Ze.get(Bn);if(yi)return yi.slice(0,_t).every(function($i){return $i})});if(mn)return yt=mn,"break"},Lt=Ne?3:1;Lt>0&&Ui(Lt)!=="break";Lt--);d.placement!==yt&&(d.modifiersData[S]._skip=!0,d.placement=yt,d.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ls(E,d,v){return v===void 0&&(v={x:0,y:0}),{top:E.top-d.height-v.y,right:E.right-d.width+v.x,bottom:E.bottom-d.height+v.y,left:E.left-d.width-v.x}}function kn(E){return[rn,Qt,Nt,bt].some(function(d){return E[d]>=0})}const To={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(E){var d=E.state,v=E.name,S=d.rects.reference,B=d.rects.popper,z=d.modifiersData.preventOverflow,X=Br(d,{elementContext:"reference"}),ne=Br(d,{altBoundary:!0}),he=Ls(X,S),me=Ls(ne,B,z),ve=kn(he),ge=kn(me);d.modifiersData[v]={referenceClippingOffsets:he,popperEscapeOffsets:me,isReferenceHidden:ve,hasPopperEscaped:ge},d.attributes.popper=Object.assign({},d.attributes.popper,{"data-popper-reference-hidden":ve,"data-popper-escaped":ge})}},Ms={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(E){var d=E.state,v=E.options,S=E.name,B=v.offset,z=B===void 0?[0,0]:B,X=Ai.reduce(function(ve,ge){return ve[ge]=function(ze,Me,Ne){var be=on(ze),Ee=[bt,rn].indexOf(be)>=0?-1:1,Qe=typeof Ne=="function"?Ne(Object.assign({},Me,{placement:ze})):Ne,Ct=Qe[0],Ge=Qe[1];return Ct=Ct||0,Ge=(Ge||0)*Ee,[bt,Qt].indexOf(be)>=0?{x:Ge,y:Ct}:{x:Ct,y:Ge}}(ge,d.rects,z),ve},{}),ne=X[d.placement],he=ne.x,me=ne.y;d.modifiersData.popperOffsets!=null&&(d.modifiersData.popperOffsets.x+=he,d.modifiersData.popperOffsets.y+=me),d.modifiersData[S]=X}},Tr={name:"popperOffsets",enabled:!0,phase:"read",fn:function(E){var d=E.state,v=E.name;d.modifiersData[v]=is({reference:d.rects.reference,element:d.rects.popper,placement:d.placement})},data:{}},Io={name:"preventOverflow",enabled:!0,phase:"main",fn:function(E){var d=E.state,v=E.options,S=E.name,B=v.mainAxis,z=B===void 0||B,X=v.altAxis,ne=X!==void 0&&X,he=v.boundary,me=v.rootBoundary,ve=v.altBoundary,ge=v.padding,ze=v.tether,Me=ze===void 0||ze,Ne=v.tetherOffset,be=Ne===void 0?0:Ne,Ee=Br(d,{boundary:he,rootBoundary:me,padding:ge,altBoundary:ve}),Qe=on(d.placement),Ct=dn(d.placement),Ge=!Ct,st=_r(Qe),We=st==="x"?"y":"x",Ze=d.modifiersData.popperOffsets,lt=d.rects.reference,yt=d.rects.popper,nt=typeof be=="function"?be(Object.assign({},d.rects,{placement:d.placement})):be,Ot=typeof nt=="number"?{mainAxis:nt,altAxis:nt}:Object.assign({mainAxis:0,altAxis:0},nt),or=d.modifiersData.offset?d.modifiersData.offset[d.placement]:null,Pn={x:0,y:0};if(Ze){if(z){var an,ar=st==="y"?rn:bt,lr=st==="y"?Nt:Qt,At=st==="y"?"height":"width",Gr=Ze[st],ur=Gr+Ee[ar],Ui=Gr-Ee[lr],Lt=Me?-yt[At]/2:0,_t=Ct===mr?lt[At]:yt[At],mn=Ct===mr?-yt[At]:-lt[At],Bn=d.elements.arrow,yi=Me&&Bn?Ye(Bn):{width:0,height:0},$i=d.modifiersData["arrow#persistent"]?d.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},cr=$i[ar],fs=$i[lr],Vo=Ut(0,lt[At],yi[At]),Ch=Ge?lt[At]/2-Lt-Vo-cr-Ot.mainAxis:_t-Vo-cr-Ot.mainAxis,Bi=Ge?-lt[At]/2+Lt+Vo+fs+Ot.mainAxis:mn+Vo+fs+Ot.mainAxis,_i=d.elements.arrow&&bi(d.elements.arrow),Qu=_i?st==="y"?_i.clientTop||0:_i.clientLeft||0:0,Yu=(an=or==null?void 0:or[st])!=null?an:0,zi=Gr+Bi-Yu,Hi=Ut(Me?li(ur,Gr+Ch-Yu-Qu):ur,Gr,Me?Xt(Ui,zi):Ui);Ze[st]=Hi,Pn[st]=Hi-Gr}if(ne){var za,Ah=st==="x"?rn:bt,Fl=st==="x"?Nt:Qt,ps=Ze[We],ms=We==="y"?"height":"width",Qr=ps+Ee[Ah],Fo=ps-Ee[Fl],qs=[rn,bt].indexOf(Qe)!==-1,gs=(za=or==null?void 0:or[We])!=null?za:0,jl=qs?Qr:ps-lt[ms]-yt[ms]-gs+Ot.altAxis,Ks=qs?ps+lt[ms]+yt[ms]-gs-Ot.altAxis:Fo,Xu=Me&&qs?function(Ju,Mt,jo){var Ul=Ut(Ju,Mt,jo);return Ul>jo?jo:Ul}(jl,ps,Ks):Ut(Me?jl:Qr,ps,Me?Ks:Fo);Ze[We]=Xu,Pn[We]=Xu-ps}d.modifiersData[S]=Pn}},requiresIfExists:["offset"]};function pn(E,d,v){v===void 0&&(v=!1);var S,B,z=Yt(d),X=Yt(d)&&function(ge){var ze=ge.getBoundingClientRect(),Me=er(ze.width)/ge.offsetWidth||1,Ne=er(ze.height)/ge.offsetHeight||1;return Me!==1||Ne!==1}(d),ne=Ur(d),he=tr(E,X,v),me={scrollLeft:0,scrollTop:0},ve={x:0,y:0};return(z||!z&&!v)&&((Zn(d)!=="body"||$r(ne))&&(me=(S=d)!==sn(S)&&Yt(S)?{scrollLeft:(B=S).scrollLeft,scrollTop:B.scrollTop}:nr(S)),Yt(d)?((ve=tr(d,!0)).x+=d.clientLeft,ve.y+=d.clientTop):ne&&(ve.x=rr(ne))),{x:he.left+me.scrollLeft-ve.x,y:he.top+me.scrollTop-ve.y,width:he.width,height:he.height}}function zr(E){var d=new Map,v=new Set,S=[];function B(z){v.add(z.name),[].concat(z.requires||[],z.requiresIfExists||[]).forEach(function(X){if(!v.has(X)){var ne=d.get(X);ne&&B(ne)}}),S.push(z)}return E.forEach(function(z){d.set(z.name,z)}),E.forEach(function(z){v.has(z.name)||B(z)}),S}var Vs={placement:"bottom",modifiers:[],strategy:"absolute"};function Hr(){for(var E=arguments.length,d=new Array(E),v=0;v<E;v++)d[v]=arguments[v];return!d.some(function(S){return!(S&&typeof S.getBoundingClientRect=="function")})}function So(E){E===void 0&&(E={});var d=E,v=d.defaultModifiers,S=v===void 0?[]:v,B=d.defaultOptions,z=B===void 0?Vs:B;return function(X,ne,he){he===void 0&&(he=z);var me,ve,ge={placement:"bottom",orderedModifiers:[],options:Object.assign({},Vs,z),modifiersData:{},elements:{reference:X,popper:ne},attributes:{},styles:{}},ze=[],Me=!1,Ne={state:ge,setOptions:function(Ee){var Qe=typeof Ee=="function"?Ee(ge.options):Ee;be(),ge.options=Object.assign({},z,ge.options,Qe),ge.scrollParents={reference:gr(X)?wt(X):X.contextElement?wt(X.contextElement):[],popper:wt(ne)};var Ct,Ge,st=function(We){var Ze=zr(We);return Ca.reduce(function(lt,yt){return lt.concat(Ze.filter(function(nt){return nt.phase===yt}))},[])}((Ct=[].concat(S,ge.options.modifiers),Ge=Ct.reduce(function(We,Ze){var lt=We[Ze.name];return We[Ze.name]=lt?Object.assign({},lt,Ze,{options:Object.assign({},lt.options,Ze.options),data:Object.assign({},lt.data,Ze.data)}):Ze,We},{}),Object.keys(Ge).map(function(We){return Ge[We]})));return ge.orderedModifiers=st.filter(function(We){return We.enabled}),ge.orderedModifiers.forEach(function(We){var Ze=We.name,lt=We.options,yt=lt===void 0?{}:lt,nt=We.effect;if(typeof nt=="function"){var Ot=nt({state:ge,name:Ze,instance:Ne,options:yt});ze.push(Ot||function(){})}}),Ne.update()},forceUpdate:function(){if(!Me){var Ee=ge.elements,Qe=Ee.reference,Ct=Ee.popper;if(Hr(Qe,Ct)){ge.rects={reference:pn(Qe,bi(Ct),ge.options.strategy==="fixed"),popper:Ye(Ct)},ge.reset=!1,ge.placement=ge.options.placement,ge.orderedModifiers.forEach(function(nt){return ge.modifiersData[nt.name]=Object.assign({},nt.data)});for(var Ge=0;Ge<ge.orderedModifiers.length;Ge++)if(ge.reset!==!0){var st=ge.orderedModifiers[Ge],We=st.fn,Ze=st.options,lt=Ze===void 0?{}:Ze,yt=st.name;typeof We=="function"&&(ge=We({state:ge,options:lt,name:yt,instance:Ne})||ge)}else ge.reset=!1,Ge=-1}}},update:(me=function(){return new Promise(function(Ee){Ne.forceUpdate(),Ee(ge)})},function(){return ve||(ve=new Promise(function(Ee){Promise.resolve().then(function(){ve=void 0,Ee(me())})})),ve}),destroy:function(){be(),Me=!0}};if(!Hr(X,ne))return Ne;function be(){ze.forEach(function(Ee){return Ee()}),ze=[]}return Ne.setOptions(he).then(function(Ee){!Me&&he.onFirstUpdate&&he.onFirstUpdate(Ee)}),Ne}}var Co=So(),Di=So({defaultModifiers:[ka,Tr,wo,Aa]}),hi=So({defaultModifiers:[ka,Tr,wo,Aa,Ms,Fn,Io,xi,To]});const ss=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Vn,afterRead:yo,afterWrite:_o,applyStyles:Aa,arrow:xi,auto:Ns,basePlacements:ai,beforeMain:Ia,beforeRead:Ri,beforeWrite:Sa,bottom:Nt,clippingParents:po,computeStyles:wo,createPopper:hi,createPopperBase:Co,createPopperLite:Di,detectOverflow:Br,end:jr,eventListeners:ka,flip:Fn,hide:To,left:bt,main:rs,modifierPhases:Ca,offset:Ms,placements:Ai,popper:ns,popperGenerator:So,popperOffsets:Tr,preventOverflow:Io,read:Jn,reference:It,right:Qt,start:mr,top:rn,variationPlacements:go,viewport:mo,write:En},Symbol.toStringTag,{value:"Module"})),Fs="dropdown",Wr=".bs.dropdown",Ao=".data-api",Ro="ArrowUp",js="ArrowDown",Tl=`hide${Wr}`,Oi=`hidden${Wr}`,Il=`show${Wr}`,Sl=`shown${Wr}`,Na=`click${Wr}${Ao}`,ko=`keydown${Wr}${Ao}`,Po=`keyup${Wr}${Ao}`,Wt="show",di='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Cl=`${di}.${Wt}`,ir=".dropdown-menu",u=U()?"top-end":"top-start",g=U()?"top-start":"top-end",w=U()?"bottom-end":"bottom-start",C=U()?"bottom-start":"bottom-end",K=U()?"left-start":"right-start",Z=U()?"right-start":"left-start",fe={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},pt={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class mt extends Pe{constructor(d,v){super(d,v),this._popper=null,this._parent=this._element.parentNode,this._menu=ce.next(this._element,ir)[0]||ce.prev(this._element,ir)[0]||ce.findOne(ir,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return fe}static get DefaultType(){return pt}static get NAME(){return Fs}toggle(){return this._isShown()?this.hide():this.show()}show(){if(p(this._element)||this._isShown())return;const d={relatedTarget:this._element};if(!F.trigger(this._element,Il,d).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const v of[].concat(...document.body.children))F.on(v,"mouseover",T);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Wt),this._element.classList.add(Wt),F.trigger(this._element,Sl,d)}}hide(){if(p(this._element)||!this._isShown())return;const d={relatedTarget:this._element};this._completeHide(d)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(d){if(!F.trigger(this._element,Tl,d).defaultPrevented){if("ontouchstart"in document.documentElement)for(const v of[].concat(...document.body.children))F.off(v,"mouseover",T);this._popper&&this._popper.destroy(),this._menu.classList.remove(Wt),this._element.classList.remove(Wt),this._element.setAttribute("aria-expanded","false"),te.removeDataAttribute(this._menu,"popper"),F.trigger(this._element,Oi,d)}}_getConfig(d){if(typeof(d=super._getConfig(d)).reference=="object"&&!a(d.reference)&&typeof d.reference.getBoundingClientRect!="function")throw new TypeError(`${Fs.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return d}_createPopper(){if(ss===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let d=this._element;this._config.reference==="parent"?d=this._parent:a(this._config.reference)?d=c(this._config.reference):typeof this._config.reference=="object"&&(d=this._config.reference);const v=this._getPopperConfig();this._popper=hi(d,this._menu,v)}_isShown(){return this._menu.classList.contains(Wt)}_getPlacement(){const d=this._parent;if(d.classList.contains("dropend"))return K;if(d.classList.contains("dropstart"))return Z;if(d.classList.contains("dropup-center"))return"top";if(d.classList.contains("dropdown-center"))return"bottom";const v=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return d.classList.contains("dropup")?v?g:u:v?C:w}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(v=>Number.parseInt(v,10)):typeof d=="function"?v=>d(v,this._element):d}_getPopperConfig(){const d={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(te.setDataAttribute(this._menu,"popper","static"),d.modifiers=[{name:"applyStyles",enabled:!1}]),{...d,...H(this._config.popperConfig,[d])}}_selectMenuItem({key:d,target:v}){const S=ce.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(B=>f(B));S.length&&le(S,v,d===js,!S.includes(v)).focus()}static jQueryInterface(d){return this.each(function(){const v=mt.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d]()}})}static clearMenus(d){if(d.button===2||d.type==="keyup"&&d.key!=="Tab")return;const v=ce.find(Cl);for(const S of v){const B=mt.getInstance(S);if(!B||B._config.autoClose===!1)continue;const z=d.composedPath(),X=z.includes(B._menu);if(z.includes(B._element)||B._config.autoClose==="inside"&&!X||B._config.autoClose==="outside"&&X||B._menu.contains(d.target)&&(d.type==="keyup"&&d.key==="Tab"||/input|select|option|textarea|form/i.test(d.target.tagName)))continue;const ne={relatedTarget:B._element};d.type==="click"&&(ne.clickEvent=d),B._completeHide(ne)}}static dataApiKeydownHandler(d){const v=/input|textarea/i.test(d.target.tagName),S=d.key==="Escape",B=[Ro,js].includes(d.key);if(!B&&!S||v&&!S)return;d.preventDefault();const z=this.matches(di)?this:ce.prev(this,di)[0]||ce.next(this,di)[0]||ce.findOne(di,d.delegateTarget.parentNode),X=mt.getOrCreateInstance(z);if(B)return d.stopPropagation(),X.show(),void X._selectMenuItem(d);X._isShown()&&(d.stopPropagation(),X.hide(),z.focus())}}F.on(document,ko,di,mt.dataApiKeydownHandler),F.on(document,ko,ir,mt.dataApiKeydownHandler),F.on(document,Na,mt.clearMenus),F.on(document,Po,mt.clearMenus),F.on(document,Na,di,function(E){E.preventDefault(),mt.getOrCreateInstance(this).toggle()}),Y(mt);const tt="backdrop",Jt="show",$t=`mousedown.bs.${tt}`,Ir={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},sr={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class os extends _e{constructor(d){super(),this._config=this._getConfig(d),this._isAppended=!1,this._element=null}static get Default(){return Ir}static get DefaultType(){return sr}static get NAME(){return tt}show(d){if(!this._config.isVisible)return void H(d);this._append();const v=this._getElement();this._config.isAnimated&&A(v),v.classList.add(Jt),this._emulateAnimation(()=>{H(d)})}hide(d){this._config.isVisible?(this._getElement().classList.remove(Jt),this._emulateAnimation(()=>{this.dispose(),H(d)})):H(d)}dispose(){this._isAppended&&(F.off(this._element,$t),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const d=document.createElement("div");d.className=this._config.className,this._config.isAnimated&&d.classList.add("fade"),this._element=d}return this._element}_configAfterMerge(d){return d.rootElement=c(d.rootElement),d}_append(){if(this._isAppended)return;const d=this._getElement();this._config.rootElement.append(d),F.on(d,$t,()=>{H(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(d){ee(d,this._getElement(),this._config.isAnimated)}}const Li=".bs.focustrap",eh=`focusin${Li}`,th=`keydown.tab${Li}`,Au="backward",bo={autofocus:!0,trapElement:null},vf={autofocus:"boolean",trapElement:"element"};class nh extends _e{constructor(d){super(),this._config=this._getConfig(d),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return bo}static get DefaultType(){return vf}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),F.off(document,Li),F.on(document,eh,d=>this._handleFocusin(d)),F.on(document,th,d=>this._handleKeydown(d)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,F.off(document,Li))}_handleFocusin(d){const{trapElement:v}=this._config;if(d.target===document||d.target===v||v.contains(d.target))return;const S=ce.focusableChildren(v);S.length===0?v.focus():this._lastTabNavDirection===Au?S[S.length-1].focus():S[0].focus()}_handleKeydown(d){d.key==="Tab"&&(this._lastTabNavDirection=d.shiftKey?Au:"forward")}}const rh=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ru=".sticky-top",Da="padding-right",xo="margin-right";class Us{constructor(){this._element=document.body}getWidth(){const d=document.documentElement.clientWidth;return Math.abs(window.innerWidth-d)}hide(){const d=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Da,v=>v+d),this._setElementAttributes(rh,Da,v=>v+d),this._setElementAttributes(Ru,xo,v=>v-d)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Da),this._resetElementAttributes(rh,Da),this._resetElementAttributes(Ru,xo)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(d,v,S){const B=this.getWidth();this._applyManipulationCallback(d,z=>{if(z!==this._element&&window.innerWidth>z.clientWidth+B)return;this._saveInitialAttribute(z,v);const X=window.getComputedStyle(z).getPropertyValue(v);z.style.setProperty(v,`${S(Number.parseFloat(X))}px`)})}_saveInitialAttribute(d,v){const S=d.style.getPropertyValue(v);S&&te.setDataAttribute(d,v,S)}_resetElementAttributes(d,v){this._applyManipulationCallback(d,S=>{const B=te.getDataAttribute(S,v);B!==null?(te.removeDataAttribute(S,v),S.style.setProperty(v,B)):S.style.removeProperty(v)})}_applyManipulationCallback(d,v){if(a(d))v(d);else for(const S of ce.find(d,this._element))v(S)}}const Sr=".bs.modal",Al=`hide${Sr}`,wf=`hidePrevented${Sr}`,ku=`hidden${Sr}`,Rl=`show${Sr}`,Pu=`shown${Sr}`,ih=`resize${Sr}`,sh=`click.dismiss${Sr}`,oh=`mousedown.dismiss${Sr}`,Ef=`keydown.dismiss${Sr}`,Tf=`click${Sr}.data-api`,ah="modal-open",lh="show",bu="modal-static",qr={backdrop:!0,focus:!0,keyboard:!0},Oa={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class as extends Pe{constructor(d,v){super(d,v),this._dialog=ce.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Us,this._addEventListeners()}static get Default(){return qr}static get DefaultType(){return Oa}static get NAME(){return"modal"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||this._isTransitioning||F.trigger(this._element,Rl,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ah),this._adjustDialog(),this._backdrop.show(()=>this._showElement(d)))}hide(){this._isShown&&!this._isTransitioning&&(F.trigger(this._element,Al).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(lh),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){F.off(window,Sr),F.off(this._dialog,Sr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new os({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new nh({trapElement:this._element})}_showElement(d){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const v=ce.findOne(".modal-body",this._dialog);v&&(v.scrollTop=0),A(this._element),this._element.classList.add(lh),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,F.trigger(this._element,Pu,{relatedTarget:d})},this._dialog,this._isAnimated())}_addEventListeners(){F.on(this._element,Ef,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),F.on(window,ih,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),F.on(this._element,oh,d=>{F.one(this._element,sh,v=>{this._element===d.target&&this._element===v.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(ah),this._resetAdjustments(),this._scrollBar.reset(),F.trigger(this._element,ku)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(F.trigger(this._element,wf).defaultPrevented)return;const d=this._element.scrollHeight>document.documentElement.clientHeight,v=this._element.style.overflowY;v==="hidden"||this._element.classList.contains(bu)||(d||(this._element.style.overflowY="hidden"),this._element.classList.add(bu),this._queueCallback(()=>{this._element.classList.remove(bu),this._queueCallback(()=>{this._element.style.overflowY=v},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const d=this._element.scrollHeight>document.documentElement.clientHeight,v=this._scrollBar.getWidth(),S=v>0;if(S&&!d){const B=U()?"paddingLeft":"paddingRight";this._element.style[B]=`${v}px`}if(!S&&d){const B=U()?"paddingRight":"paddingLeft";this._element.style[B]=`${v}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(d,v){return this.each(function(){const S=as.getOrCreateInstance(this,d);if(typeof d=="string"){if(S[d]===void 0)throw new TypeError(`No method named "${d}"`);S[d](v)}})}}F.on(document,Tf,'[data-bs-toggle="modal"]',function(E){const d=ce.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&E.preventDefault(),F.one(d,Rl,S=>{S.defaultPrevented||F.one(d,ku,()=>{f(this)&&this.focus()})});const v=ce.findOne(".modal.show");v&&as.getInstance(v).hide(),as.getOrCreateInstance(d).toggle(this)}),Ke(as),Y(as);const fi=".bs.offcanvas",xu=".data-api",uh=`load${fi}${xu}`,kl="show",ch="showing",hh="hiding",$s=".offcanvas.show",Nu=`show${fi}`,La=`shown${fi}`,Du=`hide${fi}`,Ou=`hidePrevented${fi}`,Ma=`hidden${fi}`,No=`resize${fi}`,Lu=`click${fi}${xu}`,dh=`keydown.dismiss${fi}`,Pl={backdrop:!0,keyboard:!0,scroll:!1},fh={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class pi extends Pe{constructor(d,v){super(d,v),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Pl}static get DefaultType(){return fh}static get NAME(){return"offcanvas"}toggle(d){return this._isShown?this.hide():this.show(d)}show(d){this._isShown||F.trigger(this._element,Nu,{relatedTarget:d}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Us().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(ch),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(kl),this._element.classList.remove(ch),F.trigger(this._element,La,{relatedTarget:d})},this._element,!0))}hide(){this._isShown&&(F.trigger(this._element,Du).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(hh),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(kl,hh),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Us().reset(),F.trigger(this._element,Ma)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const d=!!this._config.backdrop;return new os({className:"offcanvas-backdrop",isVisible:d,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:d?()=>{this._config.backdrop!=="static"?this.hide():F.trigger(this._element,Ou)}:null})}_initializeFocusTrap(){return new nh({trapElement:this._element})}_addEventListeners(){F.on(this._element,dh,d=>{d.key==="Escape"&&(this._config.keyboard?this.hide():F.trigger(this._element,Ou))})}static jQueryInterface(d){return this.each(function(){const v=pi.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d](this)}})}}F.on(document,Lu,'[data-bs-toggle="offcanvas"]',function(E){const d=ce.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&E.preventDefault(),p(this))return;F.one(d,Ma,()=>{f(this)&&this.focus()});const v=ce.findOne($s);v&&v!==d&&pi.getInstance(v).hide(),pi.getOrCreateInstance(d).toggle(this)}),F.on(window,uh,()=>{for(const E of ce.find($s))pi.getOrCreateInstance(E).show()}),F.on(window,No,()=>{for(const E of ce.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(E).position!=="fixed"&&pi.getOrCreateInstance(E).hide()}),Ke(pi),Y(pi);const Mu={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},ph=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),mh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,gh=(E,d)=>{const v=E.nodeName.toLowerCase();return d.includes(v)?!ph.has(v)||!!mh.test(E.nodeValue):d.filter(S=>S instanceof RegExp).some(S=>S.test(v))},ls={allowList:Mu,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Vu={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Fu={entry:"(string|element|function|null)",selector:"(string|element)"};class If extends _e{constructor(d){super(),this._config=this._getConfig(d)}static get Default(){return ls}static get DefaultType(){return Vu}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(d=>this._resolvePossibleFunction(d)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(d){return this._checkContent(d),this._config.content={...this._config.content,...d},this}toHtml(){const d=document.createElement("div");d.innerHTML=this._maybeSanitize(this._config.template);for(const[B,z]of Object.entries(this._config.content))this._setContent(d,z,B);const v=d.children[0],S=this._resolvePossibleFunction(this._config.extraClass);return S&&v.classList.add(...S.split(" ")),v}_typeCheckConfig(d){super._typeCheckConfig(d),this._checkContent(d.content)}_checkContent(d){for(const[v,S]of Object.entries(d))super._typeCheckConfig({selector:v,entry:S},Fu)}_setContent(d,v,S){const B=ce.findOne(S,d);B&&((v=this._resolvePossibleFunction(v))?a(v)?this._putElementInTemplate(c(v),B):this._config.html?B.innerHTML=this._maybeSanitize(v):B.textContent=v:B.remove())}_maybeSanitize(d){return this._config.sanitize?function(v,S,B){if(!v.length)return v;if(B&&typeof B=="function")return B(v);const z=new window.DOMParser().parseFromString(v,"text/html"),X=[].concat(...z.body.querySelectorAll("*"));for(const ne of X){const he=ne.nodeName.toLowerCase();if(!Object.keys(S).includes(he)){ne.remove();continue}const me=[].concat(...ne.attributes),ve=[].concat(S["*"]||[],S[he]||[]);for(const ge of me)gh(ge,ve)||ne.removeAttribute(ge.nodeName)}return z.body.innerHTML}(d,this._config.allowList,this._config.sanitizeFn):d}_resolvePossibleFunction(d){return H(d,[this])}_putElementInTemplate(d,v){if(this._config.html)return v.innerHTML="",void v.append(d);v.textContent=d.textContent}}const Sf=new Set(["sanitize","allowList","sanitizeFn"]),Bs="fade",bl="show",ju=".modal",Uu="hide.bs.modal",gt="hover",Va="focus",xl={AUTO:"auto",TOP:"top",RIGHT:U()?"left":"right",BOTTOM:"bottom",LEFT:U()?"right":"left"},Fa={allowList:Mu,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},yh={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Mi extends Pe{constructor(d,v){if(ss===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(d,v),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Fa}static get DefaultType(){return yh}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),F.off(this._element.closest(ju),Uu,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const d=F.trigger(this._element,this.constructor.eventName("show")),v=(_(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(d.defaultPrevented||!v)return;this._disposePopper();const S=this._getTipElement();this._element.setAttribute("aria-describedby",S.getAttribute("id"));const{container:B}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(B.append(S),F.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(S),S.classList.add(bl),"ontouchstart"in document.documentElement)for(const z of[].concat(...document.body.children))F.on(z,"mouseover",T);this._queueCallback(()=>{F.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!F.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(bl),"ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))F.off(d,"mouseover",T);this._activeTrigger.click=!1,this._activeTrigger[Va]=!1,this._activeTrigger[gt]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),F.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(d){const v=this._getTemplateFactory(d).toHtml();if(!v)return null;v.classList.remove(Bs,bl),v.classList.add(`bs-${this.constructor.NAME}-auto`);const S=(B=>{do B+=Math.floor(1e6*Math.random());while(document.getElementById(B));return B})(this.constructor.NAME).toString();return v.setAttribute("id",S),this._isAnimated()&&v.classList.add(Bs),v}setContent(d){this._newContent=d,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(d){return this._templateFactory?this._templateFactory.changeContent(d):this._templateFactory=new If({...this._config,content:d,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(d){return this.constructor.getOrCreateInstance(d.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Bs)}_isShown(){return this.tip&&this.tip.classList.contains(bl)}_createPopper(d){const v=H(this._config.placement,[this,d,this._element]),S=xl[v.toUpperCase()];return hi(this._element,d,this._getPopperConfig(S))}_getOffset(){const{offset:d}=this._config;return typeof d=="string"?d.split(",").map(v=>Number.parseInt(v,10)):typeof d=="function"?v=>d(v,this._element):d}_resolvePossibleFunction(d){return H(d,[this._element])}_getPopperConfig(d){const v={placement:d,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:S=>{this._getTipElement().setAttribute("data-popper-placement",S.state.placement)}}]};return{...v,...H(this._config.popperConfig,[v])}}_setListeners(){const d=this._config.trigger.split(" ");for(const v of d)if(v==="click")F.on(this._element,this.constructor.eventName("click"),this._config.selector,S=>{this._initializeOnDelegatedTarget(S).toggle()});else if(v!=="manual"){const S=v===gt?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),B=v===gt?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");F.on(this._element,S,this._config.selector,z=>{const X=this._initializeOnDelegatedTarget(z);X._activeTrigger[z.type==="focusin"?Va:gt]=!0,X._enter()}),F.on(this._element,B,this._config.selector,z=>{const X=this._initializeOnDelegatedTarget(z);X._activeTrigger[z.type==="focusout"?Va:gt]=X._element.contains(z.relatedTarget),X._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},F.on(this._element.closest(ju),Uu,this._hideModalHandler)}_fixTitle(){const d=this._element.getAttribute("title");d&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",d),this._element.setAttribute("data-bs-original-title",d),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(d,v){clearTimeout(this._timeout),this._timeout=setTimeout(d,v)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(d){const v=te.getDataAttributes(this._element);for(const S of Object.keys(v))Sf.has(S)&&delete v[S];return d={...v,...typeof d=="object"&&d?d:{}},d=this._mergeConfigObj(d),d=this._configAfterMerge(d),this._typeCheckConfig(d),d}_configAfterMerge(d){return d.container=d.container===!1?document.body:c(d.container),typeof d.delay=="number"&&(d.delay={show:d.delay,hide:d.delay}),typeof d.title=="number"&&(d.title=d.title.toString()),typeof d.content=="number"&&(d.content=d.content.toString()),d}_getDelegateConfig(){const d={};for(const[v,S]of Object.entries(this._config))this.constructor.Default[v]!==S&&(d[v]=S);return d.selector=!1,d.trigger="manual",d}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(d){return this.each(function(){const v=Mi.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d]()}})}}Y(Mi);const ja={...Mi.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Nl={...Mi.DefaultType,content:"(null|string|element|function)"};class Vi extends Mi{static get Default(){return ja}static get DefaultType(){return Nl}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(d){return this.each(function(){const v=Vi.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d]()}})}}Y(Vi);const Dl=".bs.scrollspy",Cf=`activate${Dl}`,_h=`click${Dl}`,vh=`load${Dl}.data-api`,Fi="active",Do="[href]",Ol=".nav-link",$u=`${Ol}, .nav-item > ${Ol}, .list-group-item`,Bu={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},zu={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ua extends Pe{constructor(d,v){super(d,v),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Bu}static get DefaultType(){return zu}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const d of this._observableSections.values())this._observer.observe(d)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(d){return d.target=c(d.target)||document.body,d.rootMargin=d.offset?`${d.offset}px 0px -30%`:d.rootMargin,typeof d.threshold=="string"&&(d.threshold=d.threshold.split(",").map(v=>Number.parseFloat(v))),d}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(F.off(this._config.target,_h),F.on(this._config.target,_h,Do,d=>{const v=this._observableSections.get(d.target.hash);if(v){d.preventDefault();const S=this._rootElement||window,B=v.offsetTop-this._element.offsetTop;if(S.scrollTo)return void S.scrollTo({top:B,behavior:"smooth"});S.scrollTop=B}}))}_getNewObserver(){const d={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(v=>this._observerCallback(v),d)}_observerCallback(d){const v=X=>this._targetLinks.get(`#${X.target.id}`),S=X=>{this._previousScrollData.visibleEntryTop=X.target.offsetTop,this._process(v(X))},B=(this._rootElement||document.documentElement).scrollTop,z=B>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=B;for(const X of d){if(!X.isIntersecting){this._activeTarget=null,this._clearActiveClass(v(X));continue}const ne=X.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(z&&ne){if(S(X),!B)return}else z||ne||S(X)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const d=ce.find(Do,this._config.target);for(const v of d){if(!v.hash||p(v))continue;const S=ce.findOne(decodeURI(v.hash),this._element);f(S)&&(this._targetLinks.set(decodeURI(v.hash),v),this._observableSections.set(v.hash,S))}}_process(d){this._activeTarget!==d&&(this._clearActiveClass(this._config.target),this._activeTarget=d,d.classList.add(Fi),this._activateParents(d),F.trigger(this._element,Cf,{relatedTarget:d}))}_activateParents(d){if(d.classList.contains("dropdown-item"))ce.findOne(".dropdown-toggle",d.closest(".dropdown")).classList.add(Fi);else for(const v of ce.parents(d,".nav, .list-group"))for(const S of ce.prev(v,$u))S.classList.add(Fi)}_clearActiveClass(d){d.classList.remove(Fi);const v=ce.find(`${Do}.${Fi}`,d);for(const S of v)S.classList.remove(Fi)}static jQueryInterface(d){return this.each(function(){const v=Ua.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d]()}})}}F.on(window,vh,()=>{for(const E of ce.find('[data-bs-spy="scroll"]'))Ua.getOrCreateInstance(E)}),Y(Ua);const us=".bs.tab",Af=`hide${us}`,Rf=`hidden${us}`,Hu=`show${us}`,cs=`shown${us}`,wh=`click${us}`,Oo=`keydown${us}`,mi=`load${us}`,$a="ArrowLeft",gi="ArrowRight",Wu="ArrowUp",Eh="ArrowDown",qu="Home",hs="End",Kr="active",zs="fade",Lo="show",Ll=".dropdown-toggle",ds=`:not(${Ll})`,ji='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',St=`.nav-link${ds}, .list-group-item${ds}, [role="tab"]${ds}, ${ji}`,Rt=`.${Kr}[data-bs-toggle="tab"], .${Kr}[data-bs-toggle="pill"], .${Kr}[data-bs-toggle="list"]`;class jn extends Pe{constructor(d){super(d),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),F.on(this._element,Oo,v=>this._keydown(v)))}static get NAME(){return"tab"}show(){const d=this._element;if(this._elemIsActive(d))return;const v=this._getActiveElem(),S=v?F.trigger(v,Af,{relatedTarget:d}):null;F.trigger(d,Hu,{relatedTarget:v}).defaultPrevented||S&&S.defaultPrevented||(this._deactivate(v,d),this._activate(d,v))}_activate(d,v){d&&(d.classList.add(Kr),this._activate(ce.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.removeAttribute("tabindex"),d.setAttribute("aria-selected",!0),this._toggleDropDown(d,!0),F.trigger(d,cs,{relatedTarget:v})):d.classList.add(Lo)},d,d.classList.contains(zs)))}_deactivate(d,v){d&&(d.classList.remove(Kr),d.blur(),this._deactivate(ce.getElementFromSelector(d)),this._queueCallback(()=>{d.getAttribute("role")==="tab"?(d.setAttribute("aria-selected",!1),d.setAttribute("tabindex","-1"),this._toggleDropDown(d,!1),F.trigger(d,Rf,{relatedTarget:v})):d.classList.remove(Lo)},d,d.classList.contains(zs)))}_keydown(d){if(![$a,gi,Wu,Eh,qu,hs].includes(d.key))return;d.stopPropagation(),d.preventDefault();const v=this._getChildren().filter(B=>!p(B));let S;if([qu,hs].includes(d.key))S=v[d.key===qu?0:v.length-1];else{const B=[gi,Eh].includes(d.key);S=le(v,d.target,B,!0)}S&&(S.focus({preventScroll:!0}),jn.getOrCreateInstance(S).show())}_getChildren(){return ce.find(St,this._parent)}_getActiveElem(){return this._getChildren().find(d=>this._elemIsActive(d))||null}_setInitialAttributes(d,v){this._setAttributeIfNotExists(d,"role","tablist");for(const S of v)this._setInitialAttributesOnChild(S)}_setInitialAttributesOnChild(d){d=this._getInnerElement(d);const v=this._elemIsActive(d),S=this._getOuterElement(d);d.setAttribute("aria-selected",v),S!==d&&this._setAttributeIfNotExists(S,"role","presentation"),v||d.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(d,"role","tab"),this._setInitialAttributesOnTargetPanel(d)}_setInitialAttributesOnTargetPanel(d){const v=ce.getElementFromSelector(d);v&&(this._setAttributeIfNotExists(v,"role","tabpanel"),d.id&&this._setAttributeIfNotExists(v,"aria-labelledby",`${d.id}`))}_toggleDropDown(d,v){const S=this._getOuterElement(d);if(!S.classList.contains("dropdown"))return;const B=(z,X)=>{const ne=ce.findOne(z,S);ne&&ne.classList.toggle(X,v)};B(Ll,Kr),B(".dropdown-menu",Lo),S.setAttribute("aria-expanded",v)}_setAttributeIfNotExists(d,v,S){d.hasAttribute(v)||d.setAttribute(v,S)}_elemIsActive(d){return d.classList.contains(Kr)}_getInnerElement(d){return d.matches(St)?d:ce.findOne(St,d)}_getOuterElement(d){return d.closest(".nav-item, .list-group-item")||d}static jQueryInterface(d){return this.each(function(){const v=jn.getOrCreateInstance(this);if(typeof d=="string"){if(v[d]===void 0||d.startsWith("_")||d==="constructor")throw new TypeError(`No method named "${d}"`);v[d]()}})}}F.on(document,wh,ji,function(E){["A","AREA"].includes(this.tagName)&&E.preventDefault(),p(this)||jn.getOrCreateInstance(this).show()}),F.on(window,mi,()=>{for(const E of ce.find(Rt))jn.getOrCreateInstance(E)}),Y(jn);const Dt=".bs.toast",Un=`mouseover${Dt}`,Hs=`mouseout${Dt}`,Mo=`focusin${Dt}`,$n=`focusout${Dt}`,Ml=`hide${Dt}`,Th=`hidden${Dt}`,Ih=`show${Dt}`,Vl=`shown${Dt}`,Ku="hide",Cr="show",Ws="showing",Gu={animation:"boolean",autohide:"boolean",delay:"number"},Sh={animation:!0,autohide:!0,delay:5e3};class Ba extends Pe{constructor(d,v){super(d,v),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Sh}static get DefaultType(){return Gu}static get NAME(){return"toast"}show(){F.trigger(this._element,Ih).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Ku),A(this._element),this._element.classList.add(Cr,Ws),this._queueCallback(()=>{this._element.classList.remove(Ws),F.trigger(this._element,Vl),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(F.trigger(this._element,Ml).defaultPrevented||(this._element.classList.add(Ws),this._queueCallback(()=>{this._element.classList.add(Ku),this._element.classList.remove(Ws,Cr),F.trigger(this._element,Th)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Cr),super.dispose()}isShown(){return this._element.classList.contains(Cr)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(d,v){switch(d.type){case"mouseover":case"mouseout":this._hasMouseInteraction=v;break;case"focusin":case"focusout":this._hasKeyboardInteraction=v}if(v)return void this._clearTimeout();const S=d.relatedTarget;this._element===S||this._element.contains(S)||this._maybeScheduleHide()}_setListeners(){F.on(this._element,Un,d=>this._onInteraction(d,!0)),F.on(this._element,Hs,d=>this._onInteraction(d,!1)),F.on(this._element,Mo,d=>this._onInteraction(d,!0)),F.on(this._element,$n,d=>this._onInteraction(d,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(d){return this.each(function(){const v=Ba.getOrCreateInstance(this,d);if(typeof d=="string"){if(v[d]===void 0)throw new TypeError(`No method named "${d}"`);v[d](this)}})}}return Ke(Ba),Y(Ba),{Alert:tn,Button:nn,Carousel:si,Collapse:Fr,Dropdown:mt,Modal:as,Offcanvas:pi,Popover:Vi,ScrollSpy:Ua,Tab:jn,Toast:Ba,Tooltip:Mi}});var Tp={exports:{}},Ip,R_;function AC(){if(R_)return Ip;R_=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ip=n,Ip}var Sp,k_;function RC(){if(k_)return Sp;k_=1;var n=AC();function e(){}function t(){}return t.resetWarningCache=e,Sp=function(){function i(c,f,p,_,T,A){if(A!==n){var R=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw R.name="Invariant Violation",R}}i.isRequired=i;function o(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Sp}var P_;function kC(){return P_||(P_=1,Tp.exports=RC()()),Tp.exports}var PC=kC();const hn=Wd(PC);function Fm(n){const e=n.incomeSnapshots,t=n.expenseSnapshots;let i=0,o=0;for(let f of e)i+=parseFloat(f.data().amount);for(let f of t)o+=parseFloat(f.data().amount);window.total=i-o;let a=window.total,c="";return a<0?(a*=-1,c="- $"+a.toLocaleString(void 0,{maximumFractionDigits:2,minimumFractionDigits:2})):c="+ $"+a.toLocaleString(void 0,{maximumFractionDigits:2,minimumFractionDigits:2}),D.jsxs(D.Fragment,{children:[D.jsx("img",{src:"/images/Budget1.png",alt:"aesthetic top",width:"100%"}),D.jsx("div",{className:"container1",children:D.jsxs("div",{className:"thing",children:[D.jsx("h1",{children:"Avaliable Budget"}),D.jsx("h2",{id:"number",children:c})," ",D.jsxs("div",{className:"amount",children:[D.jsxs("h3",{id:"income",children:["Income  + $",i.toLocaleString(void 0,{maximumFractionDigits:2,minimumFractionDigits:2})]}),D.jsxs("h3",{id:"expense",children:["Expenses   - $",o.toLocaleString(void 0,{maximumFractionDigits:2,minimumFractionDigits:2})]})]})]})})]})}Fm.propTypes={incomeSnapshots:hn.array.isRequired,expenseSnapshots:hn.array.isRequired};function Kw(n){const e=n.manager;return D.jsx(D.Fragment,{children:D.jsxs("div",{className:"row g-3 align-items-center",children:[D.jsxs("div",{className:"col-auto",children:[D.jsx("button",{className:"btn btn-secondary dropdown-toggle fs-5",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",id:"dropdown",children:"Income"}),D.jsxs("ul",{className:"dropdown-menu",children:[D.jsx("li",{children:D.jsx("a",{className:"dropdown-item",href:"#",onClick:()=>{document.getElementById("dropdown").textContent="Income"},children:"Income"})}),D.jsx("li",{children:D.jsx("a",{className:"dropdown-item",href:"#",onClick:()=>{document.getElementById("dropdown").textContent="Expense"},children:"Expense"})})]})]}),D.jsxs("div",{className:"col-auto",children:[D.jsx("label",{className:"fs-2"}),D.jsxs("div",{className:"d-flex gap-2",children:[D.jsx("input",{type:"text",id:"inputDesc",className:"form-control fs-5",placeholder:"Add description",required:!0}),D.jsx("input",{type:"text",id:"inputMoney",className:"form-control fs-5",placeholder:"Enter Amount",required:!0}),D.jsx("button",{className:"btn fs-5",type:"button",style:{backgroundColor:"#2C3930",color:"white"},onClick:t=>{const i=document.getElementById("inputDesc").value,o=document.getElementById("inputMoney").value;bC(i,o)&&(document.getElementById("dropdown").textContent==="Income"?e.add("Income",i,o):document.getElementById("dropdown").textContent==="Expense"&&e.add("Expense",i,o))},children:"Submit"})]})]})]})})}Kw.propTypes={manager:hn.object.isRequired};function bC(n,e){let t=!0;return n.length==0?(document.getElementById("inputDesc").classList.add("invalid"),t=!1):document.getElementById("inputDesc").classList.remove("invalid"),e.length==0||isNaN(e)||e<0?(document.getElementById("inputMoney").classList.add("invalid"),t=!1):document.getElementById("inputMoney").classList.remove("invalid"),t}function Gd(){return D.jsx(D.Fragment,{children:D.jsx("nav",{className:"navbar navbar-expand-lg",children:D.jsxs("div",{className:"container-fluid",children:[D.jsx("a",{className:"navbar-brand",children:"Budget Your Goal"}),D.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:D.jsx("span",{className:"navbar-toggler-icon"})}),D.jsx("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:D.jsxs("div",{className:"navbar-nav",children:[D.jsx(eu,{className:"nav-link active","aria-current":"page",to:"/",children:"Balance"}),D.jsx(eu,{className:"nav-link",to:"/goal",children:"Goal"}),D.jsx(eu,{className:"nav-link",to:"/login",children:"Log In"}),D.jsx(eu,{className:"nav-link",to:"/signup",children:"Sign Up"})]})})]})})})}var b_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},xC=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],f=n[t++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},Qw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,f=c?n[o+1]:0,p=o+2<n.length,_=p?n[o+2]:0,T=a>>2,A=(a&3)<<4|f>>4;let R=(f&15)<<2|_>>6,O=_&63;p||(O=64,c||(R=64)),i.push(t[T],t[A],t[R],t[O])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Gw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):xC(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const _=o<n.length?t[n.charAt(o)]:64;++o;const A=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||f==null||_==null||A==null)throw new NC;const R=a<<2|f>>4;if(i.push(R),_!==64){const O=f<<4&240|_>>2;if(i.push(O),A!==64){const U=_<<6&192|A;i.push(U)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class NC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DC=function(n){const e=Gw(n);return Qw.encodeByteArray(e,!0)},Id=function(n){return DC(n).replace(/\./g,"")},Yw=function(n){try{return Qw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=()=>OC().__FIREBASE_DEFAULTS__,MC=()=>{if(typeof process>"u"||typeof b_>"u")return;const n=b_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},VC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Yw(n[1]);return e&&JSON.parse(e)},Qd=()=>{try{return LC()||MC()||VC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Xw=n=>{var e,t;return(t=(e=Qd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},FC=n=>{const e=Xw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Jw=()=>{var n;return(n=Qd())===null||n===void 0?void 0:n.config},Zw=n=>{var e;return(e=Qd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Id(JSON.stringify(t)),Id(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $C(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qn())}function BC(){var n;const e=(n=Qd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function HC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WC(){const n=Qn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function qC(){return!BC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tE(){try{return typeof indexedDB=="object"}catch{return!1}}function nE(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function KC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="FirebaseError";class es extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=GC,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dl.prototype.create)}}class dl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?QC(a,i):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new es(o,f,i)}}function QC(n,e){return n.replace(YC,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const YC=/\{\$([^}]+)}/g;function XC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Pc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],c=e[o];if(x_(a)&&x_(c)){if(!Pc(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function x_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function mc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function gc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function JC(n,e){const t=new ZC(n,e);return t.subscribe.bind(t)}class ZC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");eA(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Cp),o.error===void 0&&(o.error=Cp),o.complete===void 0&&(o.complete=Cp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eA(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Cp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=1e3,nA=2,rA=4*60*60*1e3,iA=.5;function N_(n,e=tA,t=nA){const i=e*Math.pow(t,n),o=Math.round(iA*i*(Math.random()-.5)*2);return Math.min(rA,i+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(n){return n&&n._delegate?n._delegate:n}class Xi{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sA=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new jC;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aA(e))try{this.getOrInitializeService({instanceIdentifier:Ya})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ya){return this.instances.has(e)}getOptions(e=Ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);i===f&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:oA(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ya){return this.component?this.component.multipleInstances?e:Ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function oA(n){return n===Ya?void 0:n}function aA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new sA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(rt||(rt={}));const uA={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},cA=rt.INFO,hA={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},dA=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=hA[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yd{constructor(e){this.name=e,this._logLevel=cA,this._logHandler=dA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const fA=(n,e)=>e.some(t=>n instanceof t);let D_,O_;function pA(){return D_||(D_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mA(){return O_||(O_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rE=new WeakMap,Qp=new WeakMap,iE=new WeakMap,Ap=new WeakMap,jm=new WeakMap;function gA(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(ta(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&rE.set(t,n)}).catch(()=>{}),jm.set(e,n),e}function yA(n){if(Qp.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});Qp.set(n,e)}let Yp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Qp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||iE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ta(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function _A(n){Yp=n(Yp)}function vA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Rp(this),e,...t);return iE.set(i,e.sort?e.sort():[e]),ta(i)}:mA().includes(n)?function(...e){return n.apply(Rp(this),e),ta(rE.get(this))}:function(...e){return ta(n.apply(Rp(this),e))}}function wA(n){return typeof n=="function"?vA(n):(n instanceof IDBTransaction&&yA(n),fA(n,pA())?new Proxy(n,Yp):n)}function ta(n){if(n instanceof IDBRequest)return gA(n);if(Ap.has(n))return Ap.get(n);const e=wA(n);return e!==n&&(Ap.set(n,e),jm.set(e,n)),e}const Rp=n=>jm.get(n);function sE(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),f=ta(c);return i&&c.addEventListener("upgradeneeded",p=>{i(ta(c.result),p.oldVersion,p.newVersion,ta(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),f}const EA=["get","getKey","getAll","getAllKeys","count"],TA=["put","add","delete","clear"],kp=new Map;function L_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(kp.get(e))return kp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=TA.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||EA.includes(t)))return;const a=async function(c,...f){const p=this.transaction(c,o?"readwrite":"readonly");let _=p.store;return i&&(_=_.index(f.shift())),(await Promise.all([_[t](...f),o&&p.done]))[0]};return kp.set(e,a),a}_A(n=>({...n,get:(e,t,i)=>L_(e,t)||n.get(e,t,i),has:(e,t)=>!!L_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(SA(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function SA(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xp="@firebase/app",M_="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=new Yd("@firebase/app"),CA="@firebase/app-compat",AA="@firebase/analytics-compat",RA="@firebase/analytics",kA="@firebase/app-check-compat",PA="@firebase/app-check",bA="@firebase/auth",xA="@firebase/auth-compat",NA="@firebase/database",DA="@firebase/data-connect",OA="@firebase/database-compat",LA="@firebase/functions",MA="@firebase/functions-compat",VA="@firebase/installations",FA="@firebase/installations-compat",jA="@firebase/messaging",UA="@firebase/messaging-compat",$A="@firebase/performance",BA="@firebase/performance-compat",zA="@firebase/remote-config",HA="@firebase/remote-config-compat",WA="@firebase/storage",qA="@firebase/storage-compat",KA="@firebase/firestore",GA="@firebase/vertexai",QA="@firebase/firestore-compat",YA="firebase",XA="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="[DEFAULT]",JA={[Xp]:"fire-core",[CA]:"fire-core-compat",[RA]:"fire-analytics",[AA]:"fire-analytics-compat",[PA]:"fire-app-check",[kA]:"fire-app-check-compat",[bA]:"fire-auth",[xA]:"fire-auth-compat",[NA]:"fire-rtdb",[DA]:"fire-data-connect",[OA]:"fire-rtdb-compat",[LA]:"fire-fn",[MA]:"fire-fn-compat",[VA]:"fire-iid",[FA]:"fire-iid-compat",[jA]:"fire-fcm",[UA]:"fire-fcm-compat",[$A]:"fire-perf",[BA]:"fire-perf-compat",[zA]:"fire-rc",[HA]:"fire-rc-compat",[WA]:"fire-gcs",[qA]:"fire-gcs-compat",[KA]:"fire-fst",[QA]:"fire-fst-compat",[GA]:"fire-vertex","fire-js":"fire-js",[YA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=new Map,ZA=new Map,Zp=new Map;function V_(n,e){try{n.container.addComponent(e)}catch(t){to.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Cs(n){const e=n.name;if(Zp.has(e))return to.debug(`There were multiple attempts to register component ${e}.`),!1;Zp.set(e,n);for(const t of Sd.values())V_(t,n);for(const t of ZA.values())V_(t,n);return!0}function fl(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ti(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},na=new dl("app","Firebase",eR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Xi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=XA;function oE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Jp,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw na.create("bad-app-name",{appName:String(o)});if(t||(t=Jw()),!t)throw na.create("no-options");const a=Sd.get(o);if(a){if(Pc(t,a.options)&&Pc(i,a.config))return a;throw na.create("duplicate-app",{appName:o})}const c=new lA(o);for(const p of Zp.values())c.addComponent(p);const f=new tR(t,i,c);return Sd.set(o,f),f}function Um(n=Jp){const e=Sd.get(n);if(!e&&n===Jp&&Jw())return oE();if(!e)throw na.create("no-app",{appName:n});return e}function Si(n,e,t){var i;let o=(i=JA[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const f=[`Unable to register library "${o}" with version "${e}":`];a&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),to.warn(f.join(" "));return}Cs(new Xi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="firebase-heartbeat-database",rR=1,bc="firebase-heartbeat-store";let Pp=null;function aE(){return Pp||(Pp=sE(nR,rR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(bc)}catch(t){console.warn(t)}}}}).catch(n=>{throw na.create("idb-open",{originalErrorMessage:n.message})})),Pp}async function iR(n){try{const t=(await aE()).transaction(bc),i=await t.objectStore(bc).get(lE(n));return await t.done,i}catch(e){if(e instanceof es)to.warn(e.message);else{const t=na.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});to.warn(t.message)}}}async function F_(n,e){try{const i=(await aE()).transaction(bc,"readwrite");await i.objectStore(bc).put(e,lE(n)),await i.done}catch(t){if(t instanceof es)to.warn(t.message);else{const i=na.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});to.warn(i.message)}}}function lE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=1024,oR=30;class aR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new uR(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=j_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>oR){const c=cR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){to.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=j_(),{heartbeatsToSend:i,unsentEntries:o}=lR(this._heartbeatsCache.heartbeats),a=Id(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return to.warn(t),""}}}function j_(){return new Date().toISOString().substring(0,10)}function lR(n,e=sR){const t=[];let i=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),U_(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),U_(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class uR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tE()?nE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await iR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return F_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return F_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function U_(n){return Id(JSON.stringify({version:2,heartbeats:n})).length}function cR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(n){Cs(new Xi("platform-logger",e=>new IA(e),"PRIVATE")),Cs(new Xi("heartbeat",e=>new aR(e),"PRIVATE")),Si(Xp,M_,n),Si(Xp,M_,"esm2017"),Si("fire-js","")}hR("");function $m(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function uE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dR=uE,cE=new dl("auth","Firebase",uE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd=new Yd("@firebase/auth");function fR(n,...e){Cd.logLevel<=rt.WARN&&Cd.warn(`Auth (${yu}): ${n}`,...e)}function hd(n,...e){Cd.logLevel<=rt.ERROR&&Cd.error(`Auth (${yu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(n,...e){throw Bm(n,...e)}function ws(n,...e){return Bm(n,...e)}function hE(n,e,t){const i=Object.assign(Object.assign({},dR()),{[e]:t});return new dl("auth","Firebase",i).create(e,{appName:n.name})}function eo(n){return hE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bm(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return cE.create(n,...e)}function Ue(n,e,...t){if(!n)throw Bm(e,...t)}function Ys(n){const e="INTERNAL ASSERTION FAILED: "+n;throw hd(e),new Error(e)}function no(n,e){n||Ys(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function pR(){return $_()==="http:"||$_()==="https:"}function $_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pR()||eE()||"connection"in navigator)?navigator.onLine:!0}function gR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,t){this.shortDelay=e,this.longDelay=t,no(t>e,"Short delay should be less than long delay!"),this.isMobile=$C()||HC()}get(){return mR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(n,e){no(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=new Wc(3e4,6e4);function fa(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function pa(n,e,t,i,o={}){return fE(n,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const f=Hc(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const _=Object.assign({method:e,headers:p},a);return zC()||(_.referrerPolicy="no-referrer"),dE.fetch()(pE(n,n.config.apiHost,t,f),_)})}async function fE(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},yR),e);try{const o=new wR(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw td(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const f=a.ok?c.errorMessage:c.error.message,[p,_]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw td(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw td(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw td(n,"user-disabled",c);const T=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw hE(n,T,_);Ji(n,T)}}catch(o){if(o instanceof es)throw o;Ji(n,"network-request-failed",{message:String(o)})}}async function qc(n,e,t,i,o={}){const a=await pa(n,e,t,i,o);return"mfaPendingCredential"in a&&Ji(n,"multi-factor-auth-required",{_serverResponse:a}),a}function pE(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?zm(n.config,o):`${n.config.apiScheme}://${o}`}function vR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ws(this.auth,"network-request-failed")),_R.get())})}}function td(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=ws(n,e,i);return o.customData._tokenResponse=t,o}function B_(n){return n!==void 0&&n.enterprise!==void 0}class ER{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return vR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function TR(n,e){return pa(n,"GET","/v2/recaptchaConfig",fa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IR(n,e){return pa(n,"POST","/v1/accounts:delete",e)}async function mE(n,e){return pa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SR(n,e=!1){const t=On(n),i=await t.getIdToken(e),o=Hm(i);Ue(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:Tc(bp(o.auth_time)),issuedAtTime:Tc(bp(o.iat)),expirationTime:Tc(bp(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function bp(n){return Number(n)*1e3}function Hm(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return hd("JWT malformed, contained fewer than 3 sections"),null;try{const o=Yw(t);return o?JSON.parse(o):(hd("Failed to decode base64 JWT payload"),null)}catch(o){return hd("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function z_(n){const e=Hm(n);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof es&&CR(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function CR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tc(this.lastLoginAt),this.creationTime=Tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ad(n){var e;const t=n.auth,i=await n.getIdToken(),o=await xc(n,mE(t,{idToken:i}));Ue(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?gE(a.providerUserInfo):[],f=kR(n.providerData,c),p=n.isAnonymous,_=!(n.email&&a.passwordHash)&&!(f!=null&&f.length),T=p?_:!1,A={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new tm(a.createdAt,a.lastLoginAt),isAnonymous:T};Object.assign(n,A)}async function RR(n){const e=On(n);await Ad(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kR(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function gE(n){return n.map(e=>{var{providerId:t}=e,i=$m(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PR(n,e){const t=await fE(n,{},async()=>{const i=Hc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=pE(n,o,"/v1/token",`key=${a}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",dE.fetch()(c,{method:"POST",headers:f,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function bR(n,e){return pa(n,"POST","/v2/accounts:revokeToken",fa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):z_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const t=z_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await PR(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,c=new ru;return i&&(Ue(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Ue(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Ue(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ru,this.toJSON())}_performRefresh(){return Ys("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(n,e){Ue(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Xs{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=$m(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new tm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await xc(this,this.stsTokenManager.getToken(this.auth,e));return Ue(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return SR(this,e)}reload(){return RR(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Xs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Ad(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ti(this.auth.app))return Promise.reject(eo(this.auth));const e=await this.getIdToken();return await xc(this,IR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,c,f,p,_,T;const A=(i=t.displayName)!==null&&i!==void 0?i:void 0,R=(o=t.email)!==null&&o!==void 0?o:void 0,O=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,U=(c=t.photoURL)!==null&&c!==void 0?c:void 0,Y=(f=t.tenantId)!==null&&f!==void 0?f:void 0,H=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,ee=(_=t.createdAt)!==null&&_!==void 0?_:void 0,le=(T=t.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:se,emailVerified:ye,isAnonymous:Le,providerData:Ae,stsTokenManager:M}=t;Ue(se&&M,e,"internal-error");const k=ru.fromJSON(this.name,M);Ue(typeof se=="string",e,"internal-error"),Ko(A,e.name),Ko(R,e.name),Ue(typeof ye=="boolean",e,"internal-error"),Ue(typeof Le=="boolean",e,"internal-error"),Ko(O,e.name),Ko(U,e.name),Ko(Y,e.name),Ko(H,e.name),Ko(ee,e.name),Ko(le,e.name);const b=new Xs({uid:se,auth:e,email:R,emailVerified:ye,displayName:A,isAnonymous:Le,photoURL:U,phoneNumber:O,tenantId:Y,stsTokenManager:k,createdAt:ee,lastLoginAt:le});return Ae&&Array.isArray(Ae)&&(b.providerData=Ae.map(L=>Object.assign({},L))),H&&(b._redirectEventId=H),b}static async _fromIdTokenResponse(e,t,i=!1){const o=new ru;o.updateFromServerResponse(t);const a=new Xs({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Ad(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ue(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?gE(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),f=new ru;f.updateFromIdToken(i);const p=new Xs({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:c}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new tm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=new Map;function Js(n){no(n instanceof Function,"Expected a class definition");let e=H_.get(n);return e?(no(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,H_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}yE.type="NONE";const W_=yE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(n,e,t){return`firebase:${n}:${e}:${t}`}class iu{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=dd(this.userKey,o.apiKey,a),this.fullPersistenceKey=dd("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Xs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new iu(Js(W_),e,i);const o=(await Promise.all(t.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let a=o[0]||Js(W_);const c=dd(i,e.config.apiKey,e.name);let f=null;for(const _ of t)try{const T=await _._get(c);if(T){const A=Xs._fromJSON(e,T);_!==a&&(f=A),a=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new iu(a,e,i):(a=p[0],f&&await a._set(c,f.toJSON()),await Promise.all(t.map(async _=>{if(_!==a)try{await _._remove(c)}catch{}})),new iu(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_E(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IE(e))return"Blackberry";if(SE(e))return"Webos";if(vE(e))return"Safari";if((e.includes("chrome/")||wE(e))&&!e.includes("edge/"))return"Chrome";if(TE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function _E(n=Qn()){return/firefox\//i.test(n)}function vE(n=Qn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wE(n=Qn()){return/crios\//i.test(n)}function EE(n=Qn()){return/iemobile/i.test(n)}function TE(n=Qn()){return/android/i.test(n)}function IE(n=Qn()){return/blackberry/i.test(n)}function SE(n=Qn()){return/webos/i.test(n)}function Wm(n=Qn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function xR(n=Qn()){var e;return Wm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function NR(){return WC()&&document.documentMode===10}function CE(n=Qn()){return Wm(n)||TE(n)||SE(n)||IE(n)||/windows phone/i.test(n)||EE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(n,e=[]){let t;switch(n){case"Browser":t=q_(Qn());break;case"Worker":t=`${q_(Qn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${yu}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,f)=>{try{const p=e(a);c(p)}catch(p){f(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OR(n,e={}){return pa(n,"GET","/v2/passwordPolicy",fa(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=6;class MR{constructor(e){var t,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:LR,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,c,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(a=p.containsUppercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K_(this),this.idTokenSubscription=new K_(this),this.beforeStateQueue=new DR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Js(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await iu.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await mE(this,{idToken:e}),i=await Xs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ti(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===f)&&(p!=null&&p.user)&&(o=p.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ad(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ti(this.app))return Promise.reject(eo(this));const t=e?On(e):null;return t&&Ue(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ti(this.app)?Promise.reject(eo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ti(this.app)?Promise.reject(eo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Js(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OR(this),t=new MR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new dl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await bR(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Js(e)||this._popupRedirectResolver;Ue(t,this,"argument-error"),this.redirectPersistenceManager=await iu.create(this,[Js(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(f,this,"internal-error"),f.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&fR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function pl(n){return On(n)}class K_{constructor(e){this.auth=e,this.observer=null,this.addObserver=JC(t=>this.observer=t)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FR(n){Xd=n}function RE(n){return Xd.loadJS(n)}function jR(){return Xd.recaptchaEnterpriseScript}function UR(){return Xd.gapiScript}function $R(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class BR{constructor(){this.enterprise=new zR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class zR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const HR="recaptcha-enterprise",kE="NO_RECAPTCHA";class WR{constructor(e){this.type=HR,this.auth=pl(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,f)=>{TR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const _=new ER(p);return a.tenantId==null?a._agentRecaptchaConfig=_:a._tenantRecaptchaConfigs[a.tenantId]=_,c(_.siteKey)}}).catch(p=>{f(p)})})}function o(a,c,f){const p=window.grecaptcha;B_(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(_=>{c(_)}).catch(()=>{c(kE)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new BR().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{i(this.auth).then(f=>{if(!t&&B_(window.grecaptcha))o(f,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=jR();p.length!==0&&(p+=f),RE(p).then(()=>{o(f,a,c)}).catch(_=>{c(_)})}}).catch(f=>{c(f)})})}}async function G_(n,e,t,i=!1,o=!1){const a=new WR(n);let c;if(o)c=kE;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,_=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function nm(n,e,t,i,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await G_(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await G_(n,e,t,t==="getOobCode");return i(n,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(n,e){const t=fl(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Pc(a,e??{}))return o;Ji(o,"already-initialized")}return t.initialize({options:e})}function KR(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Js);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function GR(n,e,t){const i=pl(n);Ue(i._canInitEmulator,i,"emulator-config-failed"),Ue(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=PE(e),{host:c,port:f}=QR(e),p=f===null?"":`:${f}`;i.config.emulator={url:`${a}//${c}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),YR()}function PE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function QR(n){const e=PE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:Q_(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:Q_(c)}}}function Q_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function YR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ys("not implemented")}_getIdTokenResponse(e){return Ys("not implemented")}_linkToIdToken(e,t){return Ys("not implemented")}_getReauthenticationResolver(e){return Ys("not implemented")}}async function XR(n,e){return pa(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(n,e){return qc(n,"POST","/v1/accounts:signInWithPassword",fa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(n,e){return qc(n,"POST","/v1/accounts:signInWithEmailLink",fa(n,e))}async function ek(n,e){return qc(n,"POST","/v1/accounts:signInWithEmailLink",fa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends qm{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Nc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Nc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nm(e,t,"signInWithPassword",JR);case"emailLink":return ZR(e,{email:this._email,oobCode:this._password});default:Ji(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nm(e,i,"signUpPassword",XR);case"emailLink":return ek(e,{idToken:t,email:this._email,oobCode:this._password});default:Ji(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function su(n,e){return qc(n,"POST","/v1/accounts:signInWithIdp",fa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="http://localhost";class sl extends qm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new sl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ji("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=$m(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new sl(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return su(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,su(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,su(e,t)}buildRequest(){const e={requestUri:tk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Hc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rk(n){const e=mc(gc(n)).link,t=e?mc(gc(e)).deep_link_id:null,i=mc(gc(n)).deep_link_id;return(i?mc(gc(i)).link:null)||i||t||e||n}class Km{constructor(e){var t,i,o,a,c,f;const p=mc(gc(e)),_=(t=p.apiKey)!==null&&t!==void 0?t:null,T=(i=p.oobCode)!==null&&i!==void 0?i:null,A=nk((o=p.mode)!==null&&o!==void 0?o:null);Ue(_&&T&&A,"argument-error"),this.apiKey=_,this.operation=A,this.code=T,this.continueUrl=(a=p.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=rk(e);try{return new Km(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(){this.providerId=_u.PROVIDER_ID}static credential(e,t){return Nc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Km.parseLink(t);return Ue(i,"argument-error"),Nc._fromEmailAndCode(e,i.code,i.tenantId)}}_u.PROVIDER_ID="password";_u.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_u.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends bE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends Kc{constructor(){super("facebook.com")}static credential(e){return sl._fromParams({providerId:Yo.PROVIDER_ID,signInMethod:Yo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yo.credentialFromTaggedObject(e)}static credentialFromError(e){return Yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yo.credential(e.oauthAccessToken)}catch{return null}}}Yo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends Kc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return sl._fromParams({providerId:Xo.PROVIDER_ID,signInMethod:Xo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xo.credentialFromTaggedObject(e)}static credentialFromError(e){return Xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Xo.credential(t,i)}catch{return null}}}Xo.GOOGLE_SIGN_IN_METHOD="google.com";Xo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends Kc{constructor(){super("github.com")}static credential(e){return sl._fromParams({providerId:Jo.PROVIDER_ID,signInMethod:Jo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jo.credentialFromTaggedObject(e)}static credentialFromError(e){return Jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jo.credential(e.oauthAccessToken)}catch{return null}}}Jo.GITHUB_SIGN_IN_METHOD="github.com";Jo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends Kc{constructor(){super("twitter.com")}static credential(e,t){return sl._fromParams({providerId:Zo.PROVIDER_ID,signInMethod:Zo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Zo.credentialFromTaggedObject(e)}static credentialFromError(e){return Zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Zo.credential(t,i)}catch{return null}}}Zo.TWITTER_SIGN_IN_METHOD="twitter.com";Zo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ik(n,e){return qc(n,"POST","/v1/accounts:signUp",fa(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await Xs._fromIdTokenResponse(e,i,o),c=Y_(i);return new ol({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Y_(i);return new ol({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Y_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd extends es{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Rd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Rd(e,t,i,o)}}function xE(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Rd._fromErrorAndOperation(n,a,e,i):a})}async function sk(n,e,t=!1){const i=await xc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ol._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ok(n,e,t=!1){const{auth:i}=n;if(Ti(i.app))return Promise.reject(eo(i));const o="reauthenticate";try{const a=await xc(n,xE(i,o,e,n),t);Ue(a.idToken,i,"internal-error");const c=Hm(a.idToken);Ue(c,i,"internal-error");const{sub:f}=c;return Ue(n.uid===f,i,"user-mismatch"),ol._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ji(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NE(n,e,t=!1){if(Ti(n.app))return Promise.reject(eo(n));const i="signIn",o=await xE(n,i,e),a=await ol._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}async function ak(n,e){return NE(pl(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DE(n){const e=pl(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lk(n,e,t){if(Ti(n.app))return Promise.reject(eo(n));const i=pl(n),c=await nm(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ik).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&DE(n),p}),f=await ol._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(f.user),f}function uk(n,e,t){return Ti(n.app)?Promise.reject(eo(n)):ak(On(n),_u.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&DE(n),i})}function ck(n,e,t,i){return On(n).onIdTokenChanged(e,t,i)}function hk(n,e,t){return On(n).beforeAuthStateChanged(e,t)}function dk(n,e,t,i){return On(n).onAuthStateChanged(e,t,i)}const kd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kd,"1"),this.storage.removeItem(kd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=1e3,pk=10;class LE extends OE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);NR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,pk):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},fk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}LE.type="LOCAL";const mk=LE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME extends OE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ME.type="SESSION";const VE=ME;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Jd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(c).map(async _=>_(t.origin,a)),p=await gk(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((f,p)=>{const _=Gm("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(A){const R=A;if(R.data.eventId===_)switch(R.data.status){case"ack":clearTimeout(T),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(R.data.response);break;default:clearTimeout(T),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:_,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(){return window}function _k(n){Es().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(){return typeof Es().WorkerGlobalScope<"u"&&typeof Es().importScripts=="function"}async function vk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wk(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Ek(){return FE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="firebaseLocalStorageDb",Tk=1,Pd="firebaseLocalStorage",UE="fbase_key";class Gc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Zd(n,e){return n.transaction([Pd],e?"readwrite":"readonly").objectStore(Pd)}function Ik(){const n=indexedDB.deleteDatabase(jE);return new Gc(n).toPromise()}function rm(){const n=indexedDB.open(jE,Tk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Pd,{keyPath:UE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Pd)?e(i):(i.close(),await Ik(),e(await rm()))})})}async function X_(n,e,t){const i=Zd(n,!0).put({[UE]:e,value:t});return new Gc(i).toPromise()}async function Sk(n,e){const t=Zd(n,!1).get(e),i=await new Gc(t).toPromise();return i===void 0?null:i.value}function J_(n,e){const t=Zd(n,!0).delete(e);return new Gc(t).toPromise()}const Ck=800,Ak=3;class $E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>Ak)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jd._getInstance(Ek()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await vk(),!this.activeServiceWorker)return;this.sender=new yk(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rm();return await X_(e,kd,"1"),await J_(e,kd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>X_(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>Sk(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>J_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Zd(o,!1).getAll();return new Gc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ck)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$E.type="LOCAL";const Rk=$E;new Wc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(n,e){return e?Js(e):(Ue(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm extends qm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return su(e,this._buildIdpRequest())}_linkToIdToken(e,t){return su(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return su(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Pk(n){return NE(n.auth,new Qm(n),n.bypassAuthState)}function bk(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),ok(t,new Qm(n),n.bypassAuthState)}async function xk(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),sk(t,new Qm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:c,type:f}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Pk;case"linkViaPopup":case"linkViaRedirect":return xk;case"reauthViaPopup":case"reauthViaRedirect":return bk;default:Ji(this.auth,"internal-error")}}resolve(e){no(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){no(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=new Wc(2e3,1e4);class nu extends BE{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,nu.currentPopupAction&&nu.currentPopupAction.cancel(),nu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){no(this.filter.length===1,"Popup operations only handle one event");const e=Gm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ws(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ws(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ws(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Nk.get())};e()}}nu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="pendingRedirect",fd=new Map;class Ok extends BE{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=fd.get(this.auth._key());if(!e){try{const i=await Lk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}fd.set(this.auth._key(),e)}return this.bypassAuthState||fd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Lk(n,e){const t=Fk(e),i=Vk(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function Mk(n,e){fd.set(n._key(),e)}function Vk(n){return Js(n._redirectPersistence)}function Fk(n){return dd(Dk,n.config.apiKey,n.name)}async function jk(n,e,t=!1){if(Ti(n.app))return Promise.reject(eo(n));const i=pl(n),o=kk(i,e),c=await new Ok(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=10*60*1e3;class $k{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Bk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!zE(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(ws(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Uk&&this.cachedEventUids.clear(),this.cachedEventUids.has(Z_(e))}saveEventToCache(e){this.cachedEventUids.add(Z_(e)),this.lastProcessedEventTime=Date.now()}}function Z_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function zE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Bk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(n,e={}){return pa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wk=/^https?/;async function qk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await zk(n);for(const t of e)try{if(Kk(t))return}catch{}Ji(n,"unauthorized-domain")}function Kk(n){const e=em(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!Wk.test(t))return!1;if(Hk.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=new Wc(3e4,6e4);function ev(){const n=Es().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Qk(n){return new Promise((e,t)=>{var i,o,a;function c(){ev(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ev(),t(ws(n,"network-request-failed"))},timeout:Gk.get()})}if(!((o=(i=Es().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Es().gapi)===null||a===void 0)&&a.load)c();else{const f=$R("iframefcb");return Es()[f]=()=>{gapi.load?c():t(ws(n,"network-request-failed"))},RE(`${UR()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw pd=null,e})}let pd=null;function Yk(n){return pd=pd||Qk(n),pd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=new Wc(5e3,15e3),Jk="__/auth/iframe",Zk="emulator/auth/iframe",eP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nP(n){const e=n.config;Ue(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?zm(e,Zk):`https://${n.config.authDomain}/${Jk}`,i={apiKey:e.apiKey,appName:n.name,v:yu},o=tP.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Hc(i).slice(1)}`}async function rP(n){const e=await Yk(n),t=Es().gapi;return Ue(t,n,"internal-error"),e.open({where:document.body,url:nP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eP,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=ws(n,"network-request-failed"),f=Es().setTimeout(()=>{a(c)},Xk.get());function p(){Es().clearTimeout(f),o(i)}i.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sP=500,oP=600,aP="_blank",lP="http://localhost";class tv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uP(n,e,t,i=sP,o=oP){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p=Object.assign(Object.assign({},iP),{width:i.toString(),height:o.toString(),top:a,left:c}),_=Qn().toLowerCase();t&&(f=wE(_)?aP:t),_E(_)&&(e=e||lP,p.scrollbars="yes");const T=Object.entries(p).reduce((R,[O,U])=>`${R}${O}=${U},`,"");if(xR(_)&&f!=="_self")return cP(e||"",f),new tv(null);const A=window.open(e||"",f,T);Ue(A,n,"popup-blocked");try{A.focus()}catch{}return new tv(A)}function cP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP="__/auth/handler",dP="emulator/auth/handler",fP=encodeURIComponent("fac");async function nv(n,e,t,i,o,a){Ue(n.config.authDomain,n,"auth-domain-config-required"),Ue(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:yu,eventId:o};if(e instanceof bE){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",XC(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,A]of Object.entries({}))c[T]=A}if(e instanceof Kc){const T=e.getScopes().filter(A=>A!=="");T.length>0&&(c.scopes=T.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const T of Object.keys(f))f[T]===void 0&&delete f[T];const p=await n._getAppCheckToken(),_=p?`#${fP}=${encodeURIComponent(p)}`:"";return`${pP(n)}?${Hc(f).slice(1)}${_}`}function pP({config:n}){return n.emulator?zm(n,dP):`https://${n.authDomain}/${hP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="webStorageSupport";class mP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VE,this._completeRedirectFn=jk,this._overrideRedirectResult=Mk}async _openPopup(e,t,i,o){var a;no((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await nv(e,t,i,em(),o);return uP(e,c,Gm())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await nv(e,t,i,em(),o);return _k(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(no(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await rP(e),i=new $k(e);return t.register("authEvent",o=>(Ue(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(xp,{type:xp},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[xp];c!==void 0&&t(!!c),Ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=qk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return CE()||vE()||Wm()}}const gP=mP;var rv="@firebase/auth",iv="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vP(n){Cs(new Xi("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Ue(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AE(n)},_=new VR(i,o,a,p);return KR(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Cs(new Xi("auth-internal",e=>{const t=pl(e.getProvider("auth").getImmediate());return(i=>new yP(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Si(rv,iv,_P(n)),Si(rv,iv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=5*60,EP=Zw("authIdTokenMaxAge")||wP;let sv=null;const TP=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>EP)return;const o=t==null?void 0:t.token;sv!==o&&(sv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Ym(n=Um()){const e=fl(n,"auth");if(e.isInitialized())return e.getImmediate();const t=qR(n,{popupRedirectResolver:gP,persistence:[Rk,mk,VE]}),i=Zw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=TP(a.toString());hk(t,c,()=>c(t.currentUser)),ck(t,f=>c(f))}}const o=Xw("auth");return o&&GR(t,`http://${o}`),t}function IP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}FR({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=ws("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",IP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vP("Browser");var ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ra,HE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,k){function b(){}b.prototype=k.prototype,M.D=k.prototype,M.prototype=new b,M.prototype.constructor=M,M.C=function(L,$,q){for(var N=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)N[Tt-2]=arguments[Tt];return k.prototype[$].apply(L,N)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,k,b){b||(b=0);var L=Array(16);if(typeof k=="string")for(var $=0;16>$;++$)L[$]=k.charCodeAt(b++)|k.charCodeAt(b++)<<8|k.charCodeAt(b++)<<16|k.charCodeAt(b++)<<24;else for($=0;16>$;++$)L[$]=k[b++]|k[b++]<<8|k[b++]<<16|k[b++]<<24;k=M.g[0],b=M.g[1],$=M.g[2];var q=M.g[3],N=k+(q^b&($^q))+L[0]+3614090360&4294967295;k=b+(N<<7&4294967295|N>>>25),N=q+($^k&(b^$))+L[1]+3905402710&4294967295,q=k+(N<<12&4294967295|N>>>20),N=$+(b^q&(k^b))+L[2]+606105819&4294967295,$=q+(N<<17&4294967295|N>>>15),N=b+(k^$&(q^k))+L[3]+3250441966&4294967295,b=$+(N<<22&4294967295|N>>>10),N=k+(q^b&($^q))+L[4]+4118548399&4294967295,k=b+(N<<7&4294967295|N>>>25),N=q+($^k&(b^$))+L[5]+1200080426&4294967295,q=k+(N<<12&4294967295|N>>>20),N=$+(b^q&(k^b))+L[6]+2821735955&4294967295,$=q+(N<<17&4294967295|N>>>15),N=b+(k^$&(q^k))+L[7]+4249261313&4294967295,b=$+(N<<22&4294967295|N>>>10),N=k+(q^b&($^q))+L[8]+1770035416&4294967295,k=b+(N<<7&4294967295|N>>>25),N=q+($^k&(b^$))+L[9]+2336552879&4294967295,q=k+(N<<12&4294967295|N>>>20),N=$+(b^q&(k^b))+L[10]+4294925233&4294967295,$=q+(N<<17&4294967295|N>>>15),N=b+(k^$&(q^k))+L[11]+2304563134&4294967295,b=$+(N<<22&4294967295|N>>>10),N=k+(q^b&($^q))+L[12]+1804603682&4294967295,k=b+(N<<7&4294967295|N>>>25),N=q+($^k&(b^$))+L[13]+4254626195&4294967295,q=k+(N<<12&4294967295|N>>>20),N=$+(b^q&(k^b))+L[14]+2792965006&4294967295,$=q+(N<<17&4294967295|N>>>15),N=b+(k^$&(q^k))+L[15]+1236535329&4294967295,b=$+(N<<22&4294967295|N>>>10),N=k+($^q&(b^$))+L[1]+4129170786&4294967295,k=b+(N<<5&4294967295|N>>>27),N=q+(b^$&(k^b))+L[6]+3225465664&4294967295,q=k+(N<<9&4294967295|N>>>23),N=$+(k^b&(q^k))+L[11]+643717713&4294967295,$=q+(N<<14&4294967295|N>>>18),N=b+(q^k&($^q))+L[0]+3921069994&4294967295,b=$+(N<<20&4294967295|N>>>12),N=k+($^q&(b^$))+L[5]+3593408605&4294967295,k=b+(N<<5&4294967295|N>>>27),N=q+(b^$&(k^b))+L[10]+38016083&4294967295,q=k+(N<<9&4294967295|N>>>23),N=$+(k^b&(q^k))+L[15]+3634488961&4294967295,$=q+(N<<14&4294967295|N>>>18),N=b+(q^k&($^q))+L[4]+3889429448&4294967295,b=$+(N<<20&4294967295|N>>>12),N=k+($^q&(b^$))+L[9]+568446438&4294967295,k=b+(N<<5&4294967295|N>>>27),N=q+(b^$&(k^b))+L[14]+3275163606&4294967295,q=k+(N<<9&4294967295|N>>>23),N=$+(k^b&(q^k))+L[3]+4107603335&4294967295,$=q+(N<<14&4294967295|N>>>18),N=b+(q^k&($^q))+L[8]+1163531501&4294967295,b=$+(N<<20&4294967295|N>>>12),N=k+($^q&(b^$))+L[13]+2850285829&4294967295,k=b+(N<<5&4294967295|N>>>27),N=q+(b^$&(k^b))+L[2]+4243563512&4294967295,q=k+(N<<9&4294967295|N>>>23),N=$+(k^b&(q^k))+L[7]+1735328473&4294967295,$=q+(N<<14&4294967295|N>>>18),N=b+(q^k&($^q))+L[12]+2368359562&4294967295,b=$+(N<<20&4294967295|N>>>12),N=k+(b^$^q)+L[5]+4294588738&4294967295,k=b+(N<<4&4294967295|N>>>28),N=q+(k^b^$)+L[8]+2272392833&4294967295,q=k+(N<<11&4294967295|N>>>21),N=$+(q^k^b)+L[11]+1839030562&4294967295,$=q+(N<<16&4294967295|N>>>16),N=b+($^q^k)+L[14]+4259657740&4294967295,b=$+(N<<23&4294967295|N>>>9),N=k+(b^$^q)+L[1]+2763975236&4294967295,k=b+(N<<4&4294967295|N>>>28),N=q+(k^b^$)+L[4]+1272893353&4294967295,q=k+(N<<11&4294967295|N>>>21),N=$+(q^k^b)+L[7]+4139469664&4294967295,$=q+(N<<16&4294967295|N>>>16),N=b+($^q^k)+L[10]+3200236656&4294967295,b=$+(N<<23&4294967295|N>>>9),N=k+(b^$^q)+L[13]+681279174&4294967295,k=b+(N<<4&4294967295|N>>>28),N=q+(k^b^$)+L[0]+3936430074&4294967295,q=k+(N<<11&4294967295|N>>>21),N=$+(q^k^b)+L[3]+3572445317&4294967295,$=q+(N<<16&4294967295|N>>>16),N=b+($^q^k)+L[6]+76029189&4294967295,b=$+(N<<23&4294967295|N>>>9),N=k+(b^$^q)+L[9]+3654602809&4294967295,k=b+(N<<4&4294967295|N>>>28),N=q+(k^b^$)+L[12]+3873151461&4294967295,q=k+(N<<11&4294967295|N>>>21),N=$+(q^k^b)+L[15]+530742520&4294967295,$=q+(N<<16&4294967295|N>>>16),N=b+($^q^k)+L[2]+3299628645&4294967295,b=$+(N<<23&4294967295|N>>>9),N=k+($^(b|~q))+L[0]+4096336452&4294967295,k=b+(N<<6&4294967295|N>>>26),N=q+(b^(k|~$))+L[7]+1126891415&4294967295,q=k+(N<<10&4294967295|N>>>22),N=$+(k^(q|~b))+L[14]+2878612391&4294967295,$=q+(N<<15&4294967295|N>>>17),N=b+(q^($|~k))+L[5]+4237533241&4294967295,b=$+(N<<21&4294967295|N>>>11),N=k+($^(b|~q))+L[12]+1700485571&4294967295,k=b+(N<<6&4294967295|N>>>26),N=q+(b^(k|~$))+L[3]+2399980690&4294967295,q=k+(N<<10&4294967295|N>>>22),N=$+(k^(q|~b))+L[10]+4293915773&4294967295,$=q+(N<<15&4294967295|N>>>17),N=b+(q^($|~k))+L[1]+2240044497&4294967295,b=$+(N<<21&4294967295|N>>>11),N=k+($^(b|~q))+L[8]+1873313359&4294967295,k=b+(N<<6&4294967295|N>>>26),N=q+(b^(k|~$))+L[15]+4264355552&4294967295,q=k+(N<<10&4294967295|N>>>22),N=$+(k^(q|~b))+L[6]+2734768916&4294967295,$=q+(N<<15&4294967295|N>>>17),N=b+(q^($|~k))+L[13]+1309151649&4294967295,b=$+(N<<21&4294967295|N>>>11),N=k+($^(b|~q))+L[4]+4149444226&4294967295,k=b+(N<<6&4294967295|N>>>26),N=q+(b^(k|~$))+L[11]+3174756917&4294967295,q=k+(N<<10&4294967295|N>>>22),N=$+(k^(q|~b))+L[2]+718787259&4294967295,$=q+(N<<15&4294967295|N>>>17),N=b+(q^($|~k))+L[9]+3951481745&4294967295,M.g[0]=M.g[0]+k&4294967295,M.g[1]=M.g[1]+($+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+$&4294967295,M.g[3]=M.g[3]+q&4294967295}i.prototype.u=function(M,k){k===void 0&&(k=M.length);for(var b=k-this.blockSize,L=this.B,$=this.h,q=0;q<k;){if($==0)for(;q<=b;)o(this,M,q),q+=this.blockSize;if(typeof M=="string"){for(;q<k;)if(L[$++]=M.charCodeAt(q++),$==this.blockSize){o(this,L),$=0;break}}else for(;q<k;)if(L[$++]=M[q++],$==this.blockSize){o(this,L),$=0;break}}this.h=$,this.o+=k},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var k=1;k<M.length-8;++k)M[k]=0;var b=8*this.o;for(k=M.length-8;k<M.length;++k)M[k]=b&255,b/=256;for(this.u(M),M=Array(16),k=b=0;4>k;++k)for(var L=0;32>L;L+=8)M[b++]=this.g[k]>>>L&255;return M};function a(M,k){var b=f;return Object.prototype.hasOwnProperty.call(b,M)?b[M]:b[M]=k(M)}function c(M,k){this.h=k;for(var b=[],L=!0,$=M.length-1;0<=$;$--){var q=M[$]|0;L&&q==k||(b[$]=q,L=!1)}this.g=b}var f={};function p(M){return-128<=M&&128>M?a(M,function(k){return new c([k|0],0>k?-1:0)}):new c([M|0],0>M?-1:0)}function _(M){if(isNaN(M)||!isFinite(M))return A;if(0>M)return H(_(-M));for(var k=[],b=1,L=0;M>=b;L++)k[L]=M/b|0,b*=4294967296;return new c(k,0)}function T(M,k){if(M.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(M.charAt(0)=="-")return H(T(M.substring(1),k));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=_(Math.pow(k,8)),L=A,$=0;$<M.length;$+=8){var q=Math.min(8,M.length-$),N=parseInt(M.substring($,$+q),k);8>q?(q=_(Math.pow(k,q)),L=L.j(q).add(_(N))):(L=L.j(b),L=L.add(_(N)))}return L}var A=p(0),R=p(1),O=p(16777216);n=c.prototype,n.m=function(){if(Y(this))return-H(this).m();for(var M=0,k=1,b=0;b<this.g.length;b++){var L=this.i(b);M+=(0<=L?L:4294967296+L)*k,k*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(U(this))return"0";if(Y(this))return"-"+H(this).toString(M);for(var k=_(Math.pow(M,6)),b=this,L="";;){var $=ye(b,k).g;b=ee(b,$.j(k));var q=((0<b.g.length?b.g[0]:b.h)>>>0).toString(M);if(b=$,U(b))return q+L;for(;6>q.length;)q="0"+q;L=q+L}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function U(M){if(M.h!=0)return!1;for(var k=0;k<M.g.length;k++)if(M.g[k]!=0)return!1;return!0}function Y(M){return M.h==-1}n.l=function(M){return M=ee(this,M),Y(M)?-1:U(M)?0:1};function H(M){for(var k=M.g.length,b=[],L=0;L<k;L++)b[L]=~M.g[L];return new c(b,~M.h).add(R)}n.abs=function(){return Y(this)?H(this):this},n.add=function(M){for(var k=Math.max(this.g.length,M.g.length),b=[],L=0,$=0;$<=k;$++){var q=L+(this.i($)&65535)+(M.i($)&65535),N=(q>>>16)+(this.i($)>>>16)+(M.i($)>>>16);L=N>>>16,q&=65535,N&=65535,b[$]=N<<16|q}return new c(b,b[b.length-1]&-2147483648?-1:0)};function ee(M,k){return M.add(H(k))}n.j=function(M){if(U(this)||U(M))return A;if(Y(this))return Y(M)?H(this).j(H(M)):H(H(this).j(M));if(Y(M))return H(this.j(H(M)));if(0>this.l(O)&&0>M.l(O))return _(this.m()*M.m());for(var k=this.g.length+M.g.length,b=[],L=0;L<2*k;L++)b[L]=0;for(L=0;L<this.g.length;L++)for(var $=0;$<M.g.length;$++){var q=this.i(L)>>>16,N=this.i(L)&65535,Tt=M.i($)>>>16,Ft=M.i($)&65535;b[2*L+2*$]+=N*Ft,le(b,2*L+2*$),b[2*L+2*$+1]+=q*Ft,le(b,2*L+2*$+1),b[2*L+2*$+1]+=N*Tt,le(b,2*L+2*$+1),b[2*L+2*$+2]+=q*Tt,le(b,2*L+2*$+2)}for(L=0;L<k;L++)b[L]=b[2*L+1]<<16|b[2*L];for(L=k;L<2*k;L++)b[L]=0;return new c(b,0)};function le(M,k){for(;(M[k]&65535)!=M[k];)M[k+1]+=M[k]>>>16,M[k]&=65535,k++}function se(M,k){this.g=M,this.h=k}function ye(M,k){if(U(k))throw Error("division by zero");if(U(M))return new se(A,A);if(Y(M))return k=ye(H(M),k),new se(H(k.g),H(k.h));if(Y(k))return k=ye(M,H(k)),new se(H(k.g),k.h);if(30<M.g.length){if(Y(M)||Y(k))throw Error("slowDivide_ only works with positive integers.");for(var b=R,L=k;0>=L.l(M);)b=Le(b),L=Le(L);var $=Ae(b,1),q=Ae(L,1);for(L=Ae(L,2),b=Ae(b,2);!U(L);){var N=q.add(L);0>=N.l(M)&&($=$.add(b),q=N),L=Ae(L,1),b=Ae(b,1)}return k=ee(M,$.j(k)),new se($,k)}for($=A;0<=M.l(k);){for(b=Math.max(1,Math.floor(M.m()/k.m())),L=Math.ceil(Math.log(b)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),q=_(b),N=q.j(k);Y(N)||0<N.l(M);)b-=L,q=_(b),N=q.j(k);U(q)&&(q=R),$=$.add(q),M=ee(M,N)}return new se($,M)}n.A=function(M){return ye(this,M).h},n.and=function(M){for(var k=Math.max(this.g.length,M.g.length),b=[],L=0;L<k;L++)b[L]=this.i(L)&M.i(L);return new c(b,this.h&M.h)},n.or=function(M){for(var k=Math.max(this.g.length,M.g.length),b=[],L=0;L<k;L++)b[L]=this.i(L)|M.i(L);return new c(b,this.h|M.h)},n.xor=function(M){for(var k=Math.max(this.g.length,M.g.length),b=[],L=0;L<k;L++)b[L]=this.i(L)^M.i(L);return new c(b,this.h^M.h)};function Le(M){for(var k=M.g.length+1,b=[],L=0;L<k;L++)b[L]=M.i(L)<<1|M.i(L-1)>>>31;return new c(b,M.h)}function Ae(M,k){var b=k>>5;k%=32;for(var L=M.g.length-b,$=[],q=0;q<L;q++)$[q]=0<k?M.i(q+b)>>>k|M.i(q+b+1)<<32-k:M.i(q+b);return new c($,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,HE=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=_,c.fromString=T,ra=c}).apply(typeof ov<"u"?ov:typeof self<"u"?self:typeof window<"u"?window:{});var nd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WE,yc,qE,md,im,KE,GE,QE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,w){return u==Array.prototype||u==Object.prototype||(u[g]=w.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof nd=="object"&&nd];for(var g=0;g<u.length;++g){var w=u[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function o(u,g){if(g)e:{var w=i;u=u.split(".");for(var C=0;C<u.length-1;C++){var K=u[C];if(!(K in w))break e;w=w[K]}u=u[u.length-1],C=w[u],g=g(C),g!=C&&g!=null&&e(w,u,{configurable:!0,writable:!0,value:g})}}function a(u,g){u instanceof String&&(u+="");var w=0,C=!1,K={next:function(){if(!C&&w<u.length){var Z=w++;return{value:g(Z,u[Z]),done:!1}}return C=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}o("Array.prototype.values",function(u){return u||function(){return a(this,function(g,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function _(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function T(u,g,w){return u.call.apply(u.bind,arguments)}function A(u,g,w){if(!u)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,C),u.apply(g,K)}}return function(){return u.apply(g,arguments)}}function R(u,g,w){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:A,R.apply(null,arguments)}function O(u,g){var w=Array.prototype.slice.call(arguments,1);return function(){var C=w.slice();return C.push.apply(C,arguments),u.apply(this,C)}}function U(u,g){function w(){}w.prototype=g.prototype,u.aa=g.prototype,u.prototype=new w,u.prototype.constructor=u,u.Qb=function(C,K,Z){for(var fe=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)fe[pt-2]=arguments[pt];return g.prototype[K].apply(C,fe)}}function Y(u){const g=u.length;if(0<g){const w=Array(g);for(let C=0;C<g;C++)w[C]=u[C];return w}return[]}function H(u,g){for(let w=1;w<arguments.length;w++){const C=arguments[w];if(p(C)){const K=u.length||0,Z=C.length||0;u.length=K+Z;for(let fe=0;fe<Z;fe++)u[K+fe]=C[fe]}else u.push(C)}}class ee{constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function le(u){return/^[\s\xa0]*$/.test(u)}function se(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function ye(u){return ye[" "](u),u}ye[" "]=function(){};var Le=se().indexOf("Gecko")!=-1&&!(se().toLowerCase().indexOf("webkit")!=-1&&se().indexOf("Edge")==-1)&&!(se().indexOf("Trident")!=-1||se().indexOf("MSIE")!=-1)&&se().indexOf("Edge")==-1;function Ae(u,g,w){for(const C in u)g.call(w,u[C],C,u)}function M(u,g){for(const w in u)g.call(void 0,u[w],w,u)}function k(u){const g={};for(const w in u)g[w]=u[w];return g}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(u,g){let w,C;for(let K=1;K<arguments.length;K++){C=arguments[K];for(w in C)u[w]=C[w];for(let Z=0;Z<b.length;Z++)w=b[Z],Object.prototype.hasOwnProperty.call(C,w)&&(u[w]=C[w])}}function $(u){var g=1;u=u.split(":");const w=[];for(;0<g&&u.length;)w.push(u.shift()),g--;return u.length&&w.push(u.join(":")),w}function q(u){f.setTimeout(()=>{throw u},0)}function N(){var u=ke;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class Tt{constructor(){this.h=this.g=null}add(g,w){const C=Ft.get();C.set(g,w),this.h?this.h.next=C:this.g=C,this.h=C}}var Ft=new ee(()=>new kt,u=>u.reset());class kt{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Xe,F=!1,ke=new Tt,pe=()=>{const u=f.Promise.resolve(void 0);Xe=()=>{u.then(W)}};var W=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(w){q(w)}var g=Ft;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}F=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const w=()=>{};f.addEventListener("test",w,g),f.removeEventListener("test",w,g)}catch{}return u}();function je(u,g){if(_e.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var w=this.type=u.type,C=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(Le){e:{try{ye(g.nodeName);var K=!0;break e}catch{}K=!1}K||(g=null)}}else w=="mouseover"?g=u.fromElement:w=="mouseout"&&(g=u.toElement);this.relatedTarget=g,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ce[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&je.aa.h.call(this)}}U(je,_e);var ce={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ke="closure_listenable_"+(1e6*Math.random()|0),Je=0;function at(u,g,w,C,K){this.listener=u,this.proxy=null,this.src=g,this.type=w,this.capture=!!C,this.ha=K,this.key=++Je,this.da=this.fa=!1}function Pt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function tn(u){this.src=u,this.g={},this.h=0}tn.prototype.add=function(u,g,w,C,K){var Z=u.toString();u=this.g[Z],u||(u=this.g[Z]=[],this.h++);var fe=nn(u,g,C,K);return-1<fe?(g=u[fe],w||(g.fa=!1)):(g=new at(g,this.src,Z,!!C,K),g.fa=w,u.push(g)),g};function Mn(u,g){var w=g.type;if(w in u.g){var C=u.g[w],K=Array.prototype.indexOf.call(C,g,void 0),Z;(Z=0<=K)&&Array.prototype.splice.call(C,K,1),Z&&(Pt(g),u.g[w].length==0&&(delete u.g[w],u.h--))}}function nn(u,g,w,C){for(var K=0;K<u.length;++K){var Z=u[K];if(!Z.da&&Z.listener==g&&Z.capture==!!w&&Z.ha==C)return K}return-1}var Gt="closure_lm_"+(1e6*Math.random()|0),ct={};function Jr(u,g,w,C,K){if(Array.isArray(g)){for(var Z=0;Z<g.length;Z++)Jr(u,g[Z],w,C,K);return null}return w=Mr(w),u&&u[Ke]?u.K(g,w,_(C)?!!C.capture:!1,K):Dr(u,g,w,!1,C,K)}function Dr(u,g,w,C,K,Z){if(!g)throw Error("Invalid event type");var fe=_(K)?!!K.capture:!!K,pt=An(u);if(pt||(u[Gt]=pt=new tn(u)),w=pt.add(g,w,C,fe,Z),w.proxy)return w;if(C=lo(),w.proxy=C,C.src=u,C.listener=w,u.addEventListener)Pe||(K=fe),K===void 0&&(K=!1),u.addEventListener(g.toString(),C,K);else if(u.attachEvent)u.attachEvent(Lr(g.toString()),C);else if(u.addListener&&u.removeListener)u.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return w}function lo(){function u(w){return g.call(u.src,u.listener,w)}const g=Zr;return u}function ts(u,g,w,C,K){if(Array.isArray(g))for(var Z=0;Z<g.length;Z++)ts(u,g[Z],w,C,K);else C=_(C)?!!C.capture:!!C,w=Mr(w),u&&u[Ke]?(u=u.i,g=String(g).toString(),g in u.g&&(Z=u.g[g],w=nn(Z,w,C,K),-1<w&&(Pt(Z[w]),Array.prototype.splice.call(Z,w,1),Z.length==0&&(delete u.g[g],u.h--)))):u&&(u=An(u))&&(g=u.g[g.toString()],u=-1,g&&(u=nn(g,w,C,K)),(w=-1<u?g[u]:null)&&Or(w))}function Or(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Ke])Mn(g.i,u);else{var w=u.type,C=u.proxy;g.removeEventListener?g.removeEventListener(w,C,u.capture):g.detachEvent?g.detachEvent(Lr(w),C):g.addListener&&g.removeListener&&g.removeListener(C),(w=An(g))?(Mn(w,u),w.h==0&&(w.src=null,g[Gt]=null)):Pt(u)}}}function Lr(u){return u in ct?ct[u]:ct[u]="on"+u}function Zr(u,g){if(u.da)u=!0;else{g=new je(g,this);var w=u.listener,C=u.ha||u.src;u.fa&&Or(u),u=w.call(C,g)}return u}function An(u){return u=u[Gt],u instanceof tn?u:null}var ei="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mr(u){return typeof u=="function"?u:(u[ei]||(u[ei]=function(g){return u.handleEvent(g)}),u[ei])}function De(){te.call(this),this.i=new tn(this),this.M=this,this.F=null}U(De,te),De.prototype[Ke]=!0,De.prototype.removeEventListener=function(u,g,w,C){ts(this,u,g,w,C)};function ht(u,g){var w,C=u.F;if(C)for(w=[];C;C=C.F)w.push(C);if(u=u.M,C=g.type||g,typeof g=="string")g=new _e(g,u);else if(g instanceof _e)g.target=g.target||u;else{var K=g;g=new _e(C,u),L(g,K)}if(K=!0,w)for(var Z=w.length-1;0<=Z;Z--){var fe=g.g=w[Z];K=Rn(fe,C,!0,g)&&K}if(fe=g.g=u,K=Rn(fe,C,!0,g)&&K,K=Rn(fe,C,!1,g)&&K,w)for(Z=0;Z<w.length;Z++)fe=g.g=w[Z],K=Rn(fe,C,!1,g)&&K}De.prototype.N=function(){if(De.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var w=u.g[g],C=0;C<w.length;C++)Pt(w[C]);delete u.g[g],u.h--}}this.F=null},De.prototype.K=function(u,g,w,C){return this.i.add(String(u),g,!1,w,C)},De.prototype.L=function(u,g,w,C){return this.i.add(String(u),g,!0,w,C)};function Rn(u,g,w,C){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var K=!0,Z=0;Z<g.length;++Z){var fe=g[Z];if(fe&&!fe.da&&fe.capture==w){var pt=fe.listener,mt=fe.ha||fe.src;fe.fa&&Mn(u.i,fe),K=pt.call(mt,C)!==!1&&K}}return K&&!C.defaultPrevented}function ma(u,g,w){if(typeof u=="function")w&&(u=R(u,w));else if(u&&typeof u.handleEvent=="function")u=R(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:f.setTimeout(u,g||0)}function ti(u){u.g=ma(()=>{u.g=null,u.i&&(u.i=!1,ti(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class ks extends te{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ti(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ps(u){te.call(this),this.h=u,this.g={}}U(Ps,te);var ga=[];function ya(u){Ae(u.g,function(g,w){this.g.hasOwnProperty(w)&&Or(g)},u),u.g={}}Ps.prototype.N=function(){Ps.aa.N.call(this),ya(this)},Ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _a=f.JSON.stringify,va=f.JSON.parse,uo=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function ni(){}ni.prototype.h=null;function bs(u){return u.h||(u.h=u.i())}function xs(){}var fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ri(){_e.call(this,"d")}U(ri,_e);function co(){_e.call(this,"c")}U(co,_e);var ii={},si=null;function Vr(){return si=si||new De}ii.La="serverreachability";function wa(u){_e.call(this,ii.La,u)}U(wa,_e);function Ci(u){const g=Vr();ht(g,new wa(g))}ii.STAT_EVENT="statevent";function Ea(u,g){_e.call(this,ii.STAT_EVENT,u),this.stat=g}U(Ea,_e);function jt(u){const g=Vr();ht(g,new Ea(g,u))}ii.Ma="timingevent";function ho(u,g){_e.call(this,ii.Ma,u),this.size=g}U(ho,_e);function Yn(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},g)}function pr(){this.g=!0}pr.prototype.xa=function(){this.g=!1};function oi(u,g,w,C,K,Z){u.info(function(){if(u.g)if(Z)for(var fe="",pt=Z.split("&"),mt=0;mt<pt.length;mt++){var tt=pt[mt].split("=");if(1<tt.length){var Jt=tt[0];tt=tt[1];var $t=Jt.split("_");fe=2<=$t.length&&$t[1]=="type"?fe+(Jt+"="+tt+"&"):fe+(Jt+"=redacted&")}}else fe=null;else fe=Z;return"XMLHTTP REQ ("+C+") [attempt "+K+"]: "+g+`
`+w+`
`+fe})}function fo(u,g,w,C,K,Z,fe){u.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+K+"]: "+g+`
`+w+`
`+Z+" "+fe})}function Xn(u,g,w,C){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Cu(u,w)+(C?" "+C:"")})}function Ta(u,g){u.info(function(){return"TIMEOUT: "+g})}pr.prototype.info=function(){};function Cu(u,g){if(!u.g)return g;if(!g)return null;try{var w=JSON.parse(g);if(w){for(u=0;u<w.length;u++)if(Array.isArray(w[u])){var C=w[u];if(!(2>C.length)){var K=C[1];if(Array.isArray(K)&&!(1>K.length)){var Z=K[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var fe=1;fe<K.length;fe++)K[fe]=""}}}}return _a(w)}catch{return g}}var Fr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},rn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nt;function Qt(){}U(Qt,ni),Qt.prototype.g=function(){return new XMLHttpRequest},Qt.prototype.i=function(){return{}},Nt=new Qt;function bt(u,g,w,C){this.j=u,this.i=g,this.l=w,this.R=C||1,this.U=new Ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ns}function Ns(){this.i=null,this.g="",this.h=!1}var ai={},mr={};function jr(u,g,w){u.L=1,u.v=tr(Xt(g)),u.m=w,u.P=!0,po(u,null)}function po(u,g){u.F=Date.now(),It(u),u.A=Xt(u.v);var w=u.A,C=u.R;Array.isArray(C)||(C=[String(C)]),xi(w.i,"t",C),u.C=0,w=u.j.J,u.h=new Ns,u.g=Na(u.j,w?g:null,!u.m),0<u.O&&(u.M=new ks(R(u.Y,u,u.g),u.O)),g=u.U,w=u.g,C=u.ca;var K="readystatechange";Array.isArray(K)||(K&&(ga[0]=K.toString()),K=ga);for(var Z=0;Z<K.length;Z++){var fe=Jr(w,K[Z],C||g.handleEvent,!1,g.h||g);if(!fe)break;g.g[fe.key]=fe}g=u.H?k(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Ci(),oi(u.i,u.u,u.A,u.l,u.R,u.m)}bt.prototype.ca=function(u){u=u.target;const g=this.M;g&&kn(u)==3?g.j():this.Y(u)},bt.prototype.Y=function(u){try{if(u==this.g)e:{const $t=kn(this.g);var g=this.g.Ba();const Ir=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||To(this.g)))){this.J||$t!=4||g==7||(g==8||0>=Ir?Ci(3):Ci(2)),Ai(this);var w=this.g.Z();this.X=w;t:if(mo(this)){var C=To(this.g);u="";var K=C.length,Z=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jn(this),Ri(this);var fe="";break t}this.h.i=new f.TextDecoder}for(g=0;g<K;g++)this.h.h=!0,u+=this.h.i.decode(C[g],{stream:!(Z&&g==K-1)});C.length=0,this.h.g+=u,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=w==200,fo(this.i,this.u,this.A,this.l,this.R,$t,w),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,mt=this.g;if((pt=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!le(pt)){var tt=pt;break t}}tt=null}if(w=tt)Xn(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yo(this,w);else{this.o=!1,this.s=3,jt(12),Jn(this),Ri(this);break e}}if(this.P){w=!0;let sr;for(;!this.J&&this.C<fe.length;)if(sr=ns(this,fe),sr==mr){$t==4&&(this.s=4,jt(14),w=!1),Xn(this.i,this.l,null,"[Incomplete Response]");break}else if(sr==ai){this.s=4,jt(15),Xn(this.i,this.l,fe,"[Invalid Chunk]"),w=!1;break}else Xn(this.i,this.l,sr,null),yo(this,sr);if(mo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||fe.length!=0||this.h.h||(this.s=1,jt(16),w=!1),this.o=this.o&&w,!w)Xn(this.i,this.l,fe,"[Invalid Chunked Response]"),Jn(this),Ri(this);else if(0<fe.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),Wr(Jt),Jt.M=!0,jt(11))}}else Xn(this.i,this.l,fe,null),yo(this,fe);$t==4&&Jn(this),this.o&&!this.J&&($t==4?js(this.j,this):(this.o=!1,It(this)))}else Ms(this.g),w==400&&0<fe.indexOf("Unknown SID")?(this.s=3,jt(12)):(this.s=0,jt(13)),Jn(this),Ri(this)}}}catch{}finally{}};function mo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ns(u,g){var w=u.C,C=g.indexOf(`
`,w);return C==-1?mr:(w=Number(g.substring(w,C)),isNaN(w)?ai:(C+=1,C+w>g.length?mr:(g=g.slice(C,C+w),u.C=C+w,g)))}bt.prototype.cancel=function(){this.J=!0,Jn(this)};function It(u){u.S=Date.now()+u.I,go(u,u.I)}function go(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Yn(R(u.ba,u),g)}function Ai(u){u.B&&(f.clearTimeout(u.B),u.B=null)}bt.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ta(this.i,this.A),this.L!=2&&(Ci(),jt(17)),Jn(this),this.s=2,Ri(this)):go(this,this.S-u)};function Ri(u){u.j.G==0||u.J||js(u.j,u)}function Jn(u){Ai(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,ya(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function yo(u,g){try{var w=u.j;if(w.G!=0&&(w.g==u||En(w.h,u))){if(!u.K&&En(w.h,u)&&w.G==3){try{var C=w.Da.g.parse(g)}catch{C=null}if(Array.isArray(C)&&C.length==3){var K=C;if(K[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<u.F)Ro(w),zr(w);else break e;Fs(w),jt(18)}}else w.za=K[1],0<w.za-w.T&&37500>K[2]&&w.F&&w.v==0&&!w.C&&(w.C=Yn(R(w.Za,w),6e3));if(1>=Sa(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Oi(w,11)}else if((u.K||w.g==u)&&Ro(w),!le(g))for(K=w.Da.g.parse(g),g=0;g<K.length;g++){let tt=K[g];if(w.T=tt[0],tt=tt[1],w.G==2)if(tt[0]=="c"){w.K=tt[1],w.ia=tt[2];const Jt=tt[3];Jt!=null&&(w.la=Jt,w.j.info("VER="+w.la));const $t=tt[4];$t!=null&&(w.Aa=$t,w.j.info("SVER="+w.Aa));const Ir=tt[5];Ir!=null&&typeof Ir=="number"&&0<Ir&&(C=1.5*Ir,w.L=C,w.j.info("backChannelRequestTimeoutMs_="+C)),C=w;const sr=u.g;if(sr){const os=sr.g?sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(os){var Z=C.h;Z.g||os.indexOf("spdy")==-1&&os.indexOf("quic")==-1&&os.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(_o(Z,Z.h),Z.h=null))}if(C.D){const Li=sr.g?sr.g.getResponseHeader("X-HTTP-Session-Id"):null;Li&&(C.ya=Li,vt(C.I,C.D,Li))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-u.F,w.j.info("Handshake RTT: "+w.R+"ms")),C=w;var fe=u;if(C.qa=Sl(C,C.J?C.ia:null,C.W),fe.K){Ca(C.h,fe);var pt=fe,mt=C.L;mt&&(pt.I=mt),pt.B&&(Ai(pt),It(pt)),C.g=fe}else ss(C);0<w.i.length&&Hr(w)}else tt[0]!="stop"&&tt[0]!="close"||Oi(w,7);else w.G==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Oi(w,7):pn(w):tt[0]!="noop"&&w.l&&w.l.ta(tt),w.v=0)}}Ci(4)}catch{}}var Ia=class{constructor(u,g){this.g=u,this.map=g}};function rs(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Sa(u){return u.h?1:u.g?u.g.size:0}function En(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function _o(u,g){u.g?u.g.add(g):u.h=g}function Ca(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}rs.prototype.cancel=function(){if(this.i=Zn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Zn(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const w of u.g.values())g=g.concat(w.D);return g}return Y(u.i)}function sn(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],w=u.length,C=0;C<w;C++)g.push(u[C]);return g}g=[],w=0;for(C in u)g[w++]=u[C];return g}function gr(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var w=0;w<u;w++)g.push(w);return g}g=[],w=0;for(const C in u)g[w++]=C;return g}}}function Yt(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var w=gr(u),C=sn(u),K=C.length,Z=0;Z<K;Z++)g.call(void 0,C[Z],w&&w[Z],u)}var ki=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Aa(u,g){if(u){u=u.split("&");for(var w=0;w<u.length;w++){var C=u[w].indexOf("="),K=null;if(0<=C){var Z=u[w].substring(0,C);K=u[w].substring(C+1)}else Z=u[w];g(Z,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function on(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof on){this.h=u.h,li(this,u.j),this.o=u.o,this.g=u.g,er(this,u.s),this.l=u.l;var g=u.i,w=new _r;w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),ui(this,w),this.m=u.m}else u&&(g=String(u).match(ki))?(this.h=!1,li(this,g[1]||"",!0),this.o=Ye(g[2]||""),this.g=Ye(g[3]||"",!0),er(this,g[4]),this.l=Ye(g[5]||"",!0),ui(this,g[6]||"",!0),this.m=Ye(g[7]||"")):(this.h=!1,this.i=new _r(null,this.h))}on.prototype.toString=function(){var u=[],g=this.j;g&&u.push(Pi(g,vo,!0),":");var w=this.g;return(w||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Pi(g,vo,!0),"@"),u.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&u.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&u.push("/"),u.push(Pi(w,w.charAt(0)=="/"?Ds:Ur,!0))),(w=this.i.toString())&&u.push("?",w),(w=this.m)&&u.push("#",Pi(w,bi)),u.join("")};function Xt(u){return new on(u)}function li(u,g,w){u.j=w?Ye(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function er(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function ui(u,g,w){g instanceof _r?(u.i=g,ci(u.i,u.h)):(w||(g=Pi(g,Ra)),u.i=new _r(g,u.h))}function vt(u,g,w){u.i.set(g,w)}function tr(u){return vt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ye(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Pi(u,g,w){return typeof u=="string"?(u=encodeURI(u).replace(g,yr),w&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function yr(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var vo=/[#\/\?@]/g,Ur=/[#\?:]/g,Ds=/[#\?]/g,Ra=/[#\?@]/g,bi=/#/g;function _r(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Ut(u){u.g||(u.g=new Map,u.h=0,u.i&&Aa(u.i,function(g,w){u.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}n=_r.prototype,n.add=function(u,g){Ut(this),this.i=null,u=dn(this,u);var w=this.g.get(u);return w||this.g.set(u,w=[]),w.push(g),this.h+=1,this};function vr(u,g){Ut(u),g=dn(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function wr(u,g){return Ut(u),g=dn(u,g),u.g.has(g)}n.forEach=function(u,g){Ut(this),this.g.forEach(function(w,C){w.forEach(function(K){u.call(g,K,C,this)},this)},this)},n.na=function(){Ut(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),w=[];for(let C=0;C<g.length;C++){const K=u[C];for(let Z=0;Z<K.length;Z++)w.push(g[C])}return w},n.V=function(u){Ut(this);let g=[];if(typeof u=="string")wr(this,u)&&(g=g.concat(this.g.get(dn(this,u))));else{u=Array.from(this.g.values());for(let w=0;w<u.length;w++)g=g.concat(u[w])}return g},n.set=function(u,g){return Ut(this),this.i=null,u=dn(this,u),wr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},n.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function xi(u,g,w){vr(u,g),0<w.length&&(u.i=null,u.g.set(dn(u,g),Y(w)),u.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var w=0;w<g.length;w++){var C=g[w];const Z=encodeURIComponent(String(C)),fe=this.V(C);for(C=0;C<fe.length;C++){var K=Z;fe[C]!==""&&(K+="="+encodeURIComponent(String(fe[C]))),u.push(K)}}return this.i=u.join("&")};function dn(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function ci(u,g){g&&!u.j&&(Ut(u),u.i=null,u.g.forEach(function(w,C){var K=C.toLowerCase();C!=K&&(vr(this,C),xi(this,K,w))},u)),u.j=g}function wl(u,g){const w=new pr;if(f.Image){const C=new Image;C.onload=O(fn,w,"TestLoadImage: loaded",!0,g,C),C.onerror=O(fn,w,"TestLoadImage: error",!1,g,C),C.onabort=O(fn,w,"TestLoadImage: abort",!1,g,C),C.ontimeout=O(fn,w,"TestLoadImage: timeout",!1,g,C),f.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=u}else g(!1)}function wo(u,g){const w=new pr,C=new AbortController,K=setTimeout(()=>{C.abort(),fn(w,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:C.signal}).then(Z=>{clearTimeout(K),Z.ok?fn(w,"TestPingServer: ok",!0,g):fn(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(K),fn(w,"TestPingServer: error",!1,g)})}function fn(u,g,w,C,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),C(w)}catch{}}function ka(){this.g=new uo}function El(u,g,w){const C=w||"";try{Yt(u,function(K,Z){let fe=K;_(K)&&(fe=_a(K)),g.push(C+Z+"="+encodeURIComponent(fe))})}catch(K){throw g.push(C+"type="+encodeURIComponent("_badmap")),K}}function Er(u){this.l=u.Ub||null,this.j=u.eb||!1}U(Er,ni),Er.prototype.g=function(){return new Os(this.l,this.j)},Er.prototype.i=function(u){return function(){return u}}({});function Os(u,g){De.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Os,De),n=Os.prototype,n.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,rr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||f).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,nr(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,rr(this)),this.g&&(this.readyState=3,rr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pa(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pa(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?nr(this):rr(this),this.readyState==3&&Pa(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,nr(this))},n.Qa=function(u){this.g&&(this.response=u,nr(this))},n.ga=function(){this.g&&nr(this)};function nr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,rr(u)}n.setRequestHeader=function(u,g){this.u.append(u,g)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,u.push(w[0]+": "+w[1]),w=g.next();return u.join(`\r
`)};function rr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function $r(u){let g="";return Ae(u,function(w,C){g+=C,g+=":",g+=w,g+=`\r
`}),g}function Ni(u,g,w){e:{for(C in w){var C=!1;break e}C=!0}C||(w=$r(w),typeof u=="string"?w!=null&&encodeURIComponent(String(w)):vt(u,g,w))}function wt(u){De.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(wt,De);var ba=/^https?$/i,Eo=["POST","PUT"];n=wt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,g,w,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nt.g(),this.v=this.o?bs(this.o):bs(Nt),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(Z){is(this,Z);return}if(u=w||"",w=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var K in C)w.set(K,C[K]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const Z of C.keys())w.set(Z,C.get(Z));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(w.keys()).find(Z=>Z.toLowerCase()=="content-type"),K=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Eo,g,void 0))||C||K||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,fe]of w)this.g.setRequestHeader(Z,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ls(this),this.u=!0,this.g.send(u),this.u=!1}catch(Z){is(this,Z)}};function is(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Br(u),Fn(u)}function Br(u){u.A||(u.A=!0,ht(u,"complete"),ht(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ht(this,"complete"),ht(this,"abort"),Fn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),wt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?xa(this):this.bb())},n.bb=function(){xa(this)};function xa(u){if(u.h&&typeof c<"u"&&(!u.v[1]||kn(u)!=4||u.Z()!=2)){if(u.u&&kn(u)==4)ma(u.Ea,0,u);else if(ht(u,"readystatechange"),kn(u)==4){u.h=!1;try{const fe=u.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var C;if(C=fe===0){var K=String(u.D).match(ki)[1]||null;!K&&f.self&&f.self.location&&(K=f.self.location.protocol.slice(0,-1)),C=!ba.test(K?K.toLowerCase():"")}w=C}if(w)ht(u,"complete"),ht(u,"success");else{u.m=6;try{var Z=2<kn(u)?u.g.statusText:""}catch{Z=""}u.l=Z+" ["+u.Z()+"]",Br(u)}}finally{Fn(u)}}}}function Fn(u,g){if(u.g){Ls(u);const w=u.g,C=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||ht(u,"ready");try{w.onreadystatechange=C}catch{}}}function Ls(u){u.I&&(f.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function kn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),va(g)}};function To(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ms(u){const g={};u=(u.g&&2<=kn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<u.length;C++){if(le(u[C]))continue;var w=$(u[C]);const K=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const Z=g[K]||[];g[K]=Z,Z.push(w)}M(g,function(C){return C.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Tr(u,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[u]||g}function Io(u){this.Aa=0,this.i=[],this.j=new pr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Tr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Tr("baseRetryDelayMs",5e3,u),this.cb=Tr("retryDelaySeedMs",1e4,u),this.Wa=Tr("forwardChannelMaxRetries",2,u),this.wa=Tr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new rs(u&&u.concurrentRequestLimit),this.Da=new ka,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Io.prototype,n.la=8,n.G=1,n.connect=function(u,g,w,C){jt(0),this.W=u,this.H=g||{},w&&C!==void 0&&(this.H.OSID=w,this.H.OAID=C),this.F=this.X,this.I=Sl(this,null,this.W),Hr(this)};function pn(u){if(Vs(u),u.G==3){var g=u.U++,w=Xt(u.I);if(vt(w,"SID",u.K),vt(w,"RID",g),vt(w,"TYPE","terminate"),Di(u,w),g=new bt(u,u.j,g),g.L=2,g.v=tr(Xt(w)),w=!1,f.navigator&&f.navigator.sendBeacon)try{w=f.navigator.sendBeacon(g.v.toString(),"")}catch{}!w&&f.Image&&(new Image().src=g.v,w=!0),w||(g.g=Na(g.j,null),g.g.ea(g.v)),g.F=Date.now(),It(g)}Il(u)}function zr(u){u.g&&(Wr(u),u.g.cancel(),u.g=null)}function Vs(u){zr(u),u.u&&(f.clearTimeout(u.u),u.u=null),Ro(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function Hr(u){if(!Vn(u.h)&&!u.s){u.s=!0;var g=u.Ga;Xe||pe(),F||(Xe(),F=!0),ke.add(g,u),u.B=0}}function So(u,g){return Sa(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Yn(R(u.Ga,u,g),Tl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const K=new bt(this,this.j,u);let Z=this.o;if(this.S&&(Z?(Z=k(Z),L(Z,this.S)):Z=this.S),this.m!==null||this.O||(K.H=Z,Z=null),this.P)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var C=this.i[w];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(g+=C,4096<g){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=hi(this,K,g),w=Xt(this.I),vt(w,"RID",u),vt(w,"CVER",22),this.D&&vt(w,"X-HTTP-Session-Id",this.D),Di(this,w),Z&&(this.O?g="headers="+encodeURIComponent(String($r(Z)))+"&"+g:this.m&&Ni(w,this.m,Z)),_o(this.h,K),this.Ua&&vt(w,"TYPE","init"),this.P?(vt(w,"$req",g),vt(w,"SID","null"),K.T=!0,jr(K,w,null)):jr(K,w,g),this.G=2}}else this.G==3&&(u?Co(this,u):this.i.length==0||Vn(this.h)||Co(this))};function Co(u,g){var w;g?w=g.l:w=u.U++;const C=Xt(u.I);vt(C,"SID",u.K),vt(C,"RID",w),vt(C,"AID",u.T),Di(u,C),u.m&&u.o&&Ni(C,u.m,u.o),w=new bt(u,u.j,w,u.B+1),u.m===null&&(w.H=u.o),g&&(u.i=g.D.concat(u.i)),g=hi(u,w,1e3),w.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),_o(u.h,w),jr(w,C,g)}function Di(u,g){u.H&&Ae(u.H,function(w,C){vt(g,C,w)}),u.l&&Yt({},function(w,C){vt(g,C,w)})}function hi(u,g,w){w=Math.min(u.i.length,w);var C=u.l?R(u.l.Na,u.l,u):null;e:{var K=u.i;let Z=-1;for(;;){const fe=["count="+w];Z==-1?0<w?(Z=K[0].g,fe.push("ofs="+Z)):Z=0:fe.push("ofs="+Z);let pt=!0;for(let mt=0;mt<w;mt++){let tt=K[mt].g;const Jt=K[mt].map;if(tt-=Z,0>tt)Z=Math.max(0,K[mt].g-100),pt=!1;else try{El(Jt,fe,"req"+tt+"_")}catch{C&&C(Jt)}}if(pt){C=fe.join("&");break e}}}return u=u.i.splice(0,w),g.D=u,C}function ss(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;Xe||pe(),F||(Xe(),F=!0),ke.add(g,u),u.v=0}}function Fs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Yn(R(u.Fa,u),Tl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Ao(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Yn(R(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,jt(10),zr(this),Ao(this))};function Wr(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Ao(u){u.g=new bt(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=Xt(u.qa);vt(g,"RID","rpc"),vt(g,"SID",u.K),vt(g,"AID",u.T),vt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&vt(g,"TO",u.ja),vt(g,"TYPE","xmlhttp"),Di(u,g),u.m&&u.o&&Ni(g,u.m,u.o),u.L&&(u.g.I=u.L);var w=u.g;u=u.ia,w.L=1,w.v=tr(Xt(g)),w.m=null,w.P=!0,po(w,u)}n.Za=function(){this.C!=null&&(this.C=null,zr(this),Fs(this),jt(19))};function Ro(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function js(u,g){var w=null;if(u.g==g){Ro(u),Wr(u),u.g=null;var C=2}else if(En(u.h,g))w=g.D,Ca(u.h,g),C=1;else return;if(u.G!=0){if(g.o)if(C==1){w=g.m?g.m.length:0,g=Date.now()-g.F;var K=u.B;C=Vr(),ht(C,new ho(C,w)),Hr(u)}else ss(u);else if(K=g.s,K==3||K==0&&0<g.X||!(C==1&&So(u,g)||C==2&&Fs(u)))switch(w&&0<w.length&&(g=u.h,g.i=g.i.concat(w)),K){case 1:Oi(u,5);break;case 4:Oi(u,10);break;case 3:Oi(u,6);break;default:Oi(u,2)}}}function Tl(u,g){let w=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(w*=2),w*g}function Oi(u,g){if(u.j.info("Error code "+g),g==2){var w=R(u.fb,u),C=u.Xa;const K=!C;C=new on(C||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||li(C,"https"),tr(C),K?wl(C.toString(),w):wo(C.toString(),w)}else jt(2);u.G=0,u.l&&u.l.sa(g),Il(u),Vs(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function Il(u){if(u.G=0,u.ka=[],u.l){const g=Zn(u.h);(g.length!=0||u.i.length!=0)&&(H(u.ka,g),H(u.ka,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.ra()}}function Sl(u,g,w){var C=w instanceof on?Xt(w):new on(w);if(C.g!="")g&&(C.g=g+"."+C.g),er(C,C.s);else{var K=f.location;C=K.protocol,g=g?g+"."+K.hostname:K.hostname,K=+K.port;var Z=new on(null);C&&li(Z,C),g&&(Z.g=g),K&&er(Z,K),w&&(Z.l=w),C=Z}return w=u.D,g=u.ya,w&&g&&vt(C,w,g),vt(C,"VER",u.la),Di(u,C),C}function Na(u,g,w){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new wt(new Er({eb:w})):new wt(u.pa),g.Ha(u.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ko(){}n=ko.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Po(){}Po.prototype.g=function(u,g){return new Wt(u,g)};function Wt(u,g){De.call(this),this.g=new Io(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!le(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!le(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new ir(this)}U(Wt,De),Wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){pn(this.g)},Wt.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var w={};w.__data__=u,u=w}else this.u&&(w={},w.__data__=_a(u),u=w);g.i.push(new Ia(g.Ya++,u)),g.G==3&&Hr(g)},Wt.prototype.N=function(){this.g.l=null,delete this.j,pn(this.g),delete this.g,Wt.aa.N.call(this)};function di(u){ri.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const w in g){u=w;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}U(di,ri);function Cl(){co.call(this),this.status=1}U(Cl,co);function ir(u){this.g=u}U(ir,ko),ir.prototype.ua=function(){ht(this.g,"a")},ir.prototype.ta=function(u){ht(this.g,new di(u))},ir.prototype.sa=function(u){ht(this.g,new Cl)},ir.prototype.ra=function(){ht(this.g,"b")},Po.prototype.createWebChannel=Po.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,QE=function(){return new Po},GE=function(){return Vr()},KE=ii,im={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fr.NO_ERROR=0,Fr.TIMEOUT=8,Fr.HTTP_ERROR=6,md=Fr,rn.COMPLETE="complete",qE=rn,xs.EventType=fr,fr.OPEN="a",fr.CLOSE="b",fr.ERROR="c",fr.MESSAGE="d",De.prototype.listen=De.prototype.K,yc=xs,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,WE=wt}).apply(typeof nd<"u"?nd:typeof self<"u"?self:typeof window<"u"?window:{});const av="@firebase/firestore",lv="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kn.UNAUTHENTICATED=new Kn(null),Kn.GOOGLE_CREDENTIALS=new Kn("google-credentials-uid"),Kn.FIRST_PARTY=new Kn("first-party-uid"),Kn.MOCK_USER=new Kn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vu="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=new Yd("@firebase/firestore");function Yl(){return al.logLevel}function Te(n,...e){if(al.logLevel<=rt.DEBUG){const t=e.map(Xm);al.debug(`Firestore (${vu}): ${n}`,...t)}}function ro(n,...e){if(al.logLevel<=rt.ERROR){const t=e.map(Xm);al.error(`Firestore (${vu}): ${n}`,...t)}}function au(n,...e){if(al.logLevel<=rt.WARN){const t=e.map(Xm);al.warn(`Firestore (${vu}): ${n}`,...t)}}function Xm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(n="Unexpected state"){const e=`FIRESTORE (${vu}) INTERNAL ASSERTION FAILED: `+n;throw ro(e),new Error(e)}function Et(n,e){n||$e()}function qe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends es{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kn.UNAUTHENTICATED))}shutdown(){}}class CP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class AP{constructor(e){this.t=e,this.currentUser=Kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Et(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let a=new rl;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new rl,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new rl)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Et(typeof i.accessToken=="string"),new YE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string"),new Kn(e)}}class RP{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Kn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class kP{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new RP(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PP{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ti(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Et(this.o===void 0);const i=a=>{a.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,Te("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new uv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Et(typeof t.token=="string"),this.R=t.token,new uv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=bP(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%62))}return i}}function ot(n,e){return n<e?-1:n>e?1:0}function lu(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=-62135596800,hv=1e6;class _n{static now(){return _n.fromMillis(Date.now())}static fromDate(e){return _n.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*hv);return new _n(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ce(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ce(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<cv)throw new Ce(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hv}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-cv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new _n(0,0))}static max(){return new He(new _n(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="__name__";class vs{constructor(e,t,i){t===void 0?t=0:t>e.length&&$e(),i===void 0?i=e.length-t:i>e.length-t&&$e(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return vs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vs?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=vs.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=vs.isNumericId(e),o=vs.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?vs.extractNumericId(e).compare(vs.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ra.fromString(e.substring(4,e.length-2))}}class Vt extends vs{construct(e,t,i){return new Vt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ce(ie.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Vt(t)}static emptyPath(){return new Vt([])}}const xP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dn extends vs{construct(e,t,i){return new Dn(e,t,i)}static isValidIdentifier(e){return xP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dv}static keyField(){return new Dn([dv])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new Ce(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new Ce(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ce(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(c=!c,o++):f!=="."||c?(i+=f,o++):(a(),o++)}if(a(),c)throw new Ce(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dn(t)}static emptyPath(){return new Dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(Vt.fromString(e))}static fromName(e){return new Oe(Vt.fromString(e).popFirst(5))}static empty(){return new Oe(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new Vt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=-1;function NP(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=He.fromTimestamp(i===1e9?new _n(t+1,0):new _n(t,i));return new aa(o,Oe.empty(),e)}function DP(n){return new aa(n.readTime,n.key,Dc)}class aa{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new aa(He.min(),Oe.empty(),Dc)}static max(){return new aa(He.max(),Oe.empty(),Dc)}}function OP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Oe.comparator(n.documentKey,e.documentKey),t!==0?t:ot(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(n){if(n.code!==ie.FAILED_PRECONDITION||n.message!==LP)throw n;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,i)=>{t(e)})}static reject(e){return new re((t,i)=>{i(e)})}static waitFor(e){return new re((t,i)=>{let o=0,a=0,c=!1;e.forEach(f=>{++o,f.next(()=>{++a,c&&a===o&&t()},p=>i(p))}),c=!0,a===o&&t()})}static or(e){let t=re.resolve(!1);for(const i of e)t=t.next(o=>o?re.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new re((i,o)=>{const a=e.length,c=new Array(a);let f=0;for(let p=0;p<a;p++){const _=p;t(e[_]).next(T=>{c[_]=T,++f,f===a&&i(c)},T=>o(T))}})}static doWhile(e,t){return new re((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function VP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Eu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ef.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm=-1;function tf(n){return n==null}function bd(n){return n===0&&1/n==-1/0}function FP(n){return typeof n=="number"&&Number.isInteger(n)&&!bd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="";function jP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=fv(e)),e=UP(n.get(t),e);return fv(e)}function UP(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case JE:t+="";break;default:t+=a}}return t}function fv(n){return n+JE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ml(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ZE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,t){this.comparator=e,this.root=t||Nn.EMPTY}insert(e,t){return new Ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(e){return new Ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rd(this.root,e,this.comparator,!1)}getReverseIterator(){return new rd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rd(this.root,e,this.comparator,!0)}}class rd{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nn{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??Nn.RED,this.left=o??Nn.EMPTY,this.right=a??Nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new Nn(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Nn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $e();const e=this.left.check();if(e!==this.right.check())throw $e();return e+(this.isRed()?0:1)}}Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw $e()}get value(){throw $e()}get color(){throw $e()}get left(){throw $e()}get right(){throw $e()}copy(e,t,i,o,a){return this}insert(e,t,i){return new Nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.comparator=e,this.data=new Ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mv(this.data.getIterator())}getIteratorFrom(e){return new mv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof vn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new vn(this.comparator);return t.data=e,t}}class mv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this.fields=e,e.sort(Dn.comparator)}static empty(){return new Qi([])}unionWith(e){let t=new vn(Dn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Qi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return lu(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new eT("Invalid base64 string: "+a):a}}(e);return new Ln(t)}static fromUint8Array(e){const t=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new Ln(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ln.EMPTY_BYTE_STRING=new Ln("");const $P=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function la(n){if(Et(!!n),typeof n=="string"){let e=0;const t=$P.exec(n);if(Et(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:en(n.seconds),nanos:en(n.nanos)}}function en(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ua(n){return typeof n=="string"?Ln.fromBase64String(n):Ln.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="server_timestamp",nT="__type__",rT="__previous_value__",iT="__local_write_time__";function Zm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[nT])===null||t===void 0?void 0:t.stringValue)===tT}function nf(n){const e=n.mapValue.fields[rT];return Zm(e)?nf(e):e}function Oc(n){const e=la(n.mapValue.fields[iT].timestampValue);return new _n(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e,t,i,o,a,c,f,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=_}}const xd="(default)";class Lc{constructor(e,t){this.projectId=e,this.database=t||xd}static empty(){return new Lc("","")}get isDefaultDatabase(){return this.database===xd}isEqual(e){return e instanceof Lc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="__type__",zP="__max__",id={mapValue:{}},oT="__vector__",Nd="value";function ca(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Zm(n)?4:WP(n)?9007199254740991:HP(n)?10:11:$e()}function As(n,e){if(n===e)return!0;const t=ca(n);if(t!==ca(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Oc(n).isEqual(Oc(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=la(o.timestampValue),f=la(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return ua(o.bytesValue).isEqual(ua(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return en(o.geoPointValue.latitude)===en(a.geoPointValue.latitude)&&en(o.geoPointValue.longitude)===en(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return en(o.integerValue)===en(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=en(o.doubleValue),f=en(a.doubleValue);return c===f?bd(c)===bd(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return lu(n.arrayValue.values||[],e.arrayValue.values||[],As);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},f=a.mapValue.fields||{};if(pv(c)!==pv(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!As(c[p],f[p])))return!1;return!0}(n,e);default:return $e()}}function Mc(n,e){return(n.values||[]).find(t=>As(t,e))!==void 0}function uu(n,e){if(n===e)return 0;const t=ca(n),i=ca(e);if(t!==i)return ot(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ot(n.booleanValue,e.booleanValue);case 2:return function(a,c){const f=en(a.integerValue||a.doubleValue),p=en(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return gv(n.timestampValue,e.timestampValue);case 4:return gv(Oc(n),Oc(e));case 5:return ot(n.stringValue,e.stringValue);case 6:return function(a,c){const f=ua(a),p=ua(c);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const f=a.split("/"),p=c.split("/");for(let _=0;_<f.length&&_<p.length;_++){const T=ot(f[_],p[_]);if(T!==0)return T}return ot(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const f=ot(en(a.latitude),en(c.latitude));return f!==0?f:ot(en(a.longitude),en(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return yv(n.arrayValue,e.arrayValue);case 10:return function(a,c){var f,p,_,T;const A=a.fields||{},R=c.fields||{},O=(f=A[Nd])===null||f===void 0?void 0:f.arrayValue,U=(p=R[Nd])===null||p===void 0?void 0:p.arrayValue,Y=ot(((_=O==null?void 0:O.values)===null||_===void 0?void 0:_.length)||0,((T=U==null?void 0:U.values)===null||T===void 0?void 0:T.length)||0);return Y!==0?Y:yv(O,U)}(n.mapValue,e.mapValue);case 11:return function(a,c){if(a===id.mapValue&&c===id.mapValue)return 0;if(a===id.mapValue)return 1;if(c===id.mapValue)return-1;const f=a.fields||{},p=Object.keys(f),_=c.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let A=0;A<p.length&&A<T.length;++A){const R=ot(p[A],T[A]);if(R!==0)return R;const O=uu(f[p[A]],_[T[A]]);if(O!==0)return O}return ot(p.length,T.length)}(n.mapValue,e.mapValue);default:throw $e()}}function gv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ot(n,e);const t=la(n),i=la(e),o=ot(t.seconds,i.seconds);return o!==0?o:ot(t.nanos,i.nanos)}function yv(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=uu(t[o],i[o]);if(a)return a}return ot(t.length,i.length)}function cu(n){return sm(n)}function sm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=la(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ua(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Oe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=sm(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${sm(t.fields[c])}`;return o+"}"}(n.mapValue):$e()}function gd(n){switch(ca(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nf(n);return e?16+gd(e):16;case 5:return 2*n.stringValue.length;case 6:return ua(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+gd(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return ml(i.fields,(a,c)=>{o+=a.length+gd(c)}),o}(n.mapValue);default:throw $e()}}function _v(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function om(n){return!!n&&"integerValue"in n}function eg(n){return!!n&&"arrayValue"in n}function vv(n){return!!n&&"nullValue"in n}function wv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yd(n){return!!n&&"mapValue"in n}function HP(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[sT])===null||t===void 0?void 0:t.stringValue)===oT}function Ic(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ml(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ic(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ic(n.arrayValue.values[t]);return e}return Object.assign({},n)}function WP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===zP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.value=e}static empty(){return new Ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!yd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ic(t)}setAll(e){let t=Dn.emptyPath(),i={},o=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=f.popLast()}c?i[f.lastSegment()]=Ic(c):o.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());yd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return As(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];yd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){ml(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new Ii(Ic(this.value))}}function aT(n){const e=[];return ml(n.fields,(t,i)=>{const o=new Dn([t]);if(yd(i)){const a=aT(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)}),new Qi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,t,i,o,a,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Gn(e,0,He.min(),He.min(),He.min(),Ii.empty(),0)}static newFoundDocument(e,t,i,o){return new Gn(e,1,t,He.min(),i,o,0)}static newNoDocument(e,t){return new Gn(e,2,t,He.min(),He.min(),Ii.empty(),0)}static newUnknownDocument(e,t){return new Gn(e,3,t,He.min(),He.min(),Ii.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,t){this.position=e,this.inclusive=t}}function Ev(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?i=Oe.comparator(Oe.fromName(c.referenceValue),t.key):i=uu(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Tv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!As(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t="asc"){this.field=e,this.dir=t}}function qP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{}class cn extends lT{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new GP(e,t,i):t==="array-contains"?new XP(e,i):t==="in"?new JP(e,i):t==="not-in"?new ZP(e,i):t==="array-contains-any"?new eb(e,i):new cn(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new QP(e,i):new YP(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(uu(t,this.value)):t!==null&&ca(this.value)===ca(t)&&this.matchesComparison(uu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zi extends lT{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Zi(e,t)}matches(e){return uT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function uT(n){return n.op==="and"}function cT(n){return KP(n)&&uT(n)}function KP(n){for(const e of n.filters)if(e instanceof Zi)return!1;return!0}function am(n){if(n instanceof cn)return n.field.canonicalString()+n.op.toString()+cu(n.value);if(cT(n))return n.filters.map(e=>am(e)).join(",");{const e=n.filters.map(t=>am(t)).join(",");return`${n.op}(${e})`}}function hT(n,e){return n instanceof cn?function(i,o){return o instanceof cn&&i.op===o.op&&i.field.isEqual(o.field)&&As(i.value,o.value)}(n,e):n instanceof Zi?function(i,o){return o instanceof Zi&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,c,f)=>a&&hT(c,o.filters[f]),!0):!1}(n,e):void $e()}function dT(n){return n instanceof cn?function(t){return`${t.field.canonicalString()} ${t.op} ${cu(t.value)}`}(n):n instanceof Zi?function(t){return t.op.toString()+" {"+t.getFilters().map(dT).join(" ,")+"}"}(n):"Filter"}class GP extends cn{constructor(e,t,i){super(e,t,i),this.key=Oe.fromName(i.referenceValue)}matches(e){const t=Oe.comparator(e.key,this.key);return this.matchesComparison(t)}}class QP extends cn{constructor(e,t){super(e,"in",t),this.keys=fT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class YP extends cn{constructor(e,t){super(e,"not-in",t),this.keys=fT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function fT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Oe.fromName(i.referenceValue))}class XP extends cn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return eg(t)&&Mc(t.arrayValue,this.value)}}class JP extends cn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Mc(this.value.arrayValue,t)}}class ZP extends cn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Mc(this.value.arrayValue,t)}}class eb extends cn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!eg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Mc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,t=null,i=[],o=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=f,this.le=null}}function Iv(n,e=null,t=[],i=[],o=null,a=null,c=null){return new tb(n,e,t,i,o,a,c)}function tg(n){const e=qe(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>am(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),tf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>cu(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>cu(i)).join(",")),e.le=t}return e.le}function ng(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!qP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!hT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Tv(n.startAt,e.startAt)&&Tv(n.endAt,e.endAt)}function lm(n){return Oe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,t=null,i=[],o=[],a=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function nb(n,e,t,i,o,a,c,f){return new Tu(n,e,t,i,o,a,c,f)}function rg(n){return new Tu(n)}function Sv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function pT(n){return n.collectionGroup!==null}function Sc(n){const e=qe(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new vn(Dn.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(f=f.add(_.field))})}),f})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new Vc(a,i))}),t.has(Dn.keyField().canonicalString())||e.he.push(new Vc(Dn.keyField(),i))}return e.he}function Ts(n){const e=qe(n);return e.Pe||(e.Pe=rb(e,Sc(n))),e.Pe}function rb(n,e){if(n.limitType==="F")return Iv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Vc(o.field,a)});const t=n.endAt?new Dd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Dd(n.startAt.position,n.startAt.inclusive):null;return Iv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function um(n,e){const t=n.filters.concat([e]);return new Tu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function cm(n,e,t){return new Tu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function rf(n,e){return ng(Ts(n),Ts(e))&&n.limitType===e.limitType}function mT(n){return`${tg(Ts(n))}|lt:${n.limitType}`}function Xl(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>dT(o)).join(", ")}]`),tf(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>cu(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>cu(o)).join(",")),`Target(${i})`}(Ts(n))}; limitType=${n.limitType})`}function sf(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Oe.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of Sc(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,f,p){const _=Ev(c,f,p);return c.inclusive?_<=0:_<0}(i.startAt,Sc(i),o)||i.endAt&&!function(c,f,p){const _=Ev(c,f,p);return c.inclusive?_>=0:_>0}(i.endAt,Sc(i),o))}(n,e)}function ib(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gT(n){return(e,t)=>{let i=!1;for(const o of Sc(n)){const a=sb(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function sb(n,e,t){const i=n.field.isKeyField()?Oe.comparator(e.key,t.key):function(a,c,f){const p=c.data.field(a),_=f.data.field(a);return p!==null&&_!==null?uu(p,_):$e()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return $e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ml(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return ZE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=new Ht(Oe.comparator);function io(){return ob}const yT=new Ht(Oe.comparator);function _c(...n){let e=yT;for(const t of n)e=e.insert(t.key,t);return e}function _T(n){let e=yT;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function tl(){return Cc()}function vT(){return Cc()}function Cc(){return new gl(n=>n.toString(),(n,e)=>n.isEqual(e))}const ab=new Ht(Oe.comparator),lb=new vn(Oe.comparator);function it(...n){let e=lb;for(const t of n)e=e.add(t);return e}const ub=new vn(ot);function cb(){return ub}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bd(e)?"-0":e}}function wT(n){return{integerValue:""+n}}function hb(n,e){return FP(e)?wT(e):ig(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(){this._=void 0}}function db(n,e,t){return n instanceof Fc?function(o,a){const c={fields:{[nT]:{stringValue:tT},[iT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Zm(a)&&(a=nf(a)),a&&(c.fields[rT]=a),{mapValue:c}}(t,e):n instanceof jc?TT(n,e):n instanceof Uc?IT(n,e):function(o,a){const c=ET(o,a),f=Cv(c)+Cv(o.Ie);return om(c)&&om(o.Ie)?wT(f):ig(o.serializer,f)}(n,e)}function fb(n,e,t){return n instanceof jc?TT(n,e):n instanceof Uc?IT(n,e):t}function ET(n,e){return n instanceof Od?function(i){return om(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Fc extends of{}class jc extends of{constructor(e){super(),this.elements=e}}function TT(n,e){const t=ST(e);for(const i of n.elements)t.some(o=>As(o,i))||t.push(i);return{arrayValue:{values:t}}}class Uc extends of{constructor(e){super(),this.elements=e}}function IT(n,e){let t=ST(e);for(const i of n.elements)t=t.filter(o=>!As(o,i));return{arrayValue:{values:t}}}class Od extends of{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Cv(n){return en(n.integerValue||n.doubleValue)}function ST(n){return eg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,t){this.field=e,this.transform=t}}function mb(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof jc&&o instanceof jc||i instanceof Uc&&o instanceof Uc?lu(i.elements,o.elements,As):i instanceof Od&&o instanceof Od?As(i.Ie,o.Ie):i instanceof Fc&&o instanceof Fc}(n.transform,e.transform)}class gb{constructor(e,t){this.version=e,this.transformResults=t}}class Yi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yi}static exists(e){return new Yi(void 0,e)}static updateTime(e){return new Yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _d(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class af{}function CT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new sg(n.key,Yi.none()):new Qc(n.key,n.data,Yi.none());{const t=n.data,i=Ii.empty();let o=new vn(Dn.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new yl(n.key,i,new Qi(o.toArray()),Yi.none())}}function yb(n,e,t){n instanceof Qc?function(o,a,c){const f=o.value.clone(),p=Rv(o.fieldTransforms,a,c.transformResults);f.setAll(p),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof yl?function(o,a,c){if(!_d(o.precondition,a))return void a.convertToUnknownDocument(c.version);const f=Rv(o.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(AT(o)),p.setAll(f),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Ac(n,e,t,i){return n instanceof Qc?function(a,c,f,p){if(!_d(a.precondition,c))return f;const _=a.value.clone(),T=kv(a.fieldTransforms,p,c);return _.setAll(T),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof yl?function(a,c,f,p){if(!_d(a.precondition,c))return f;const _=kv(a.fieldTransforms,p,c),T=c.data;return T.setAll(AT(a)),T.setAll(_),c.convertToFoundDocument(c.version,T).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(A=>A.field))}(n,e,t,i):function(a,c,f){return _d(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(n,e,t)}function _b(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=ET(i.transform,o||null);a!=null&&(t===null&&(t=Ii.empty()),t.set(i.field,a))}return t||null}function Av(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&lu(i,o,(a,c)=>mb(a,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Qc extends af{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class yl extends af{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function AT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Rv(n,e,t){const i=new Map;Et(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,f=e.data.field(a.field);i.set(a.field,fb(c,f,t[o]))}return i}function kv(n,e,t){const i=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);i.set(o.field,db(a,c,e))}return i}class sg extends af{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vb extends af{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&yb(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ac(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ac(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=vT();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let f=this.applyToLocalView(c,a.mutatedFields);f=t.has(o.key)?null:f;const p=CT(c,f);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(He.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),it())}isEqual(e){return this.batchId===e.batchId&&lu(this.mutations,e.mutations,(t,i)=>Av(t,i))&&lu(this.baseMutations,e.baseMutations,(t,i)=>Av(t,i))}}class og{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Et(e.mutations.length===i.length);let o=function(){return ab}();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new og(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un,ut;function Ib(n){switch(n){case ie.OK:return $e();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return $e()}}function RT(n){if(n===void 0)return ro("GRPC error has no .code"),ie.UNKNOWN;switch(n){case un.OK:return ie.OK;case un.CANCELLED:return ie.CANCELLED;case un.UNKNOWN:return ie.UNKNOWN;case un.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case un.INTERNAL:return ie.INTERNAL;case un.UNAVAILABLE:return ie.UNAVAILABLE;case un.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case un.NOT_FOUND:return ie.NOT_FOUND;case un.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case un.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case un.ABORTED:return ie.ABORTED;case un.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case un.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case un.DATA_LOSS:return ie.DATA_LOSS;default:return $e()}}(ut=un||(un={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=new ra([4294967295,4294967295],0);function Pv(n){const e=Sb().encode(n),t=new HE;return t.update(e),new Uint8Array(t.digest())}function bv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ra([t,i],0),new ra([o,a],0)]}class ag{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new vc(`Invalid padding: ${t}`);if(i<0)throw new vc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new vc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new vc(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ra.fromNumber(this.Ee)}Ae(e,t,i){let o=e.add(t.multiply(ra.fromNumber(i)));return o.compare(Cb)===1&&(o=new ra([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Pv(e),[i,o]=bv(t);for(let a=0;a<this.hashCount;a++){const c=this.Ae(i,o,a);if(!this.Re(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new ag(a,o,t);return i.forEach(f=>c.insert(f)),c}insert(e){if(this.Ee===0)return;const t=Pv(e),[i,o]=bv(t);for(let a=0;a<this.hashCount;a++){const c=this.Ae(i,o,a);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class vc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Yc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new lf(He.min(),o,new Ht(ot),io(),it())}}class Yc{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Yc(i,t,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,t,i,o){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=o}}class kT{constructor(e,t){this.targetId=e,this.ge=t}}class PT{constructor(e,t,i=Ln.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class xv{constructor(){this.pe=0,this.ye=Nv(),this.we=Ln.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=it(),t=it(),i=it();return this.ye.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:$e()}}),new Yc(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=Nv()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Et(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Ab{constructor(e){this.ke=e,this.qe=new Map,this.Qe=io(),this.$e=sd(),this.Ke=sd(),this.Ue=new Ht(ot)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:$e()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,i=e.ge.count,o=this.Xe(t);if(o){const a=o.target;if(lm(a))if(i===0){const c=new Oe(a.path);this.ze(t,c,Gn.newNoDocument(c,He.min()))}else Et(i===1);else{const c=this.et(t);if(c!==i){const f=this.tt(e),p=f?this.nt(f,e,c):1;if(p!==0){this.Ye(t);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,_)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let c,f;try{c=ua(i).toUint8Array()}catch(p){if(p instanceof eT)return au("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new ag(c,o,a)}catch(p){return au(p instanceof vc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Ee===0?null:f}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const c=this.ke.it(),f=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.ze(t,a,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((a,c)=>{const f=this.Xe(c);if(f){if(a.current&&lm(f.target)){const p=new Oe(f.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,Gn.newNoDocument(p,e))}a.ve&&(t.set(c,a.Fe()),a.Me())}});let i=it();this.Ke.forEach((a,c)=>{let f=!0;c.forEachWhile(p=>{const _=this.Xe(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(a))}),this.Qe.forEach((a,c)=>c.setReadTime(e));const o=new lf(e,t,this.Ue,this.Qe,i);return this.Qe=io(),this.$e=sd(),this.Ke=sd(),this.Ue=new Ht(ot),o}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new xv,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new vn(ot),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new vn(ot),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||Te("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new xv),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function sd(){return new Ht(Oe.comparator)}function Nv(){return new Ht(Oe.comparator)}const Rb={asc:"ASCENDING",desc:"DESCENDING"},kb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pb={and:"AND",or:"OR"};class bb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hm(n,e){return n.useProto3Json||tf(e)?e:{value:e}}function Ld(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function xb(n,e){return Ld(n,e.toTimestamp())}function Is(n){return Et(!!n),He.fromTimestamp(function(t){const i=la(t);return new _n(i.seconds,i.nanos)}(n))}function lg(n,e){return dm(n,e).canonicalString()}function dm(n,e){const t=function(o){return new Vt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function xT(n){const e=Vt.fromString(n);return Et(MT(e)),e}function fm(n,e){return lg(n.databaseId,e.path)}function Np(n,e){const t=xT(e);if(t.get(1)!==n.databaseId.projectId)throw new Ce(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ce(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Oe(DT(t))}function NT(n,e){return lg(n.databaseId,e)}function Nb(n){const e=xT(n);return e.length===4?Vt.emptyPath():DT(e)}function pm(n){return new Vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function DT(n){return Et(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Dv(n,e,t){return{name:fm(n,e),fields:t.value.mapValue.fields}}function Db(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:$e()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(_,T){return _.useProto3Json?(Et(T===void 0||typeof T=="string"),Ln.fromBase64String(T||"")):(Et(T===void 0||T instanceof Buffer||T instanceof Uint8Array),Ln.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(_){const T=_.code===void 0?ie.UNKNOWN:RT(_.code);return new Ce(T,_.message||"")}(c);t=new PT(i,o,a,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Np(n,i.document.name),a=Is(i.document.updateTime),c=i.document.createTime?Is(i.document.createTime):He.min(),f=new Ii({mapValue:{fields:i.document.fields}}),p=Gn.newFoundDocument(o,a,c,f),_=i.targetIds||[],T=i.removedTargetIds||[];t=new vd(_,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Np(n,i.document),a=i.readTime?Is(i.readTime):He.min(),c=Gn.newNoDocument(o,a),f=i.removedTargetIds||[];t=new vd([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Np(n,i.document),a=i.removedTargetIds||[];t=new vd([],a,o,null)}else{if(!("filter"in e))return $e();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new Tb(o,a),f=i.targetId;t=new kT(f,c)}}return t}function Ob(n,e){let t;if(e instanceof Qc)t={update:Dv(n,e.key,e.value)};else if(e instanceof sg)t={delete:fm(n,e.key)};else if(e instanceof yl)t={update:Dv(n,e.key,e.data),updateMask:zb(e.fieldMask)};else{if(!(e instanceof vb))return $e();t={verify:fm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,c){const f=c.transform;if(f instanceof Fc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof jc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Uc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Od)return{fieldPath:c.field.canonicalString(),increment:f.Ie};throw $e()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:xb(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:$e()}(n,e.precondition)),t}function Lb(n,e){return n&&n.length>0?(Et(e!==void 0),n.map(t=>function(o,a){let c=o.updateTime?Is(o.updateTime):Is(a);return c.isEqual(He.min())&&(c=Is(a)),new gb(c,o.transformResults||[])}(t,e))):[]}function Mb(n,e){return{documents:[NT(n,e.path)]}}function Vb(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=NT(n,o);const a=function(_){if(_.length!==0)return LT(Zi.create(_,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(_){if(_.length!==0)return _.map(T=>function(R){return{field:Jl(R.field),direction:Ub(R.dir)}}(T))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=hm(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ht:t,parent:o}}function Fb(n){let e=Nb(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Et(i===1);const T=t.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let a=[];t.where&&(a=function(A){const R=OT(A);return R instanceof Zi&&cT(R)?R.getFilters():[R]}(t.where));let c=[];t.orderBy&&(c=function(A){return A.map(R=>function(U){return new Vc(Zl(U.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(R))}(t.orderBy));let f=null;t.limit&&(f=function(A){let R;return R=typeof A=="object"?A.value:A,tf(R)?null:R}(t.limit));let p=null;t.startAt&&(p=function(A){const R=!!A.before,O=A.values||[];return new Dd(O,R)}(t.startAt));let _=null;return t.endAt&&(_=function(A){const R=!A.before,O=A.values||[];return new Dd(O,R)}(t.endAt)),nb(e,o,c,a,f,"F",p,_)}function jb(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function OT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Zl(t.unaryFilter.field);return cn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Zl(t.unaryFilter.field);return cn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Zl(t.unaryFilter.field);return cn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Zl(t.unaryFilter.field);return cn.create(c,"!=",{nullValue:"NULL_VALUE"});default:return $e()}}(n):n.fieldFilter!==void 0?function(t){return cn.create(Zl(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $e()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Zi.create(t.compositeFilter.filters.map(i=>OT(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return $e()}}(t.compositeFilter.op))}(n):$e()}function Ub(n){return Rb[n]}function $b(n){return kb[n]}function Bb(n){return Pb[n]}function Jl(n){return{fieldPath:n.canonicalString()}}function Zl(n){return Dn.fromServerFormat(n.fieldPath)}function LT(n){return n instanceof cn?function(t){if(t.op==="=="){if(wv(t.value))return{unaryFilter:{field:Jl(t.field),op:"IS_NAN"}};if(vv(t.value))return{unaryFilter:{field:Jl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(wv(t.value))return{unaryFilter:{field:Jl(t.field),op:"IS_NOT_NAN"}};if(vv(t.value))return{unaryFilter:{field:Jl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jl(t.field),op:$b(t.op),value:t.value}}}(n):n instanceof Zi?function(t){const i=t.getFilters().map(o=>LT(o));return i.length===1?i[0]:{compositeFilter:{op:Bb(t.op),filters:i}}}(n):$e()}function zb(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function MT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,t,i,o,a=He.min(),c=He.min(),f=Ln.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new ea(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e){this.Tt=e}}function Wb(n){const e=Fb({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?cm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(){this.Tn=new Kb}addToCollectionParentIndex(e,t){return this.Tn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(aa.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(aa.min())}updateCollectionGroup(e,t,i){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class Kb{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new vn(Vt.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new vn(Vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VT=41943040;class br{static withCacheSize(e){return new br(e,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */br.DEFAULT_COLLECTION_PERCENTILE=10,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,br.DEFAULT=new br(VT,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),br.DISABLED=new br(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new hu(0)}static Un(){return new hu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="LruGarbageCollector",Gb=1048576;function Mv([n,e],[t,i]){const o=ot(n,t);return o===0?ot(e,i):o}class Qb{constructor(e){this.Hn=e,this.buffer=new vn(Mv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Mv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Yb{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Te(Lv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Eu(t)?Te(Lv,"Ignoring IndexedDB error during garbage collection: ",t):await wu(t)}await this.er(3e5)})}}class Xb{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return re.resolve(ef.ae);const i=new Qb(t);return this.tr.forEachTarget(e,o=>i.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>i.Zn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(Ov)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ov):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,o,a,c,f,p,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,c=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(i=A,f=Date.now(),this.removeTargets(e,i,t))).next(A=>(a=A,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(A=>(_=Date.now(),Yl()<=rt.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-T}ms
	Determined least recently used ${o} in `+(f-c)+`ms
	Removed ${a} targets in `+(p-f)+`ms
	Removed ${A} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:A})))}}function Jb(n,e){return new Xb(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(){this.changes=new gl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?re.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Ac(i.mutation,o,Qi.empty(),_n.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,it()).next(()=>i))}getLocalViewOfDocuments(e,t,i=it()){const o=tl();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let c=_c();return a.forEach((f,p)=>{c=c.insert(f,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=tl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,it()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,i,o){let a=io();const c=Cc(),f=function(){return Cc()}();return t.forEach((p,_)=>{const T=i.get(_.key);o.has(_.key)&&(T===void 0||T.mutation instanceof yl)?a=a.insert(_.key,_):T!==void 0?(c.set(_.key,T.mutation.getFieldMask()),Ac(T.mutation,_,T.mutation.getFieldMask(),_n.now())):c.set(_.key,Qi.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((_,T)=>c.set(_,T)),t.forEach((_,T)=>{var A;return f.set(_,new ex(T,(A=c.get(_))!==null&&A!==void 0?A:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Cc();let o=new Ht((c,f)=>c-f),a=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(p=>{const _=t.get(p);if(_===null)return;let T=i.get(p)||Qi.empty();T=f.applyToLocalView(_,T),i.set(p,T);const A=(o.get(f.batchId)||it()).add(p);o=o.insert(f.batchId,A)})}).next(()=>{const c=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),_=p.key,T=p.value,A=vT();T.forEach(R=>{if(!a.has(R)){const O=CT(t.get(R),i.get(R));O!==null&&A.set(R,O),a=a.add(R)}}),c.push(this.documentOverlayCache.saveOverlays(e,_,A))}return re.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return Oe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):pT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):re.resolve(tl());let f=Dc,p=a;return c.next(_=>re.forEach(_,(T,A)=>(f<A.largestBatchId&&(f=A.largestBatchId),a.get(T)?re.resolve():this.remoteDocumentCache.getEntry(e,T).next(R=>{p=p.insert(T,R)}))).next(()=>this.populateOverlays(e,_,a)).next(()=>this.computeViews(e,p,_,it())).next(T=>({batchId:f,changes:_T(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Oe(t)).next(i=>{let o=_c();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let c=_c();return this.indexManager.getCollectionParents(e,a).next(f=>re.forEach(f,p=>{const _=function(A,R){return new Tu(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,_,i,o).next(T=>{T.forEach((A,R)=>{c=c.insert(A,R)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(c=>{a.forEach((p,_)=>{const T=_.getKey();c.get(T)===null&&(c=c.insert(T,Gn.newInvalidDocument(T)))});let f=_c();return c.forEach((p,_)=>{const T=a.get(p);T!==void 0&&Ac(T.mutation,_,Qi.empty(),_n.now()),sf(t,_)&&(f=f.insert(p,_))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return re.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Is(o.createTime)}}(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:Wb(o.bundledQuery),readTime:Is(o.readTime)}}(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this.overlays=new Ht(Oe.comparator),this.Rr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const i=tl();return re.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.Et(e,t,a)}),re.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Rr.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(i)),re.resolve()}getOverlaysForCollection(e,t,i){const o=tl(),a=t.length+1,c=new Oe(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,_=p.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===a&&p.largestBatchId>i&&o.set(p.getKey(),p)}return re.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new Ht((_,T)=>_-T);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>i){let T=a.get(_.largestBatchId);T===null&&(T=tl(),a=a.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const f=tl(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,T)=>f.set(_,T)),!(f.size()>=o)););return re.resolve(f)}Et(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Rr.get(o.largestBatchId).delete(i.key);this.Rr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Eb(t,i));let a=this.Rr.get(t);a===void 0&&(a=it(),this.Rr.set(t,a)),this.Rr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(){this.sessionToken=Ln.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(){this.Vr=new vn(Cn.mr),this.gr=new vn(Cn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Cn(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Cn(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new Oe(new Vt([])),i=new Cn(t,e),o=new Cn(t,e+1),a=[];return this.gr.forEachInRange([i,o],c=>{this.wr(c),a.push(c.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Oe(new Vt([])),i=new Cn(t,e),o=new Cn(t,e+1);let a=it();return this.gr.forEachInRange([i,o],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Cn(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Cn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Oe.comparator(e.key,t.key)||ot(e.Cr,t.Cr)}static pr(e,t){return ot(e.Cr,t.Cr)||Oe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new vn(Cn.mr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new wb(a,t,i,o);this.mutationQueue.push(c);for(const f of o)this.Mr=this.Mr.add(new Cn(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return re.resolve(c)}lookupMutationBatch(e,t){return re.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Nr(i),a=o<0?0:o;return re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Jm:this.Fr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Cn(t,0),o=new Cn(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([i,o],c=>{const f=this.Or(c.Cr);a.push(f)}),re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new vn(ot);return t.forEach(o=>{const a=new Cn(o,0),c=new Cn(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,c],f=>{i=i.add(f.Cr)})}),re.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;Oe.isDocumentKey(a)||(a=a.child(""));const c=new Cn(new Oe(a),0);let f=new vn(ot);return this.Mr.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===o&&(f=f.add(p.Cr)),!0)},c),re.resolve(this.Br(f))}Br(e){const t=[];return e.forEach(i=>{const o=this.Or(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Et(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return re.forEach(t.mutations,o=>{const a=new Cn(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Cn(t,0),o=this.Mr.firstAfterOrEqual(i);return re.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.kr=e,this.docs=function(){return new Ht(Oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,c=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return re.resolve(i?i.document.mutableCopy():Gn.newInvalidDocument(t))}getEntries(e,t){let i=io();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Gn.newInvalidDocument(o))}),re.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=io();const c=t.path,f=new Oe(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!c.isPrefixOf(_.path))break;_.path.length>c.length+1||OP(DP(T),i)<=0||(o.has(T.key)||sf(t,T))&&(a=a.insert(T.key,T.mutableCopy()))}return re.resolve(a)}getAllFromCollectionGroup(e,t,i,o){$e()}qr(e,t){return re.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new ax(this)}getSize(e){return re.resolve(this.size)}}class ax extends Zb{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(i)}),re.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.persistence=e,this.Qr=new gl(t=>tg(t),ng),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.$r=0,this.Kr=new ug,this.targetCount=0,this.Ur=hu.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,o)=>t(o)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),re.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new hu(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.zn(t),re.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Qr.forEach((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Qr.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),re.waitFor(a).next(()=>o)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return re.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),re.resolve()}removeMatchingKeys(e,t,i){this.Kr.Sr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),re.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),re.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return re.resolve(i)}containsKey(e,t){return re.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new ef(0),this.zr=!1,this.zr=!0,this.jr=new ix,this.referenceDelegate=e(this),this.Hr=new lx(this),this.indexManager=new qb,this.remoteDocumentCache=function(o){return new ox(o)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new Hb(t),this.Yr=new nx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new rx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new sx(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){Te("MemoryPersistence","Starting transaction:",e);const o=new ux(this.Gr.next());return this.referenceDelegate.Zr(),i(o).next(a=>this.referenceDelegate.Xr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}ei(e,t){return re.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class ux extends MP{constructor(e){super(),this.currentSequenceNumber=e}}class cg{constructor(e){this.persistence=e,this.ti=new ug,this.ni=null}static ri(e){return new cg(e)}get ii(){if(this.ni)return this.ni;throw $e()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),re.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),re.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ii.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.ii,i=>{const o=Oe.fromPath(i);return this.si(e,o).next(a=>{a||t.removeEntry(o,He.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return re.or([()=>re.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Md{constructor(e,t){this.persistence=e,this.oi=new gl(i=>jP(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=Jb(this,t)}static ri(e,t){return new Md(e,t)}Zr(){}Xr(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return re.forEach(this.oi,(i,o)=>this.ar(e,i,o).next(a=>a?re.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.qr(e,c=>this.ar(e,c,t).next(f=>{f||(i++,a.removeEntry(c,He.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),re.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),re.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=gd(e.data.value)),t}ar(e,t,i){return re.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return re.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=o}static Yi(e,t){let i=it(),o=it();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new hg(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return qC()?8:VP(Qn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.rs(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.ss(e,t,o,i).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new cx;return this._s(e,t,c).next(f=>{if(a.result=f,this.Xi)return this.us(e,t,c,f.size)})}).next(()=>a.result)}us(e,t,i,o){return i.documentReadCount<this.es?(Yl()<=rt.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Xl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),re.resolve()):(Yl()<=rt.DEBUG&&Te("QueryEngine","Query:",Xl(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ts*o?(Yl()<=rt.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Xl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ts(t))):re.resolve())}rs(e,t){if(Sv(t))return re.resolve(null);let i=Ts(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=cm(t,null,"F"),i=Ts(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=it(...a);return this.ns.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const _=this.cs(t,f);return this.ls(t,_,c,p.readTime)?this.rs(e,cm(t,null,"F")):this.hs(e,_,t,p)}))})))}ss(e,t,i,o){return Sv(t)||o.isEqual(He.min())?re.resolve(null):this.ns.getDocuments(e,i).next(a=>{const c=this.cs(t,a);return this.ls(t,c,i,o)?re.resolve(null):(Yl()<=rt.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Xl(t)),this.hs(e,c,t,NP(o,Dc)).next(f=>f))})}cs(e,t){let i=new vn(gT(e));return t.forEach((o,a)=>{sf(e,a)&&(i=i.add(a))}),i}ls(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}_s(e,t,i){return Yl()<=rt.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Xl(t)),this.ns.getDocumentsMatchingQuery(e,t,aa.min(),i)}hs(e,t,i,o){return this.ns.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="LocalStore",dx=3e8;class fx{constructor(e,t,i,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new Ht(ot),this.Is=new gl(a=>tg(a),ng),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tx(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function px(n,e,t,i){return new fx(n,e,t,i)}async function jT(n,e){const t=qe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],f=[];let p=it();for(const _ of o){c.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of a){f.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return t.localDocuments.getDocuments(i,p).next(_=>({Rs:_,removedBatchIds:c,addedBatchIds:f}))})})}function mx(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(f,p,_,T){const A=_.batch,R=A.keys();let O=re.resolve();return R.forEach(U=>{O=O.next(()=>T.getEntry(p,U)).next(Y=>{const H=_.docVersions.get(U);Et(H!==null),Y.version.compareTo(H)<0&&(A.applyToRemoteDocument(Y,_),Y.isValidDocument()&&(Y.setReadTime(_.commitVersion),T.addEntry(Y)))})}),O.next(()=>f.mutationQueue.removeMutationBatch(p,A))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=it();for(let _=0;_<f.mutationResults.length;++_)f.mutationResults[_].transformResults.length>0&&(p=p.add(f.batch.mutations[_].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function UT(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function gx(n,e){const t=qe(n),i=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const f=[];e.targetChanges.forEach((T,A)=>{const R=o.get(A);if(!R)return;f.push(t.Hr.removeMatchingKeys(a,T.removedDocuments,A).next(()=>t.Hr.addMatchingKeys(a,T.addedDocuments,A)));let O=R.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(A)!==null?O=O.withResumeToken(Ln.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):T.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(T.resumeToken,i)),o=o.insert(A,O),function(Y,H,ee){return Y.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=dx?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0}(R,O,T)&&f.push(t.Hr.updateTargetData(a,O))});let p=io(),_=it();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,T))}),f.push(yx(a,c,e.documentUpdates).next(T=>{p=T.Vs,_=T.fs})),!i.isEqual(He.min())){const T=t.Hr.getLastRemoteSnapshotVersion(a).next(A=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(T)}return re.waitFor(f).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,p,_)).next(()=>p)}).then(a=>(t.Ts=o,a))}function yx(n,e,t){let i=it(),o=it();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=io();return t.forEach((f,p)=>{const _=a.get(f);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(He.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):Te(dg,"Ignoring outdated watch update for ",f,". Current version:",_.version," Watch version:",p.version)}),{Vs:c,fs:o}})}function _x(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Jm),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function vx(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Hr.getTargetData(i,e).next(a=>a?(o=a,re.resolve(o)):t.Hr.allocateTargetId(i).next(c=>(o=new ea(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ts.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function mm(n,e,t){const i=qe(n),o=i.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Eu(c))throw c;Te(dg,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(o.target)}function Vv(n,e,t){const i=qe(n);let o=He.min(),a=it();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,_,T){const A=qe(p),R=A.Is.get(T);return R!==void 0?re.resolve(A.Ts.get(R)):A.Hr.getTargetData(_,T)}(i,c,Ts(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,f.targetId).next(p=>{a=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,t?o:He.min(),t?a:it())).next(f=>(wx(i,ib(e),f),{documents:f,gs:a})))}function wx(n,e,t){let i=n.Es.get(e)||He.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Es.set(e,i)}class Fv{constructor(){this.activeTargetIds=cb()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ex{constructor(){this.ho=new Fv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Fv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="ConnectivityMonitor";class Uv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Te(jv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Te(jv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let od=null;function gm(){return od===null?od=function(){return 268435456+Math.round(2147483648*Math.random())}():od++,"0x"+od.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="RestConnection",Ix={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Sx{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database===xd?`project_id=${i}`:`project_id=${i}&database_id=${o}`}So(e,t,i,o,a){const c=gm(),f=this.bo(e,t.toUriEncodedString());Te(Dp,`Sending RPC '${e}' ${c}:`,f,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,a),this.vo(e,f,p,i).then(_=>(Te(Dp,`Received RPC '${e}' ${c}: `,_),_),_=>{throw au(Dp,`RPC '${e}' ${c} failed with error: `,_,"url: ",f,"request:",i),_})}Co(e,t,i,o,a,c){return this.So(e,t,i,o,a)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),i&&i.headers.forEach((o,a)=>e[a]=o)}bo(e,t){const i=Ix[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="WebChannelConnection";class Ax extends Sx{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,o){const a=gm();return new Promise((c,f)=>{const p=new WE;p.setWithCredentials(!0),p.listenOnce(qE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case md.NO_ERROR:const T=p.getResponseJson();Te(qn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(T)),c(T);break;case md.TIMEOUT:Te(qn,`RPC '${e}' ${a} timed out`),f(new Ce(ie.DEADLINE_EXCEEDED,"Request time out"));break;case md.HTTP_ERROR:const A=p.getStatus();if(Te(qn,`RPC '${e}' ${a} failed with status:`,A,"response text:",p.getResponseText()),A>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const O=R==null?void 0:R.error;if(O&&O.status&&O.message){const U=function(H){const ee=H.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(ee)>=0?ee:ie.UNKNOWN}(O.status);f(new Ce(U,O.message))}else f(new Ce(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Ce(ie.UNAVAILABLE,"Connection failed."));break;default:$e()}}finally{Te(qn,`RPC '${e}' ${a} completed.`)}});const _=JSON.stringify(o);Te(qn,`RPC '${e}' ${a} sending request:`,o),p.send(t,"POST",_,i,15)})}Wo(e,t,i){const o=gm(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=QE(),f=GE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const T=a.join("");Te(qn,`Creating RPC '${e}' stream ${o}: ${T}`,p);const A=c.createWebChannel(T,p);let R=!1,O=!1;const U=new Cx({Fo:H=>{O?Te(qn,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(R||(Te(qn,`Opening RPC '${e}' stream ${o} transport.`),A.open(),R=!0),Te(qn,`RPC '${e}' stream ${o} sending:`,H),A.send(H))},Mo:()=>A.close()}),Y=(H,ee,le)=>{H.listen(ee,se=>{try{le(se)}catch(ye){setTimeout(()=>{throw ye},0)}})};return Y(A,yc.EventType.OPEN,()=>{O||(Te(qn,`RPC '${e}' stream ${o} transport opened.`),U.Qo())}),Y(A,yc.EventType.CLOSE,()=>{O||(O=!0,Te(qn,`RPC '${e}' stream ${o} transport closed`),U.Ko())}),Y(A,yc.EventType.ERROR,H=>{O||(O=!0,au(qn,`RPC '${e}' stream ${o} transport errored:`,H),U.Ko(new Ce(ie.UNAVAILABLE,"The operation could not be completed")))}),Y(A,yc.EventType.MESSAGE,H=>{var ee;if(!O){const le=H.data[0];Et(!!le);const se=le,ye=(se==null?void 0:se.error)||((ee=se[0])===null||ee===void 0?void 0:ee.error);if(ye){Te(qn,`RPC '${e}' stream ${o} received error:`,ye);const Le=ye.status;let Ae=function(b){const L=un[b];if(L!==void 0)return RT(L)}(Le),M=ye.message;Ae===void 0&&(Ae=ie.INTERNAL,M="Unknown error status: "+Le+" with message "+ye.message),O=!0,U.Ko(new Ce(Ae,M)),A.close()}else Te(qn,`RPC '${e}' stream ${o} received:`,le),U.Uo(le)}}),Y(f,KE.STAT_EVENT,H=>{H.stat===im.PROXY?Te(qn,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===im.NOPROXY&&Te(qn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.$o()},0),U}}function Op(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(n){return new bb(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,t,i=1e3,o=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=o,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-i);o>0&&Te("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="PersistentStream";class BT{constructor(e,t,i,o,a,c,f,p){this.Ti=e,this.n_=i,this.r_=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new $T(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(ro(t.toString()),ro("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.i_===t&&this.V_(i,o)},i=>{e(()=>{const o=new Ce(ie.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(o)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{i(()=>this.m_(o))}),this.stream.onMessage(o=>{i(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Te($v,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(Te($v,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Rx extends BT{constructor(e,t,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Db(this.serializer,e),i=function(a){if(!("targetChange"in a))return He.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?He.min():c.readTime?Is(c.readTime):He.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=pm(this.serializer),t.addTarget=function(a,c){let f;const p=c.target;if(f=lm(p)?{documents:Mb(a,p)}:{query:Vb(a,p).ht},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=bT(a,c.resumeToken);const _=hm(a,c.expectedCount);_!==null&&(f.expectedCount=_)}else if(c.snapshotVersion.compareTo(He.min())>0){f.readTime=Ld(a,c.snapshotVersion.toTimestamp());const _=hm(a,c.expectedCount);_!==null&&(f.expectedCount=_)}return f}(this.serializer,e);const i=jb(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=pm(this.serializer),t.removeTarget=e,this.I_(t)}}class kx extends BT{constructor(e,t,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Et(!!e.streamToken),this.lastStreamToken=e.streamToken,Et(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=Lb(e.writeResults,e.commitTime),i=Is(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=pm(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Ob(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{}class bx extends Px{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new Ce(ie.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.So(e,dm(t,i),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ce(ie.UNKNOWN,a.toString())})}Co(e,t,i,o,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Co(e,dm(t,i),o,c,f,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ce(ie.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class xx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ro(t),this.N_=!1):Te("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll="RemoteStore";class Nx{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(c=>{i.enqueueAndForget(async()=>{_l(this)&&(Te(ll,"Restarting streams for network reachability change."),await async function(p){const _=qe(p);_.W_.add(4),await Xc(_),_.j_.set("Unknown"),_.W_.delete(4),await cf(_)}(this))})}),this.j_=new xx(i,o)}}async function cf(n){if(_l(n))for(const e of n.G_)await e(!0)}async function Xc(n){for(const e of n.G_)await e(!1)}function zT(n,e){const t=qe(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),gg(t)?mg(t):Iu(t).c_()&&pg(t,e))}function fg(n,e){const t=qe(n),i=Iu(t);t.U_.delete(e),i.c_()&&HT(t,e),t.U_.size===0&&(i.c_()?i.P_():_l(t)&&t.j_.set("Unknown"))}function pg(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Iu(n).y_(e)}function HT(n,e){n.H_.Ne(e),Iu(n).w_(e)}function mg(n){n.H_=new Ab({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Iu(n).start(),n.j_.B_()}function gg(n){return _l(n)&&!Iu(n).u_()&&n.U_.size>0}function _l(n){return qe(n).W_.size===0}function WT(n){n.H_=void 0}async function Dx(n){n.j_.set("Online")}async function Ox(n){n.U_.forEach((e,t)=>{pg(n,e)})}async function Lx(n,e){WT(n),gg(n)?(n.j_.q_(e),mg(n)):n.j_.set("Unknown")}async function Mx(n,e,t){if(n.j_.set("Online"),e instanceof PT&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const f of a.targetIds)o.U_.has(f)&&(await o.remoteSyncer.rejectListen(f,c),o.U_.delete(f),o.H_.removeTarget(f))}(n,e)}catch(i){Te(ll,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Vd(n,i)}else if(e instanceof vd?n.H_.We(e):e instanceof kT?n.H_.Ze(e):n.H_.je(e),!t.isEqual(He.min()))try{const i=await UT(n.localStore);t.compareTo(i)>=0&&await function(a,c){const f=a.H_.ot(c);return f.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=a.U_.get(_);T&&a.U_.set(_,T.withResumeToken(p.resumeToken,c))}}),f.targetMismatches.forEach((p,_)=>{const T=a.U_.get(p);if(!T)return;a.U_.set(p,T.withResumeToken(Ln.EMPTY_BYTE_STRING,T.snapshotVersion)),HT(a,p);const A=new ea(T.target,p,_,T.sequenceNumber);pg(a,A)}),a.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){Te(ll,"Failed to raise snapshot:",i),await Vd(n,i)}}async function Vd(n,e,t){if(!Eu(e))throw e;n.W_.add(1),await Xc(n),n.j_.set("Offline"),t||(t=()=>UT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Te(ll,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await cf(n)})}function qT(n,e){return e().catch(t=>Vd(n,t,e))}async function hf(n){const e=qe(n),t=ha(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:Jm;for(;Vx(e);)try{const o=await _x(e.localStore,i);if(o===null){e.K_.length===0&&t.P_();break}i=o.batchId,Fx(e,o)}catch(o){await Vd(e,o)}KT(e)&&GT(e)}function Vx(n){return _l(n)&&n.K_.length<10}function Fx(n,e){n.K_.push(e);const t=ha(n);t.c_()&&t.S_&&t.b_(e.mutations)}function KT(n){return _l(n)&&!ha(n).u_()&&n.K_.length>0}function GT(n){ha(n).start()}async function jx(n){ha(n).C_()}async function Ux(n){const e=ha(n);for(const t of n.K_)e.b_(t.mutations)}async function $x(n,e,t){const i=n.K_.shift(),o=og.from(i,e,t);await qT(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await hf(n)}async function Bx(n,e){e&&ha(n).S_&&await async function(i,o){if(function(c){return Ib(c)&&c!==ie.ABORTED}(o.code)){const a=i.K_.shift();ha(i).h_(),await qT(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await hf(i)}}(n,e),KT(n)&&GT(n)}async function Bv(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),Te(ll,"RemoteStore received new credentials");const i=_l(t);t.W_.add(3),await Xc(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await cf(t)}async function zx(n,e){const t=qe(n);e?(t.W_.delete(2),await cf(t)):e||(t.W_.add(2),await Xc(t),t.j_.set("Unknown"))}function Iu(n){return n.J_||(n.J_=function(t,i,o){const a=qe(t);return a.M_(),new Rx(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:Dx.bind(null,n),No:Ox.bind(null,n),Lo:Lx.bind(null,n),p_:Mx.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),gg(n)?mg(n):n.j_.set("Unknown")):(await n.J_.stop(),WT(n))})),n.J_}function ha(n){return n.Y_||(n.Y_=function(t,i,o){const a=qe(t);return a.M_(),new kx(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:jx.bind(null,n),Lo:Bx.bind(null,n),D_:Ux.bind(null,n),v_:$x.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await hf(n)):(await n.Y_.stop(),n.K_.length>0&&(Te(ll,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new rl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const c=Date.now()+i,f=new yg(e,t,c,o,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(n,e){if(ro("AsyncQueue",`${e}: ${n}`),Eu(n))return new Ce(ie.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{static emptySet(e){return new ou(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Oe.comparator(t.key,i.key):(t,i)=>Oe.comparator(t.key,i.key),this.keyedMap=_c(),this.sortedSet=new Ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ou)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ou;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(){this.Z_=new Ht(Oe.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):$e():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class du{constructor(e,t,i,o,a,c,f,p,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,t,i,o,a){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new du(e,t,ou.emptySet(t),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Wx{constructor(){this.queries=Hv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const o=qe(t),a=o.queries;o.queries=Hv(),a.forEach((c,f)=>{for(const p of f.ta)p.onError(i)})})(this,new Ce(ie.ABORTED,"Firestore shutting down"))}}function Hv(){return new gl(n=>mT(n),rf)}async function qx(n,e){const t=qe(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.na()&&e.ra()&&(i=2):(a=new Hx,i=e.ra()?0:1);try{switch(i){case 0:a.ea=await t.onListen(o,!0);break;case 1:a.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const f=_g(c,`Initialization of query '${Xl(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&vg(t)}async function Kx(n,e){const t=qe(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const c=a.ta.indexOf(e);c>=0&&(a.ta.splice(c,1),a.ta.length===0?o=e.ra()?0:1:!a.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Gx(n,e){const t=qe(n);let i=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const f of c.ta)f.oa(o)&&(i=!0);c.ea=o}}i&&vg(t)}function Qx(n,e,t){const i=qe(n),o=i.queries.get(e);if(o)for(const a of o.ta)a.onError(t);i.queries.delete(e)}function vg(n){n.ia.forEach(e=>{e.next()})}var ym,Wv;(Wv=ym||(ym={}))._a="default",Wv.Cache="cache";class Yx{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new du(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=du.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ym.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e){this.key=e}}class YT{constructor(e){this.key=e}}class Xx{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=it(),this.mutatedKeys=it(),this.ya=gT(e),this.wa=new ou(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new zv,o=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,A)=>{const R=o.get(T),O=sf(this.query,A)?A:null,U=!!R&&this.mutatedKeys.has(R.key),Y=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let H=!1;R&&O?R.data.isEqual(O.data)?U!==Y&&(i.track({type:3,doc:O}),H=!0):this.va(R,O)||(i.track({type:2,doc:O}),H=!0,(p&&this.ya(O,p)>0||_&&this.ya(O,_)<0)&&(f=!0)):!R&&O?(i.track({type:0,doc:O}),H=!0):R&&!O&&(i.track({type:1,doc:R}),H=!0,(p||_)&&(f=!0)),H&&(O?(c=c.add(O),a=Y?a.add(T):a.delete(T)):(c=c.delete(T),a=a.delete(T)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const T=this.query.limitType==="F"?c.last():c.first();c=c.delete(T.key),a=a.delete(T.key),i.track({type:1,doc:T})}return{wa:c,Da:i,ls:f,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((T,A)=>function(O,U){const Y=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e()}};return Y(O)-Y(U)}(T.type,A.type)||this.ya(T.doc,A.doc)),this.Ca(i),o=o!=null&&o;const f=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,_=p!==this.ga;return this.ga=p,c.length!==0||_?{snapshot:new du(this.query,e.wa,a,c,e.mutatedKeys,p===0,_,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new zv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=it(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new YT(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new QT(i))}),t}Oa(e){this.fa=e.gs,this.pa=it();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return du.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const wg="SyncEngine";class Jx{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Zx{constructor(e){this.key=e,this.Ba=!1}}class e1{constructor(e,t,i,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new gl(f=>mT(f),rf),this.qa=new Map,this.Qa=new Set,this.$a=new Ht(Oe.comparator),this.Ka=new Map,this.Ua=new ug,this.Wa={},this.Ga=new Map,this.za=hu.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function t1(n,e,t=!0){const i=n0(n);let o;const a=i.ka.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Na()):o=await XT(i,e,t,!0),o}async function n1(n,e){const t=n0(n);await XT(t,e,!0,!1)}async function XT(n,e,t,i){const o=await vx(n.localStore,Ts(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let f;return i&&(f=await r1(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&zT(n.remoteStore,o),f}async function r1(n,e,t,i,o){n.Ha=(A,R,O)=>async function(Y,H,ee,le){let se=H.view.ba(ee);se.ls&&(se=await Vv(Y.localStore,H.query,!1).then(({documents:M})=>H.view.ba(M,se)));const ye=le&&le.targetChanges.get(H.targetId),Le=le&&le.targetMismatches.get(H.targetId)!=null,Ae=H.view.applyChanges(se,Y.isPrimaryClient,ye,Le);return Kv(Y,H.targetId,Ae.Ma),Ae.snapshot}(n,A,R,O);const a=await Vv(n.localStore,e,!0),c=new Xx(e,a.gs),f=c.ba(a.documents),p=Yc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),_=c.applyChanges(f,n.isPrimaryClient,p);Kv(n,t,_.Ma);const T=new Jx(e,t,c);return n.ka.set(e,T),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),_.snapshot}async function i1(n,e,t){const i=qe(n),o=i.ka.get(e),a=i.qa.get(o.targetId);if(a.length>1)return i.qa.set(o.targetId,a.filter(c=>!rf(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await mm(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&fg(i.remoteStore,o.targetId),_m(i,o.targetId)}).catch(wu)):(_m(i,o.targetId),await mm(i.localStore,o.targetId,!0))}async function s1(n,e){const t=qe(n),i=t.ka.get(e),o=t.qa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),fg(t.remoteStore,i.targetId))}async function o1(n,e,t){const i=f1(n);try{const o=await function(c,f){const p=qe(c),_=_n.now(),T=f.reduce((O,U)=>O.add(U.key),it());let A,R;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let U=io(),Y=it();return p.ds.getEntries(O,T).next(H=>{U=H,U.forEach((ee,le)=>{le.isValidDocument()||(Y=Y.add(ee))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,U)).next(H=>{A=H;const ee=[];for(const le of f){const se=_b(le,A.get(le.key).overlayedDocument);se!=null&&ee.push(new yl(le.key,se,aT(se.value.mapValue),Yi.exists(!0)))}return p.mutationQueue.addMutationBatch(O,_,ee,f)}).next(H=>{R=H;const ee=H.applyToLocalDocumentSet(A,Y);return p.documentOverlayCache.saveOverlays(O,H.batchId,ee)})}).then(()=>({batchId:R.batchId,changes:_T(A)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,f,p){let _=c.Wa[c.currentUser.toKey()];_||(_=new Ht(ot)),_=_.insert(f,p),c.Wa[c.currentUser.toKey()]=_}(i,o.batchId,t),await Jc(i,o.changes),await hf(i.remoteStore)}catch(o){const a=_g(o,"Failed to persist write");t.reject(a)}}async function JT(n,e){const t=qe(n);try{const i=await gx(t.localStore,e);e.targetChanges.forEach((o,a)=>{const c=t.Ka.get(a);c&&(Et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Ba=!0:o.modifiedDocuments.size>0?Et(c.Ba):o.removedDocuments.size>0&&(Et(c.Ba),c.Ba=!1))}),await Jc(t,i,e)}catch(i){await wu(i)}}function qv(n,e,t){const i=qe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.ka.forEach((a,c)=>{const f=c.view.sa(e);f.snapshot&&o.push(f.snapshot)}),function(c,f){const p=qe(c);p.onlineState=f;let _=!1;p.queries.forEach((T,A)=>{for(const R of A.ta)R.sa(f)&&(_=!0)}),_&&vg(p)}(i.eventManager,e),o.length&&i.La.p_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function a1(n,e,t){const i=qe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ka.get(e),a=o&&o.key;if(a){let c=new Ht(Oe.comparator);c=c.insert(a,Gn.newNoDocument(a,He.min()));const f=it().add(a),p=new lf(He.min(),new Map,new Ht(ot),c,f);await JT(i,p),i.$a=i.$a.remove(a),i.Ka.delete(e),Eg(i)}else await mm(i.localStore,e,!1).then(()=>_m(i,e,t)).catch(wu)}async function l1(n,e){const t=qe(n),i=e.batch.batchId;try{const o=await mx(t.localStore,e);e0(t,i,null),ZT(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Jc(t,o)}catch(o){await wu(o)}}async function u1(n,e,t){const i=qe(n);try{const o=await function(c,f){const p=qe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let T;return p.mutationQueue.lookupMutationBatch(_,f).next(A=>(Et(A!==null),T=A.keys(),p.mutationQueue.removeMutationBatch(_,A))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T)).next(()=>p.localDocuments.getDocuments(_,T))})}(i.localStore,e);e0(i,e,t),ZT(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Jc(i,o)}catch(o){await wu(o)}}function ZT(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function e0(n,e,t){const i=qe(n);let o=i.Wa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.Wa[i.currentUser.toKey()]=o}}function _m(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(i=>{n.Ua.containsKey(i)||t0(n,i)})}function t0(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(fg(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),Eg(n))}function Kv(n,e,t){for(const i of t)i instanceof QT?(n.Ua.addReference(i.key,e),c1(n,i)):i instanceof YT?(Te(wg,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||t0(n,i.key)):$e()}function c1(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(Te(wg,"New document in limbo: "+t),n.Qa.add(i),Eg(n))}function Eg(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Oe(Vt.fromString(e)),i=n.za.next();n.Ka.set(i,new Zx(t)),n.$a=n.$a.insert(t,i),zT(n.remoteStore,new ea(Ts(rg(t.path)),i,"TargetPurposeLimboResolution",ef.ae))}}async function Jc(n,e,t){const i=qe(n),o=[],a=[],c=[];i.ka.isEmpty()||(i.ka.forEach((f,p)=>{c.push(i.Ha(p,e,t).then(_=>{var T;if((_||t)&&i.isPrimaryClient){const A=_?!_.fromCache:(T=t==null?void 0:t.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;i.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(_){o.push(_);const A=hg.Yi(p.targetId,_);a.push(A)}}))}),await Promise.all(c),i.La.p_(o),await async function(p,_){const T=qe(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>re.forEach(_,R=>re.forEach(R.Hi,O=>T.persistence.referenceDelegate.addReference(A,R.targetId,O)).next(()=>re.forEach(R.Ji,O=>T.persistence.referenceDelegate.removeReference(A,R.targetId,O)))))}catch(A){if(!Eu(A))throw A;Te(dg,"Failed to update sequence numbers: "+A)}for(const A of _){const R=A.targetId;if(!A.fromCache){const O=T.Ts.get(R),U=O.snapshotVersion,Y=O.withLastLimboFreeSnapshotVersion(U);T.Ts=T.Ts.insert(R,Y)}}}(i.localStore,a))}async function h1(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){Te(wg,"User change. New user:",e.toKey());const i=await jT(t.localStore,e);t.currentUser=e,function(a,c){a.Ga.forEach(f=>{f.forEach(p=>{p.reject(new Ce(ie.CANCELLED,c))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Jc(t,i.Rs)}}function d1(n,e){const t=qe(n),i=t.Ka.get(e);if(i&&i.Ba)return it().add(i.key);{let o=it();const a=t.qa.get(e);if(!a)return o;for(const c of a){const f=t.ka.get(c);o=o.unionWith(f.view.Sa)}return o}}function n0(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=JT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=a1.bind(null,e),e.La.p_=Gx.bind(null,e.eventManager),e.La.Ja=Qx.bind(null,e.eventManager),e}function f1(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=l1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=u1.bind(null,e),e}class Fd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return px(this.persistence,new hx,e.initialUser,this.serializer)}Xa(e){return new FT(cg.ri,this.serializer)}Za(e){return new Ex}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fd.provider={build:()=>new Fd};class p1 extends Fd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Et(this.persistence.referenceDelegate instanceof Md);const i=this.persistence.referenceDelegate.garbageCollector;return new Yb(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?br.withCacheSize(this.cacheSizeBytes):br.DEFAULT;return new FT(i=>Md.ri(i,t),this.serializer)}}class vm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>qv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=h1.bind(null,this.syncEngine),await zx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Wx}()}createDatastore(e){const t=uf(e.databaseInfo.databaseId),i=function(a){return new Ax(a)}(e.databaseInfo);return function(a,c,f,p){return new bx(a,c,f,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,c,f){return new Nx(i,o,a,c,f)}(this.localStore,this.datastore,e.asyncQueue,t=>qv(this.syncEngine,t,0),function(){return Uv.D()?new Uv:new Tx}())}createSyncEngine(e,t){return function(o,a,c,f,p,_,T){const A=new e1(o,a,c,f,p,_);return T&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=qe(o);Te(ll,"RemoteStore shutting down."),a.W_.add(5),await Xc(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}vm.provider={build:()=>new vm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ro("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="FirestoreClient";class g1{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Kn.UNAUTHENTICATED,this.clientId=XE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async c=>{Te(da,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(Te(da,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=_g(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Lp(n,e){n.asyncQueue.verifyOperationInProgress(),Te(da,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await jT(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Gv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await y1(n);Te(da,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Bv(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>Bv(e.remoteStore,o)),n._onlineComponents=e}async function y1(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Te(da,"Using user provided OfflineComponentProvider");try{await Lp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;au("Error using user provided cache. Falling back to memory cache: "+t),await Lp(n,new Fd)}}else Te(da,"Using default OfflineComponentProvider"),await Lp(n,new p1(void 0));return n._offlineComponents}async function r0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Te(da,"Using user provided OnlineComponentProvider"),await Gv(n,n._uninitializedComponentsProvider._online)):(Te(da,"Using default OnlineComponentProvider"),await Gv(n,new vm))),n._onlineComponents}function _1(n){return r0(n).then(e=>e.syncEngine)}async function Qv(n){const e=await r0(n),t=e.eventManager;return t.onListen=t1.bind(null,e.syncEngine),t.onUnlisten=i1.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=n1.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=s1.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(n,e,t){if(!t)throw new Ce(ie.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function v1(n,e,t,i){if(e===!0&&i===!0)throw new Ce(ie.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Xv(n){if(!Oe.isDocumentKey(n))throw new Ce(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Jv(n){if(Oe.isDocumentKey(n))throw new Ce(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function df(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":$e()}function ia(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ce(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=df(n);throw new Ce(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="firestore.googleapis.com",Zv=!0;class ew{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=o0,this.ssl=Zv}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Zv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Gb)throw new Ce(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}v1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i0((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ce(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ce(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ce(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ff{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ew({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ew(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new SP;switch(i.type){case"firstParty":return new kP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ce(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Yv.get(t);i&&(Te("ComponentProvider","Removing Datastore"),Yv.delete(t),i.terminate())}(this),Promise.resolve()}}function w1(n,e,t,i={}){var o;const a=(n=ia(n,ff))._getSettings(),c=`${e}:${t}`;if(a.host!==o0&&a.host!==c&&au("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),i.mockUserToken){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=Kn.MOCK_USER;else{f=UC(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Ce(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Kn(_)}n._authCredentials=new CP(new YE(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new vl(this.firestore,e,this._query)}}class xr{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xr(this.firestore,e,this._key)}}class sa extends vl{constructor(e,t,i){super(e,t,rg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xr(this.firestore,null,new Oe(e))}withConverter(e){return new sa(this.firestore,e,this._path)}}function ql(n,e,...t){if(n=On(n),s0("collection","path",e),n instanceof ff){const i=Vt.fromString(e,...t);return Jv(i),new sa(n,null,i)}{if(!(n instanceof xr||n instanceof sa))throw new Ce(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Vt.fromString(e,...t));return Jv(i),new sa(n.firestore,null,i)}}function wm(n,e,...t){if(n=On(n),arguments.length===1&&(e=XE.newId()),s0("doc","path",e),n instanceof ff){const i=Vt.fromString(e,...t);return Xv(i),new xr(n,null,new Oe(i))}{if(!(n instanceof xr||n instanceof sa))throw new Ce(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Vt.fromString(e,...t));return Xv(i),new xr(n.firestore,n instanceof sa?n.converter:null,new Oe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="AsyncQueue";class nw{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new $T(this,"async_queue_retry"),this.Su=()=>{const i=Op();i&&Te(tw,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=Op();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Op();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new rl;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Eu(e))throw e;Te(tw,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const o=function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),f}(i);throw ro("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=yg.createAndSchedule(this,e,t,i,a=>this.Fu(a));return this.fu.push(o),o}Du(){this.gu&&$e()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function rw(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const a of i)if(a in o&&typeof o[a]=="function")return!0;return!1}(n,["next","error","complete"])}class fu extends ff{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new nw,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nw(e),this._firestoreClient=void 0,await e}}}function E1(n,e){const t=typeof n=="object"?n:Um(),i=typeof n=="string"?n:xd,o=fl(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=FC("firestore");a&&w1(o,...a)}return o}function a0(n){if(n._terminated)throw new Ce(ie.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||T1(n),n._firestoreClient}function T1(n){var e,t,i;const o=n._freezeSettings(),a=function(f,p,_,T){return new BP(f,p,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,i0(T.experimentalLongPollingOptions),T.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new g1(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pu(Ln.fromBase64String(e))}catch(t){throw new Ce(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pu(Ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ce(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ce(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ce(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=/^__.*__$/;class S1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new yl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qc(e,this.data,t,this.fieldTransforms)}}function l0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e()}}class Ag{constructor(e,t,i,o,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Ag(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.$u(e),o}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return jd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(l0(this.Lu)&&I1.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class C1{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||uf(e)}ju(e,t,i,o=!1){return new Ag({Lu:e,methodName:t,zu:i,path:Dn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rg(n){const e=n._freezeSettings(),t=uf(n._databaseId);return new C1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function u0(n,e,t,i,o,a={}){const c=n.ju(a.merge||a.mergeFields?2:0,e,t,o);d0("Data must be an object, but it was:",c,i);const f=c0(i,c);let p,_;if(a.merge)p=new Qi(c.fieldMask),_=c.fieldTransforms;else if(a.mergeFields){const T=[];for(const A of a.mergeFields){const R=R1(e,A,t);if(!c.contains(R))throw new Ce(ie.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);P1(T,R)||T.push(R)}p=new Qi(T),_=c.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,_=c.fieldTransforms;return new S1(new Ii(f),p,_)}class kg extends Ig{_toFieldTransform(e){return new pb(e.path,new Fc)}isEqual(e){return e instanceof kg}}function A1(n,e,t,i=!1){return Pg(t,n.ju(i?4:3,e))}function Pg(n,e){if(h0(n=On(n)))return d0("Unsupported field value:",e,n),c0(n,e);if(n instanceof Ig)return function(i,o){if(!l0(o.Lu))throw o.Wu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,o){const a=[];let c=0;for(const f of i){let p=Pg(f,o.Uu(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=On(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return hb(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=_n.fromDate(i);return{timestampValue:Ld(o.serializer,a)}}if(i instanceof _n){const a=new _n(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ld(o.serializer,a)}}if(i instanceof Sg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof pu)return{bytesValue:bT(o.serializer,i._byteString)};if(i instanceof xr){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:lg(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Cg)return function(c,f){return{mapValue:{fields:{[sT]:{stringValue:oT},[Nd]:{arrayValue:{values:c.toArray().map(_=>{if(typeof _!="number")throw f.Wu("VectorValues must only contain numeric values.");return ig(f.serializer,_)})}}}}}}(i,o);throw o.Wu(`Unsupported field value: ${df(i)}`)}(n,e)}function c0(n,e){const t={};return ZE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ml(n,(i,o)=>{const a=Pg(o,e.qu(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function h0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof _n||n instanceof Sg||n instanceof pu||n instanceof xr||n instanceof Ig||n instanceof Cg)}function d0(n,e,t){if(!h0(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=df(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function R1(n,e,t){if((e=On(e))instanceof Tg)return e._internalPath;if(typeof e=="string")return f0(n,e);throw jd("Field path arguments must be of type string or ",n,!1,void 0,t)}const k1=new RegExp("[~\\*/\\[\\]]");function f0(n,e,t){if(e.search(k1)>=0)throw jd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Tg(...e.split("."))._internalPath}catch{throw jd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function jd(n,e,t,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new Ce(ie.INVALID_ARGUMENT,f+n+p)}function P1(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new xr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new b1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(bg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class b1 extends p0{data(){return super.data()}}function bg(n,e){return typeof e=="string"?f0(n,e):e instanceof Tg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ce(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xg{}class m0 extends xg{}function iw(n,e,...t){let i=[];e instanceof xg&&i.push(e),i=i.concat(t),function(a){const c=a.filter(p=>p instanceof Dg).length,f=a.filter(p=>p instanceof Ng).length;if(c>1||c>0&&f>0)throw new Ce(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class Ng extends m0{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Ng(e,t,i)}_apply(e){const t=this._parse(e);return g0(e._query,t),new vl(e.firestore,e.converter,um(e._query,t))}_parse(e){const t=Rg(e.firestore);return function(a,c,f,p,_,T,A){let R;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new Ce(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){aw(A,T);const U=[];for(const Y of A)U.push(ow(p,a,Y));R={arrayValue:{values:U}}}else R=ow(p,a,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||aw(A,T),R=A1(f,c,A,T==="in"||T==="not-in");return cn.create(_,T,R)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Dg extends xg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Dg(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Zi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let c=o;const f=a.getFlattenedFilters();for(const p of f)g0(c,p),c=um(c,p)}(e._query,t),new vl(e.firestore,e.converter,um(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Og extends m0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Og(e,t)}_apply(e){const t=function(o,a,c){if(o.startAt!==null)throw new Ce(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Ce(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vc(a,c)}(e._query,this._field,this._direction);return new vl(e.firestore,e.converter,function(o,a){const c=o.explicitOrderBy.concat([a]);return new Tu(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function sw(n,e="asc"){const t=e,i=bg("orderBy",n);return Og._create(i,t)}function ow(n,e,t){if(typeof(t=On(t))=="string"){if(t==="")throw new Ce(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pT(e)&&t.indexOf("/")!==-1)throw new Ce(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Vt.fromString(t));if(!Oe.isDocumentKey(i))throw new Ce(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return _v(n,new Oe(i))}if(t instanceof xr)return _v(n,t._key);throw new Ce(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${df(t)}.`)}function aw(n,e){if(!Array.isArray(n)||n.length===0)throw new Ce(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function g0(n,e){const t=function(o,a){for(const c of o)for(const f of c.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ce(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ce(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class N1{convertValue(e,t="none"){switch(ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return en(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw $e()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ml(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[Nd].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>en(c.doubleValue));return new Cg(a)}convertGeoPoint(e){return new Sg(en(e.latitude),en(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=nf(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Oc(e));default:return null}}convertTimestamp(e){const t=la(e);return new _n(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Vt.fromString(e);Et(MT(i));const o=new Lc(i.get(1),i.get(3)),a=new Oe(i.popFirst(5));return o.isEqual(t)||ro(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _0 extends p0{constructor(e,t,i,o,a,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(bg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class wd extends _0{data(e={}){return super.data(e)}}class D1{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new wc(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new wd(this._firestore,this._userDataWriter,i.key,i,new wc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ce(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(f=>{const p=new wd(o._firestore,o._userDataWriter,f.doc.key,f.doc,new wc(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const p=new wd(o._firestore,o._userDataWriter,f.doc.key,f.doc,new wc(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return f.type!==0&&(_=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),T=c.indexOf(f.doc.key)),{type:O1(f.type),doc:p,oldIndex:_,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function O1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e()}}class v0 extends N1{constructor(e){super(),this.firestore=e}convertBytes(e){return new pu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xr(this.firestore,null,t)}}function L1(n,e,t){n=ia(n,xr);const i=ia(n.firestore,fu),o=y0(n.converter,e);return Lg(i,[u0(Rg(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Yi.none())])}function M1(n){return Lg(ia(n.firestore,fu),[new sg(n._key,Yi.none())])}function lw(n,e){const t=ia(n.firestore,fu),i=wm(n),o=y0(n.converter,e);return Lg(t,[u0(Rg(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,Yi.exists(!1))]).then(()=>i)}function uw(n,...e){var t,i,o;n=On(n);let a={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||rw(e[c])||(a=e[c],c++);const f={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(rw(e[c])){const A=e[c];e[c]=(t=A.next)===null||t===void 0?void 0:t.bind(A),e[c+1]=(i=A.error)===null||i===void 0?void 0:i.bind(A),e[c+2]=(o=A.complete)===null||o===void 0?void 0:o.bind(A)}let p,_,T;if(n instanceof xr)_=ia(n.firestore,fu),T=rg(n._key.path),p={next:A=>{e[c]&&e[c](V1(_,n,A))},error:e[c+1],complete:e[c+2]};else{const A=ia(n,vl);_=ia(A.firestore,fu),T=A._query;const R=new v0(_);p={next:O=>{e[c]&&e[c](new D1(_,R,A,O))},error:e[c+1],complete:e[c+2]},x1(n._query)}return function(R,O,U,Y){const H=new m1(Y),ee=new Yx(O,H,U);return R.asyncQueue.enqueueAndForget(async()=>qx(await Qv(R),ee)),()=>{H.su(),R.asyncQueue.enqueueAndForget(async()=>Kx(await Qv(R),ee))}}(a0(_),T,f,p)}function Lg(n,e){return function(i,o){const a=new rl;return i.asyncQueue.enqueueAndForget(async()=>o1(await _1(i),o,a)),a.promise}(a0(n),e)}function V1(n,e,t){const i=t.docs.get(e._key),o=new v0(n);return new _0(n,o,e._key,i,new wc(t.hasPendingWrites,t.fromCache),e.converter)}function Mp(){return new kg("serverTimestamp")}(function(e,t=!0){(function(o){vu=o})(yu),Cs(new Xi("firestore",(i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),f=new fu(new AP(i.getProvider("auth-internal")),new PP(c,i.getProvider("app-check-internal")),function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new Ce(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lc(_.options.projectId,T)}(c,o),c);return a=Object.assign({useFetchStreams:t},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),Si(av,lv,e),Si(av,lv,"esm2017")})();var F1="firebase",j1="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Si(F1,j1,"app");const w0="@firebase/installations",Mg="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=1e4,T0=`w:${Mg}`,I0="FIS_v2",U1="https://firebaseinstallations.googleapis.com/v1",$1=60*60*1e3,B1="installations",z1="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ul=new dl(B1,z1,H1);function S0(n){return n instanceof es&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0({projectId:n}){return`${U1}/projects/${n}/installations`}function A0(n){return{token:n.token,requestStatus:2,expiresIn:q1(n.expiresIn),creationTime:Date.now()}}async function R0(n,e){const i=(await e.json()).error;return ul.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function k0({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function W1(n,{refreshToken:e}){const t=k0(n);return t.append("Authorization",K1(e)),t}async function P0(n){const e=await n();return e.status>=500&&e.status<600?n():e}function q1(n){return Number(n.replace("s","000"))}function K1(n){return`${I0} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G1({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=C0(n),o=k0(n),a=e.getImmediate({optional:!0});if(a){const _=await a.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const c={fid:t,authVersion:I0,appId:n.appId,sdkVersion:T0},f={method:"POST",headers:o,body:JSON.stringify(c)},p=await P0(()=>fetch(i,f));if(p.ok){const _=await p.json();return{fid:_.fid||t,registrationStatus:2,refreshToken:_.refreshToken,authToken:A0(_.authToken)}}else throw await R0("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=/^[cdef][\w-]{21}$/,Em="";function X1(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=J1(n);return Y1.test(t)?t:Em}catch{return Em}}function J1(n){return Q1(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=new Map;function N0(n,e){const t=pf(n);D0(t,e),Z1(t,e)}function D0(n,e){const t=x0.get(n);if(t)for(const i of t)i(e)}function Z1(n,e){const t=eN();t&&t.postMessage({key:n,fid:e}),tN()}let nl=null;function eN(){return!nl&&"BroadcastChannel"in self&&(nl=new BroadcastChannel("[Firebase] FID Change"),nl.onmessage=n=>{D0(n.data.key,n.data.fid)}),nl}function tN(){x0.size===0&&nl&&(nl.close(),nl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="firebase-installations-database",rN=1,cl="firebase-installations-store";let Vp=null;function Vg(){return Vp||(Vp=sE(nN,rN,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(cl)}}})),Vp}async function Ud(n,e){const t=pf(n),o=(await Vg()).transaction(cl,"readwrite"),a=o.objectStore(cl),c=await a.get(t);return await a.put(e,t),await o.done,(!c||c.fid!==e.fid)&&N0(n,e.fid),e}async function O0(n){const e=pf(n),i=(await Vg()).transaction(cl,"readwrite");await i.objectStore(cl).delete(e),await i.done}async function mf(n,e){const t=pf(n),o=(await Vg()).transaction(cl,"readwrite"),a=o.objectStore(cl),c=await a.get(t),f=e(c);return f===void 0?await a.delete(t):await a.put(f,t),await o.done,f&&(!c||c.fid!==f.fid)&&N0(n,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fg(n){let e;const t=await mf(n.appConfig,i=>{const o=iN(i),a=sN(n,o);return e=a.registrationPromise,a.installationEntry});return t.fid===Em?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function iN(n){const e=n||{fid:X1(),registrationStatus:0};return L0(e)}function sN(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ul.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=oN(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:aN(n)}:{installationEntry:e}}async function oN(n,e){try{const t=await G1(n,e);return Ud(n.appConfig,t)}catch(t){throw S0(t)&&t.customData.serverCode===409?await O0(n.appConfig):await Ud(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function aN(n){let e=await cw(n.appConfig);for(;e.registrationStatus===1;)await b0(100),e=await cw(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await Fg(n);return i||t}return e}function cw(n){return mf(n,e=>{if(!e)throw ul.create("installation-not-found");return L0(e)})}function L0(n){return lN(n)?{fid:n.fid,registrationStatus:0}:n}function lN(n){return n.registrationStatus===1&&n.registrationTime+E0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN({appConfig:n,heartbeatServiceProvider:e},t){const i=cN(n,t),o=W1(n,t),a=e.getImmediate({optional:!0});if(a){const _=await a.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const c={installation:{sdkVersion:T0,appId:n.appId}},f={method:"POST",headers:o,body:JSON.stringify(c)},p=await P0(()=>fetch(i,f));if(p.ok){const _=await p.json();return A0(_)}else throw await R0("Generate Auth Token",p)}function cN(n,{fid:e}){return`${C0(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jg(n,e=!1){let t;const i=await mf(n.appConfig,a=>{if(!M0(a))throw ul.create("not-registered");const c=a.authToken;if(!e&&fN(c))return a;if(c.requestStatus===1)return t=hN(n,e),a;{if(!navigator.onLine)throw ul.create("app-offline");const f=mN(a);return t=dN(n,f),f}});return t?await t:i.authToken}async function hN(n,e){let t=await hw(n.appConfig);for(;t.authToken.requestStatus===1;)await b0(100),t=await hw(n.appConfig);const i=t.authToken;return i.requestStatus===0?jg(n,e):i}function hw(n){return mf(n,e=>{if(!M0(e))throw ul.create("not-registered");const t=e.authToken;return gN(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function dN(n,e){try{const t=await uN(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await Ud(n.appConfig,i),t}catch(t){if(S0(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await O0(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Ud(n.appConfig,i)}throw t}}function M0(n){return n!==void 0&&n.registrationStatus===2}function fN(n){return n.requestStatus===2&&!pN(n)}function pN(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+$1}function mN(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function gN(n){return n.requestStatus===1&&n.requestTime+E0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(n){const e=n,{installationEntry:t,registrationPromise:i}=await Fg(e);return i?i.catch(console.error):jg(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(n,e=!1){const t=n;return await vN(t),(await jg(t,e)).token}async function vN(n){const{registrationPromise:e}=await Fg(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(n){if(!n||!n.options)throw Fp("App Configuration");if(!n.name)throw Fp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Fp(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Fp(n){return ul.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="installations",EN="installations-internal",TN=n=>{const e=n.getProvider("app").getImmediate(),t=wN(e),i=fl(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},IN=n=>{const e=n.getProvider("app").getImmediate(),t=fl(e,V0).getImmediate();return{getId:()=>yN(t),getToken:o=>_N(t,o)}};function SN(){Cs(new Xi(V0,TN,"PUBLIC")),Cs(new Xi(EN,IN,"PRIVATE"))}SN();Si(w0,Mg);Si(w0,Mg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="analytics",CN="firebase_id",AN="origin",RN=60*1e3,kN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ug="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new Yd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Xr=new dl("analytics","Analytics",PN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(n){if(!n.startsWith(Ug)){const e=Xr.create("invalid-gtag-resource",{gtagURL:n});return Nr.warn(e.message),""}return n}function F0(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function xN(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function NN(n,e){const t=xN("firebase-js-sdk-policy",{createScriptURL:bN}),i=document.createElement("script"),o=`${Ug}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}function DN(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function ON(n,e,t,i,o,a){const c=i[o];try{if(c)await e[c];else{const p=(await F0(t)).find(_=>_.measurementId===o);p&&await e[p.appId]}}catch(f){Nr.error(f)}n("config",o,a)}async function LN(n,e,t,i,o){try{let a=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const f=await F0(t);for(const p of c){const _=f.find(A=>A.measurementId===p),T=_&&e[_.appId];if(T)a.push(T);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",i,o||{})}catch(a){Nr.error(a)}}function MN(n,e,t,i){async function o(a,...c){try{if(a==="event"){const[f,p]=c;await LN(n,e,t,f,p)}else if(a==="config"){const[f,p]=c;await ON(n,e,t,i,f,p)}else if(a==="consent"){const[f,p]=c;n("consent",f,p)}else if(a==="get"){const[f,p,_]=c;n("get",f,p,_)}else if(a==="set"){const[f]=c;n("set",f)}else n(a,...c)}catch(f){Nr.error(f)}}return o}function VN(n,e,t,i,o){let a=function(...c){window[i].push(arguments)};return window[o]&&typeof window[o]=="function"&&(a=window[o]),window[o]=MN(a,n,e,t),{gtagCore:a,wrappedGtag:window[o]}}function FN(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Ug)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=30,UN=1e3;class $N{constructor(e={},t=UN){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const j0=new $N;function BN(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function zN(n){var e;const{appId:t,apiKey:i}=n,o={method:"GET",headers:BN(i)},a=kN.replace("{app-id}",t),c=await fetch(a,o);if(c.status!==200&&c.status!==304){let f="";try{const p=await c.json();!((e=p.error)===null||e===void 0)&&e.message&&(f=p.error.message)}catch{}throw Xr.create("config-fetch-failed",{httpStatus:c.status,responseMessage:f})}return c.json()}async function HN(n,e=j0,t){const{appId:i,apiKey:o,measurementId:a}=n.options;if(!i)throw Xr.create("no-app-id");if(!o){if(a)return{measurementId:a,appId:i};throw Xr.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new KN;return setTimeout(async()=>{f.abort()},RN),U0({appId:i,apiKey:o,measurementId:a},c,f,e)}async function U0(n,{throttleEndTimeMillis:e,backoffCount:t},i,o=j0){var a;const{appId:c,measurementId:f}=n;try{await WN(i,e)}catch(p){if(f)return Nr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:c,measurementId:f};throw p}try{const p=await zN(n);return o.deleteThrottleMetadata(c),p}catch(p){const _=p;if(!qN(_)){if(o.deleteThrottleMetadata(c),f)return Nr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${_==null?void 0:_.message}]`),{appId:c,measurementId:f};throw p}const T=Number((a=_==null?void 0:_.customData)===null||a===void 0?void 0:a.httpStatus)===503?N_(t,o.intervalMillis,jN):N_(t,o.intervalMillis),A={throttleEndTimeMillis:Date.now()+T,backoffCount:t+1};return o.setThrottleMetadata(c,A),Nr.debug(`Calling attemptFetch again in ${T} millis`),U0(n,A,i,o)}}function WN(n,e){return new Promise((t,i)=>{const o=Math.max(e-Date.now(),0),a=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(a),i(Xr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function qN(n){if(!(n instanceof es)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class KN{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function GN(n,e,t,i,o){if(o&&o.global){n("event",t,i);return}else{const a=await e,c=Object.assign(Object.assign({},i),{send_to:a});n("event",t,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(){if(tE())try{await nE()}catch(n){return Nr.warn(Xr.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Nr.warn(Xr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function YN(n,e,t,i,o,a,c){var f;const p=HN(n);p.then(O=>{t[O.measurementId]=O.appId,n.options.measurementId&&O.measurementId!==n.options.measurementId&&Nr.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${O.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(O=>Nr.error(O)),e.push(p);const _=QN().then(O=>{if(O)return i.getId()}),[T,A]=await Promise.all([p,_]);FN(a)||NN(a,T.measurementId),o("js",new Date);const R=(f=c==null?void 0:c.config)!==null&&f!==void 0?f:{};return R[AN]="firebase",R.update=!0,A!=null&&(R[CN]=A),o("config",T.measurementId,R),T.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.app=e}_delete(){return delete Rc[this.app.options.appId],Promise.resolve()}}let Rc={},dw=[];const fw={};let jp="dataLayer",JN="gtag",pw,$0,mw=!1;function ZN(){const n=[];if(eE()&&n.push("This is a browser extension environment."),KC()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,o)=>`(${o+1}) ${i}`).join(" "),t=Xr.create("invalid-analytics-context",{errorInfo:e});Nr.warn(t.message)}}function eD(n,e,t){ZN();const i=n.options.appId;if(!i)throw Xr.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Nr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Xr.create("no-api-key");if(Rc[i]!=null)throw Xr.create("already-exists",{id:i});if(!mw){DN(jp);const{wrappedGtag:a,gtagCore:c}=VN(Rc,dw,fw,jp,JN);$0=a,pw=c,mw=!0}return Rc[i]=YN(n,dw,fw,e,pw,jp,t),new XN(n)}function tD(n=Um()){n=On(n);const e=fl(n,$d);return e.isInitialized()?e.getImmediate():nD(n)}function nD(n,e={}){const t=fl(n,$d);if(t.isInitialized()){const o=t.getImmediate();if(Pc(e,t.getOptions()))return o;throw Xr.create("already-initialized")}return t.initialize({options:e})}function rD(n,e,t,i){n=On(n),GN($0,Rc[n.app.options.appId],e,t,i).catch(o=>Nr.error(o))}const gw="@firebase/analytics",yw="0.10.11";function iD(){Cs(new Xi($d,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return eD(i,o,t)},"PUBLIC")),Cs(new Xi("analytics-internal",n,"PRIVATE")),Si(gw,yw),Si(gw,yw,"esm2017");function n(e){try{const t=e.getProvider($d).getImmediate();return{logEvent:(i,o,a)=>rD(t,i,o,a)}}catch(t){throw Xr.create("interop-component-reg-failed",{reason:t})}}}iD();const sD={apiKey:"AIzaSyDm-e_Og6Z8mmQhNFW9bYqng2_Ysuz4Yzs",authDomain:"budget-goal.firebaseapp.com",projectId:"budget-goal",storageBucket:"budget-goal.firebasestorage.app",messagingSenderId:"495031579691",appId:"1:495031579691:web:6309f9ff24427452c5a66e",measurementId:"G-LG70L4VGSH"},$g=oE(sD);tD($g);const Go=E1($g),B0=Ym($g),Up=Ym.currentUser,oD=Ym();class aD{constructor(){this.incomeSnapshots=[],this.expenseSnapshots=[],this.incomeTable="temp-income",this.expenseTable="temp-expense",Up?(console.log("you are signed in"),this._ref_income=ql(Go,Up.uid+"-income"),this._ref_expense=ql(Go,Up.uid+"-expense")):(this._ref_income=ql(Go,this.incomeTable),this._ref_expense=ql(Go,this.expenseTable))}updateUser(e){console.log("signed in= changed refs."),this.incomeTable=e+"-income",this._ref_income=ql(Go,this.incomeTable),km.incomeSnapshots=[],this.expenseTable=e+"-expense",this._ref_expense=ql(Go,this.expenseTable),km.expenseSnapshots=[]}beginListeningIncome(e){const t=iw(this._ref_income,sw("lastEdited","asc"));return uw(t,i=>{this.incomeSnapshots=i.docs,e()})}beginListeningExpense(e){const t=iw(this._ref_expense,sw("lastEdited","asc"));return uw(t,i=>{this.expenseSnapshots=i.docs,e()})}async add(e,t,i){if(e==="Income")try{const o=await lw(this._ref_income,{description:t,amount:i,lastEdited:Mp()})}catch(o){console.error("Error adding document: ",o)}else if(e==="Expense")try{const o=await lw(this._ref_expense,{description:t,amount:i,lastEdited:Mp()})}catch(o){console.error("Error adding document: ",o)}}async update(e,t,i){await L1(e,{description:t,amount:i,lastEdited:Mp()})}async delete(e){await M1(e)}}const Kt=new aD;dk(oD,n=>{if(n){const e=n.uid;Kt.updateUser(e)}});let _w,vw;function z0(n){_w=Kt.incomeSnapshots,vw=Kt.expenseSnapshots;const e=n.onClick;return n.updateTables,D.jsx(D.Fragment,{children:D.jsxs("div",{className:"container2",children:[D.jsxs("table",{className:"table table-striped table-hover",children:[D.jsx("thead",{children:D.jsx("tr",{children:D.jsx("th",{scope:"col",id:"tableIncome",children:"INCOME"})})}),D.jsx("tbody",{children:_w.map(t=>D.jsxs("tr",{onClick:()=>{e(t.id,"income")},children:[D.jsx("th",{scope:"row",children:t.data().description}),D.jsxs("td",{children:["$",parseFloat(t.data().amount).toLocaleString(void 0,{maximumFractionDigits:2,minimumFractionDigits:2})]})]},t.id))})]}),D.jsxs("table",{className:"table table-striped table-hover",children:[D.jsx("thead",{children:D.jsx("tr",{children:D.jsx("th",{scope:"col",id:"tableExpenses",children:"EXPENSES"})})}),D.jsx("tbody",{children:vw.map(t=>D.jsxs("tr",{onClick:()=>{e(t.id,"expense")},children:[D.jsx("th",{scope:"row",children:t.data().description}),D.jsxs("td",{children:["$",parseFloat(t.data().amount).toLocaleString(void 0,{maximumFractionDigits:2,minimumFractionDigits:2})]})]},t.id))})]})]})})}z0.propTypes={incomeSnapshots:hn.array.isRequired,expenseSnapshots:hn.array.isRequired,onClick:hn.func.isRequired,updateTables:hn.func};var $p={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var ww;function lD(){return ww||(ww=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",c=0;c<arguments.length;c++){var f=arguments[c];f&&(a=o(a,i(f)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var c="";for(var f in a)e.call(a,f)&&a[f]&&(c=o(c,f));return c}function o(a,c){return c?a?a+" "+c:a+c:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}($p)),$p.exports}var uD=lD();const xt=Wd(uD),cD=["as","disabled"];function hD(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function dD(n){return!n||n.trim()==="#"}function H0({tagName:n,disabled:e,href:t,target:i,rel:o,role:a,onClick:c,tabIndex:f=0,type:p}){n||(t!=null||i!=null||o!=null?n="a":n="button");const _={tagName:n};if(n==="button")return[{type:p||"button",disabled:e},_];const T=R=>{if((e||n==="a"&&dD(t))&&R.preventDefault(),e){R.stopPropagation();return}c==null||c(R)},A=R=>{R.key===" "&&(R.preventDefault(),T(R))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:f,href:t,target:n==="a"?i:void 0,"aria-disabled":e||void 0,rel:n==="a"?o:void 0,onClick:T,onKeyDown:A},_]}const fD=x.forwardRef((n,e)=>{let{as:t,disabled:i}=n,o=hD(n,cD);const[a,{tagName:c}]=H0(Object.assign({tagName:t,disabled:i},o));return D.jsx(c,Object.assign({},o,a,{ref:e}))});fD.displayName="Button";const pD=["xxl","xl","lg","md","sm","xs"],mD="xs",Zc=x.createContext({prefixes:{},breakpoints:pD,minBreakpoint:mD}),{Consumer:zO,Provider:HO}=Zc;function wn(n,e){const{prefixes:t}=x.useContext(Zc);return n||t[e]||e}function gD(){const{breakpoints:n}=x.useContext(Zc);return n}function yD(){const{minBreakpoint:n}=x.useContext(Zc);return n}function _D(){const{dir:n}=x.useContext(Zc);return n==="rtl"}const Ed=x.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:i,active:o=!1,disabled:a=!1,className:c,...f},p)=>{const _=wn(e,"btn"),[T,{tagName:A}]=H0({tagName:n,disabled:a,...f}),R=A;return D.jsx(R,{...T,...f,ref:p,disabled:a,className:xt(c,_,o&&"active",t&&`${_}-${t}`,i&&`${_}-${i}`,f.href&&a&&"disabled")})});Ed.displayName="Button";const Su=!!(typeof window<"u"&&window.document&&window.document.createElement);var Tm=!1,Im=!1;try{var Bp={get passive(){return Tm=!0},get once(){return Im=Tm=!0}};Su&&(window.addEventListener("test",Bp,Bp),window.removeEventListener("test",Bp,!0))}catch{}function W0(n,e,t,i){if(i&&typeof i!="boolean"&&!Im){var o=i.once,a=i.capture,c=t;!Im&&o&&(c=t.__once||function f(p){this.removeEventListener(e,f,a),t.call(this,p)},t.__once=c),n.addEventListener(e,c,Tm?i:a)}n.addEventListener(e,t,i)}function gf(n){return n&&n.ownerDocument||document}function Sm(n,e,t,i){var o=i&&typeof i!="boolean"?i.capture:i;n.removeEventListener(e,t,o),t.__once&&n.removeEventListener(e,t.__once,o)}var ad;function Ew(n){if((!ad&&ad!==0||n)&&Su){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),ad=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return ad}function vD(){return x.useState(null)}function wD(n){const e=x.useRef(n);return x.useEffect(()=>{e.current=n},[n]),e}function Cm(n){const e=wD(n);return x.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const Tw=n=>!n||typeof n=="function"?n:e=>{n.current=e};function ED(n,e){const t=Tw(n),i=Tw(e);return o=>{t&&t(o),i&&i(o)}}function q0(n,e){return x.useMemo(()=>ED(n,e),[n,e])}function TD(n){const e=x.useRef(n);return e.current=n,e}function ID(n){const e=TD(n);x.useEffect(()=>()=>e.current(),[])}function SD(n){var e=gf(n);return e&&e.defaultView||window}function CD(n,e){return SD(n).getComputedStyle(n,e)}var AD=/([A-Z])/g;function RD(n){return n.replace(AD,"-$1").toLowerCase()}var kD=/^ms-/;function ld(n){return RD(n).replace(kD,"-ms-")}var PD=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function bD(n){return!!(n&&PD.test(n))}function il(n,e){var t="",i="";if(typeof e=="string")return n.style.getPropertyValue(ld(e))||CD(n).getPropertyValue(ld(e));Object.keys(e).forEach(function(o){var a=e[o];!a&&a!==0?n.style.removeProperty(ld(o)):bD(o)?i+=o+"("+a+") ":t+=ld(o)+": "+a+";"}),i&&(t+="transform: "+i+";"),n.style.cssText+=";"+t}function Bd(n,e,t,i){return W0(n,e,t,i),function(){Sm(n,e,t,i)}}function xD(n,e,t,i){if(i===void 0&&(i=!0),n){var o=document.createEvent("HTMLEvents");o.initEvent(e,t,i),n.dispatchEvent(o)}}function ND(n){var e=il(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function DD(n,e,t){t===void 0&&(t=5);var i=!1,o=setTimeout(function(){i||xD(n,"transitionend",!0)},e+t),a=Bd(n,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(o),a()}}function K0(n,e,t,i){t==null&&(t=ND(n)||0);var o=DD(n,t,i),a=Bd(n,"transitionend",e);return function(){o(),a()}}function zp(n){n===void 0&&(n=gf());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function Iw(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}function OD(){const n=x.useRef(!0),e=x.useRef(()=>n.current);return x.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function LD(n){const e=x.useRef(n);return e.current=n,e}function MD(n){const e=LD(n);x.useEffect(()=>()=>e.current(),[])}function VD(n){const e=x.useRef(null);return x.useEffect(()=>{e.current=n}),e.current}function FD(n){const e=x.useRef(n);return x.useEffect(()=>{e.current=n},[n]),e}function Ja(n){const e=FD(n);return x.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const jD="data-rr-ui-";function UD(n){return`${jD}${n}`}function $D(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const Sw=UD("modal-open");class Bg{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:i=!1}={}){this.handleContainerOverflow=t,this.isRTL=i,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return $D(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();e.style={overflow:o.style.overflow,[i]:o.style[i]},e.scrollBarWidth&&(t[i]=`${parseInt(il(o,i)||"0",10)+e.scrollBarWidth}px`),o.setAttribute(Sw,""),il(o,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(Sw),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const G0=x.createContext(Su?window:void 0);G0.Provider;function zg(){return x.useContext(G0)}const Hp=(n,e)=>Su?n==null?(e||gf()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function BD(n,e){const t=zg(),[i,o]=x.useState(()=>Hp(n,t==null?void 0:t.document));if(!i){const a=Hp(n);a&&o(a)}return x.useEffect(()=>{},[e,i]),x.useEffect(()=>{const a=Hp(n);a!==i&&o(a)},[n,i]),i}const Cw=n=>!n||typeof n=="function"?n:e=>{n.current=e};function zD(n,e){const t=Cw(n),i=Cw(e);return o=>{t&&t(o),i&&i(o)}}function Hg(n,e){return x.useMemo(()=>zD(n,e),[n,e])}const HD=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",WD=typeof document<"u",Aw=WD||HD?x.useLayoutEffect:x.useEffect;function qD(n){return n.code==="Escape"||n.keyCode===27}function KD(){const n=x.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function yf(n){if(!n||typeof n=="function")return null;const{major:e}=KD();return e>=19?n.props.ref:n.ref}function GD({children:n,in:e,onExited:t,mountOnEnter:i,unmountOnExit:o}){const a=x.useRef(null),c=x.useRef(e),f=Ja(t);x.useEffect(()=>{e?c.current=!0:f(a.current)},[e,f]);const p=Hg(a,yf(n)),_=x.cloneElement(n,{ref:p});return e?_:o||!c.current&&i?null:_}const QD=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function YD(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function XD(n){let{onEnter:e,onEntering:t,onEntered:i,onExit:o,onExiting:a,onExited:c,addEndListener:f,children:p}=n,_=YD(n,QD);const T=x.useRef(null),A=Hg(T,yf(p)),R=ye=>Le=>{ye&&T.current&&ye(T.current,Le)},O=x.useCallback(R(e),[e]),U=x.useCallback(R(t),[t]),Y=x.useCallback(R(i),[i]),H=x.useCallback(R(o),[o]),ee=x.useCallback(R(a),[a]),le=x.useCallback(R(c),[c]),se=x.useCallback(R(f),[f]);return Object.assign({},_,{nodeRef:T},e&&{onEnter:O},t&&{onEntering:U},i&&{onEntered:Y},o&&{onExit:H},a&&{onExiting:ee},c&&{onExited:le},f&&{addEndListener:se},{children:typeof p=="function"?(ye,Le)=>p(ye,Object.assign({},Le,{ref:A})):x.cloneElement(p,{ref:A})})}const JD=["component"];function ZD(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const eO=x.forwardRef((n,e)=>{let{component:t}=n,i=ZD(n,JD);const o=XD(i);return D.jsx(t,Object.assign({ref:e},o))});function tO({in:n,onTransition:e}){const t=x.useRef(null),i=x.useRef(!0),o=Ja(e);return Aw(()=>{if(!t.current)return;let a=!1;return o({in:n,element:t.current,initial:i.current,isStale:()=>a}),()=>{a=!0}},[n,o]),Aw(()=>(i.current=!1,()=>{i.current=!0}),[]),t}function nO({children:n,in:e,onExited:t,onEntered:i,transition:o}){const[a,c]=x.useState(!e);e&&a&&c(!1);const f=tO({in:!!e,onTransition:_=>{const T=()=>{_.isStale()||(_.in?i==null||i(_.element,_.initial):(c(!0),t==null||t(_.element)))};Promise.resolve(o(_)).then(T,A=>{throw _.in||c(!0),A})}}),p=Hg(f,yf(n));return a&&!e?null:x.cloneElement(n,{ref:p})}function Rw(n,e,t){return n?D.jsx(eO,Object.assign({},t,{component:n})):e?D.jsx(nO,Object.assign({},t,{transition:e})):D.jsx(GD,Object.assign({},t))}const rO=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function iO(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}let Wp;function sO(n){return Wp||(Wp=new Bg({ownerDocument:n==null?void 0:n.document})),Wp}function oO(n){const e=zg(),t=n||sO(e),i=x.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>t.add(i.current),remove:()=>t.remove(i.current),isTopModal:()=>t.isTopModal(i.current),setDialogRef:x.useCallback(o=>{i.current.dialog=o},[]),setBackdropRef:x.useCallback(o=>{i.current.backdrop=o},[])})}const Q0=x.forwardRef((n,e)=>{let{show:t=!1,role:i="dialog",className:o,style:a,children:c,backdrop:f=!0,keyboard:p=!0,onBackdropClick:_,onEscapeKeyDown:T,transition:A,runTransition:R,backdropTransition:O,runBackdropTransition:U,autoFocus:Y=!0,enforceFocus:H=!0,restoreFocus:ee=!0,restoreFocusOptions:le,renderDialog:se,renderBackdrop:ye=ct=>D.jsx("div",Object.assign({},ct)),manager:Le,container:Ae,onShow:M,onHide:k=()=>{},onExit:b,onExited:L,onExiting:$,onEnter:q,onEntering:N,onEntered:Tt}=n,Ft=iO(n,rO);const kt=zg(),Xe=BD(Ae),F=oO(Le),ke=OD(),pe=VD(t),[W,te]=x.useState(!t),_e=x.useRef(null);x.useImperativeHandle(e,()=>F,[F]),Su&&!pe&&t&&(_e.current=zp(kt==null?void 0:kt.document)),t&&W&&te(!1);const Pe=Ja(()=>{if(F.add(),Pt.current=Bd(document,"keydown",Je),at.current=Bd(document,"focus",()=>setTimeout(ce),!0),M&&M(),Y){var ct,Jr;const Dr=zp((ct=(Jr=F.dialog)==null?void 0:Jr.ownerDocument)!=null?ct:kt==null?void 0:kt.document);F.dialog&&Dr&&!Iw(F.dialog,Dr)&&(_e.current=Dr,F.dialog.focus())}}),je=Ja(()=>{if(F.remove(),Pt.current==null||Pt.current(),at.current==null||at.current(),ee){var ct;(ct=_e.current)==null||ct.focus==null||ct.focus(le),_e.current=null}});x.useEffect(()=>{!t||!Xe||Pe()},[t,Xe,Pe]),x.useEffect(()=>{W&&je()},[W,je]),MD(()=>{je()});const ce=Ja(()=>{if(!H||!ke()||!F.isTopModal())return;const ct=zp(kt==null?void 0:kt.document);F.dialog&&ct&&!Iw(F.dialog,ct)&&F.dialog.focus()}),Ke=Ja(ct=>{ct.target===ct.currentTarget&&(_==null||_(ct),f===!0&&k())}),Je=Ja(ct=>{p&&qD(ct)&&F.isTopModal()&&(T==null||T(ct),ct.defaultPrevented||k())}),at=x.useRef(),Pt=x.useRef(),tn=(...ct)=>{te(!0),L==null||L(...ct)};if(!Xe)return null;const Mn=Object.assign({role:i,ref:F.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},Ft,{style:a,className:o,tabIndex:-1});let nn=se?se(Mn):D.jsx("div",Object.assign({},Mn,{children:x.cloneElement(c,{role:"document"})}));nn=Rw(A,R,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:b,onExiting:$,onExited:tn,onEnter:q,onEntering:N,onEntered:Tt,children:nn});let Gt=null;return f&&(Gt=ye({ref:F.setBackdropRef,onClick:Ke}),Gt=Rw(O,U,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Gt})),D.jsx(D.Fragment,{children:tu.createPortal(D.jsxs(D.Fragment,{children:[Gt,nn]}),Xe)})});Q0.displayName="Modal";const aO=Object.assign(Q0,{Manager:Bg});function lO(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function uO(n,e){n.classList?n.classList.add(e):lO(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}var cO=Function.prototype.bind.call(Function.prototype.call,[].slice);function Kl(n,e){return cO(n.querySelectorAll(e))}function kw(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function hO(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=kw(n.className,e):n.setAttribute("class",kw(n.className&&n.className.baseVal||"",e))}const Gl={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class dO extends Bg{adjustAndStore(e,t,i){const o=t.style[e];t.dataset[e]=o,il(t,{[e]:`${parseFloat(il(t,e))+i}px`})}restore(e,t){const i=t.dataset[e];i!==void 0&&(delete t.dataset[e],il(t,{[e]:i}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(uO(t,"modal-open"),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Kl(t,Gl.FIXED_CONTENT).forEach(a=>this.adjustAndStore(i,a,e.scrollBarWidth)),Kl(t,Gl.STICKY_CONTENT).forEach(a=>this.adjustAndStore(o,a,-e.scrollBarWidth)),Kl(t,Gl.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(o,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();hO(t,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Kl(t,Gl.FIXED_CONTENT).forEach(a=>this.restore(i,a)),Kl(t,Gl.STICKY_CONTENT).forEach(a=>this.restore(o,a)),Kl(t,Gl.NAVBAR_TOGGLER).forEach(a=>this.restore(o,a))}}let qp;function fO(n){return qp||(qp=new dO(n)),qp}function pO(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function Am(n,e){return Am=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},Am(n,e)}function mO(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Am(n,e)}const Pw={disabled:!1},Y0=el.createContext(null);var gO=function(e){return e.scrollTop},Ec="unmounted",Xa="exited",Qo="entering",Za="entered",Rm="exiting",ao=function(n){mO(e,n);function e(i,o){var a;a=n.call(this,i,o)||this;var c=o,f=c&&!c.isMounting?i.enter:i.appear,p;return a.appearStatus=null,i.in?f?(p=Xa,a.appearStatus=Qo):p=Za:i.unmountOnExit||i.mountOnEnter?p=Ec:p=Xa,a.state={status:p},a.nextCallback=null,a}e.getDerivedStateFromProps=function(o,a){var c=o.in;return c&&a.status===Ec?{status:Xa}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(o){var a=null;if(o!==this.props){var c=this.state.status;this.props.in?c!==Qo&&c!==Za&&(a=Qo):(c===Qo||c===Za)&&(a=Rm)}this.updateStatus(!1,a)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var o=this.props.timeout,a,c,f;return a=c=f=o,o!=null&&typeof o!="number"&&(a=o.exit,c=o.enter,f=o.appear!==void 0?o.appear:c),{exit:a,enter:c,appear:f}},t.updateStatus=function(o,a){if(o===void 0&&(o=!1),a!==null)if(this.cancelNextCallback(),a===Qo){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:tu.findDOMNode(this);c&&gO(c)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Xa&&this.setState({status:Ec})},t.performEnter=function(o){var a=this,c=this.props.enter,f=this.context?this.context.isMounting:o,p=this.props.nodeRef?[f]:[tu.findDOMNode(this),f],_=p[0],T=p[1],A=this.getTimeouts(),R=f?A.appear:A.enter;if(!o&&!c||Pw.disabled){this.safeSetState({status:Za},function(){a.props.onEntered(_)});return}this.props.onEnter(_,T),this.safeSetState({status:Qo},function(){a.props.onEntering(_,T),a.onTransitionEnd(R,function(){a.safeSetState({status:Za},function(){a.props.onEntered(_,T)})})})},t.performExit=function(){var o=this,a=this.props.exit,c=this.getTimeouts(),f=this.props.nodeRef?void 0:tu.findDOMNode(this);if(!a||Pw.disabled){this.safeSetState({status:Xa},function(){o.props.onExited(f)});return}this.props.onExit(f),this.safeSetState({status:Rm},function(){o.props.onExiting(f),o.onTransitionEnd(c.exit,function(){o.safeSetState({status:Xa},function(){o.props.onExited(f)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(o,a){a=this.setNextCallback(a),this.setState(o,a)},t.setNextCallback=function(o){var a=this,c=!0;return this.nextCallback=function(f){c&&(c=!1,a.nextCallback=null,o(f))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},t.onTransitionEnd=function(o,a){this.setNextCallback(a);var c=this.props.nodeRef?this.props.nodeRef.current:tu.findDOMNode(this),f=o==null&&!this.props.addEndListener;if(!c||f){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],_=p[0],T=p[1];this.props.addEndListener(_,T)}o!=null&&setTimeout(this.nextCallback,o)},t.render=function(){var o=this.state.status;if(o===Ec)return null;var a=this.props,c=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var f=pO(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return el.createElement(Y0.Provider,{value:null},typeof c=="function"?c(o,f):el.cloneElement(el.Children.only(c),f))},e}(el.Component);ao.contextType=Y0;ao.propTypes={};function Ql(){}ao.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ql,onEntering:Ql,onEntered:Ql,onExit:Ql,onExiting:Ql,onExited:Ql};ao.UNMOUNTED=Ec;ao.EXITED=Xa;ao.ENTERING=Qo;ao.ENTERED=Za;ao.EXITING=Rm;function bw(n,e){const t=il(n,e)||"",i=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*i}function yO(n,e){const t=bw(n,"transitionDuration"),i=bw(n,"transitionDelay"),o=K0(n,a=>{a.target===n&&(o(),e(a))},t+i)}function _O(n){n.offsetHeight}function vO(n){return n&&"setState"in n?tu.findDOMNode(n):n??null}const wO=el.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:i,onExiting:o,onExited:a,addEndListener:c,children:f,childRef:p,..._},T)=>{const A=x.useRef(null),R=q0(A,p),O=Ae=>{R(vO(Ae))},U=Ae=>M=>{Ae&&A.current&&Ae(A.current,M)},Y=x.useCallback(U(n),[n]),H=x.useCallback(U(e),[e]),ee=x.useCallback(U(t),[t]),le=x.useCallback(U(i),[i]),se=x.useCallback(U(o),[o]),ye=x.useCallback(U(a),[a]),Le=x.useCallback(U(c),[c]);return D.jsx(ao,{ref:T,..._,onEnter:Y,onEntered:ee,onEntering:H,onExit:le,onExited:ye,onExiting:se,addEndListener:Le,nodeRef:A,children:typeof f=="function"?(Ae,M)=>f(Ae,{...M,ref:O}):el.cloneElement(f,{ref:O})})}),EO={[Qo]:"show",[Za]:"show"},Wg=x.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:i,...o},a)=>{const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},f=x.useCallback((p,_)=>{_O(p),i==null||i(p,_)},[i]);return D.jsx(wO,{ref:a,addEndListener:yO,...c,onEnter:f,childRef:yf(e),children:(p,_)=>x.cloneElement(e,{..._,className:xt("fade",n,e.props.className,EO[p],t[p])})})});Wg.displayName="Fade";const X0=x.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},o)=>(e=wn(e,"modal-body"),D.jsx(t,{ref:o,className:xt(n,e),...i})));X0.displayName="ModalBody";const J0=x.createContext({onHide(){}}),qg=x.forwardRef(({bsPrefix:n,className:e,contentClassName:t,centered:i,size:o,fullscreen:a,children:c,scrollable:f,...p},_)=>{n=wn(n,"modal");const T=`${n}-dialog`,A=typeof a=="string"?`${n}-fullscreen-${a}`:`${n}-fullscreen`;return D.jsx("div",{...p,ref:_,className:xt(T,e,o&&`${n}-${o}`,i&&`${T}-centered`,f&&`${T}-scrollable`,a&&A),children:D.jsx("div",{className:xt(`${n}-content`,t),children:c})})});qg.displayName="ModalDialog";const Z0=x.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},o)=>(e=wn(e,"modal-footer"),D.jsx(t,{ref:o,className:xt(n,e),...i})));Z0.displayName="ModalFooter";const TO={"aria-label":hn.string,onClick:hn.func,variant:hn.oneOf(["white"])},Kg=x.forwardRef(({className:n,variant:e,"aria-label":t="Close",...i},o)=>D.jsx("button",{ref:o,type:"button",className:xt("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...i}));Kg.displayName="CloseButton";Kg.propTypes=TO;const IO=x.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:i,children:o,...a},c)=>{const f=x.useContext(J0),p=Cm(()=>{f==null||f.onHide(),i==null||i()});return D.jsxs("div",{ref:c,...a,children:[o,t&&D.jsx(Kg,{"aria-label":n,variant:e,onClick:p})]})}),eI=x.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:i=!1,...o},a)=>(n=wn(n,"modal-header"),D.jsx(IO,{ref:a,...o,className:xt(e,n),closeLabel:t,closeButton:i})));eI.displayName="ModalHeader";const SO=n=>x.forwardRef((e,t)=>D.jsx("div",{...e,ref:t,className:xt(e.className,n)})),CO=SO("h4"),tI=x.forwardRef(({className:n,bsPrefix:e,as:t=CO,...i},o)=>(e=wn(e,"modal-title"),D.jsx(t,{ref:o,className:xt(n,e),...i})));tI.displayName="ModalTitle";function AO(n){return D.jsx(Wg,{...n,timeout:null})}function RO(n){return D.jsx(Wg,{...n,timeout:null})}const nI=x.forwardRef(({bsPrefix:n,className:e,style:t,dialogClassName:i,contentClassName:o,children:a,dialogAs:c=qg,"data-bs-theme":f,"aria-labelledby":p,"aria-describedby":_,"aria-label":T,show:A=!1,animation:R=!0,backdrop:O=!0,keyboard:U=!0,onEscapeKeyDown:Y,onShow:H,onHide:ee,container:le,autoFocus:se=!0,enforceFocus:ye=!0,restoreFocus:Le=!0,restoreFocusOptions:Ae,onEntered:M,onExit:k,onExiting:b,onEnter:L,onEntering:$,onExited:q,backdropClassName:N,manager:Tt,...Ft},kt)=>{const[Xe,F]=x.useState({}),[ke,pe]=x.useState(!1),W=x.useRef(!1),te=x.useRef(!1),_e=x.useRef(null),[Pe,je]=vD(),ce=q0(kt,je),Ke=Cm(ee),Je=_D();n=wn(n,"modal");const at=x.useMemo(()=>({onHide:Ke}),[Ke]);function Pt(){return Tt||fO({isRTL:Je})}function tn(De){if(!Su)return;const ht=Pt().getScrollbarWidth()>0,Rn=De.scrollHeight>gf(De).documentElement.clientHeight;F({paddingRight:ht&&!Rn?Ew():void 0,paddingLeft:!ht&&Rn?Ew():void 0})}const Mn=Cm(()=>{Pe&&tn(Pe.dialog)});ID(()=>{Sm(window,"resize",Mn),_e.current==null||_e.current()});const nn=()=>{W.current=!0},Gt=De=>{W.current&&Pe&&De.target===Pe.dialog&&(te.current=!0),W.current=!1},ct=()=>{pe(!0),_e.current=K0(Pe.dialog,()=>{pe(!1)})},Jr=De=>{De.target===De.currentTarget&&ct()},Dr=De=>{if(O==="static"){Jr(De);return}if(te.current||De.target!==De.currentTarget){te.current=!1;return}ee==null||ee()},lo=De=>{U?Y==null||Y(De):(De.preventDefault(),O==="static"&&ct())},ts=(De,ht)=>{De&&tn(De),L==null||L(De,ht)},Or=De=>{_e.current==null||_e.current(),k==null||k(De)},Lr=(De,ht)=>{$==null||$(De,ht),W0(window,"resize",Mn)},Zr=De=>{De&&(De.style.display=""),q==null||q(De),Sm(window,"resize",Mn)},An=x.useCallback(De=>D.jsx("div",{...De,className:xt(`${n}-backdrop`,N,!R&&"show")}),[R,N,n]),ei={...t,...Xe};ei.display="block";const Mr=De=>D.jsx("div",{role:"dialog",...De,style:ei,className:xt(e,n,ke&&`${n}-static`,!R&&"show"),onClick:O?Dr:void 0,onMouseUp:Gt,"data-bs-theme":f,"aria-label":T,"aria-labelledby":p,"aria-describedby":_,children:D.jsx(c,{...Ft,onMouseDown:nn,className:i,contentClassName:o,children:a})});return D.jsx(J0.Provider,{value:at,children:D.jsx(aO,{show:A,ref:ce,backdrop:O,container:le,keyboard:!0,autoFocus:se,enforceFocus:ye,restoreFocus:Le,restoreFocusOptions:Ae,onEscapeKeyDown:lo,onShow:H,onHide:ee,onEnter:ts,onEntering:Lr,onEntered:M,onExit:Or,onExiting:b,onExited:Zr,manager:Pt(),transition:R?AO:void 0,backdropTransition:R?RO:void 0,renderBackdrop:An,renderDialog:Mr})})});nI.displayName="Modal";const dc=Object.assign(nI,{Body:X0,Header:eI,Title:tI,Footer:Z0,Dialog:qg,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),kO={type:hn.string,tooltip:hn.bool,as:hn.elementType},_f=x.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:i=!1,...o},a)=>D.jsx(n,{...o,ref:a,className:xt(e,`${t}-${i?"tooltip":"feedback"}`)}));_f.displayName="Feedback";_f.propTypes=kO;const so=x.createContext({}),Gg=x.forwardRef(({id:n,bsPrefix:e,className:t,type:i="checkbox",isValid:o=!1,isInvalid:a=!1,as:c="input",...f},p)=>{const{controlId:_}=x.useContext(so);return e=wn(e,"form-check-input"),D.jsx(c,{...f,ref:p,type:i,id:n||_,className:xt(t,e,o&&"is-valid",a&&"is-invalid")})});Gg.displayName="FormCheckInput";const zd=x.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...i},o)=>{const{controlId:a}=x.useContext(so);return n=wn(n,"form-check-label"),D.jsx("label",{...i,ref:o,htmlFor:t||a,className:xt(e,n)})});zd.displayName="FormCheckLabel";function PO(n,e){return x.Children.toArray(n).some(t=>x.isValidElement(t)&&t.type===e)}const rI=x.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:i=!1,reverse:o=!1,disabled:a=!1,isValid:c=!1,isInvalid:f=!1,feedbackTooltip:p=!1,feedback:_,feedbackType:T,className:A,style:R,title:O="",type:U="checkbox",label:Y,children:H,as:ee="input",...le},se)=>{e=wn(e,"form-check"),t=wn(t,"form-switch");const{controlId:ye}=x.useContext(so),Le=x.useMemo(()=>({controlId:n||ye}),[ye,n]),Ae=!H&&Y!=null&&Y!==!1||PO(H,zd),M=D.jsx(Gg,{...le,type:U==="switch"?"checkbox":U,ref:se,isValid:c,isInvalid:f,disabled:a,as:ee});return D.jsx(so.Provider,{value:Le,children:D.jsx("div",{style:R,className:xt(A,Ae&&e,i&&`${e}-inline`,o&&`${e}-reverse`,U==="switch"&&t),children:H||D.jsxs(D.Fragment,{children:[M,Ae&&D.jsx(zd,{title:O,children:Y}),_&&D.jsx(_f,{type:T,tooltip:p,children:_})]})})})});rI.displayName="FormCheck";const Hd=Object.assign(rI,{Input:Gg,Label:zd}),iI=x.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:i,id:o,className:a,isValid:c=!1,isInvalid:f=!1,plaintext:p,readOnly:_,as:T="input",...A},R)=>{const{controlId:O}=x.useContext(so);return n=wn(n,"form-control"),D.jsx(T,{...A,type:e,size:i,ref:R,readOnly:_,id:o||O,className:xt(a,p?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,c&&"is-valid",f&&"is-invalid")})});iI.displayName="FormControl";const bO=Object.assign(iI,{Feedback:_f}),sI=x.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},o)=>(e=wn(e,"form-floating"),D.jsx(t,{ref:o,className:xt(n,e),...i})));sI.displayName="FormFloating";const Qg=x.forwardRef(({controlId:n,as:e="div",...t},i)=>{const o=x.useMemo(()=>({controlId:n}),[n]);return D.jsx(so.Provider,{value:o,children:D.jsx(e,{...t,ref:i})})});Qg.displayName="FormGroup";function xO({as:n,bsPrefix:e,className:t,...i}){e=wn(e,"col");const o=gD(),a=yD(),c=[],f=[];return o.forEach(p=>{const _=i[p];delete i[p];let T,A,R;typeof _=="object"&&_!=null?{span:T,offset:A,order:R}=_:T=_;const O=p!==a?`-${p}`:"";T&&c.push(T===!0?`${e}${O}`:`${e}${O}-${T}`),R!=null&&f.push(`order${O}-${R}`),A!=null&&f.push(`offset${O}-${A}`)}),[{...i,className:xt(t,...c,...f)},{as:n,bsPrefix:e,spans:c}]}const oI=x.forwardRef((n,e)=>{const[{className:t,...i},{as:o="div",bsPrefix:a,spans:c}]=xO(n);return D.jsx(o,{...i,ref:e,className:xt(t,!c.length&&a)})});oI.displayName="Col";const aI=x.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:i=!1,className:o,htmlFor:a,...c},f)=>{const{controlId:p}=x.useContext(so);e=wn(e,"form-label");let _="col-form-label";typeof t=="string"&&(_=`${_} ${_}-${t}`);const T=xt(o,e,i&&"visually-hidden",t&&_);return a=a||p,t?D.jsx(oI,{ref:f,as:"label",className:T,htmlFor:a,...c}):D.jsx(n,{ref:f,className:T,htmlFor:a,...c})});aI.displayName="FormLabel";const lI=x.forwardRef(({bsPrefix:n,className:e,id:t,...i},o)=>{const{controlId:a}=x.useContext(so);return n=wn(n,"form-range"),D.jsx("input",{...i,type:"range",ref:o,className:xt(e,n),id:t||a})});lI.displayName="FormRange";const uI=x.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:i,isValid:o=!1,isInvalid:a=!1,id:c,...f},p)=>{const{controlId:_}=x.useContext(so);return n=wn(n,"form-select"),D.jsx("select",{...f,size:t,ref:p,className:xt(i,n,e&&`${n}-${e}`,o&&"is-valid",a&&"is-invalid"),id:c||_})});uI.displayName="FormSelect";const cI=x.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:i,...o},a)=>(n=wn(n,"form-text"),D.jsx(t,{...o,ref:a,className:xt(e,n,i&&"text-muted")})));cI.displayName="FormText";const hI=x.forwardRef((n,e)=>D.jsx(Hd,{...n,ref:e,type:"switch"}));hI.displayName="Switch";const NO=Object.assign(hI,{Input:Hd.Input,Label:Hd.Label}),dI=x.forwardRef(({bsPrefix:n,className:e,children:t,controlId:i,label:o,...a},c)=>(n=wn(n,"form-floating"),D.jsxs(Qg,{ref:c,className:xt(e,n),controlId:i,...a,children:[t,D.jsx("label",{htmlFor:i,children:o})]})));dI.displayName="FloatingLabel";const DO={_ref:hn.any,validated:hn.bool,as:hn.elementType},Yg=x.forwardRef(({className:n,validated:e,as:t="form",...i},o)=>D.jsx(t,{...i,ref:o,className:xt(n,e&&"was-validated")}));Yg.displayName="Form";Yg.propTypes=DO;const fc=Object.assign(Yg,{Group:Qg,Control:bO,Floating:sI,Check:Hd,Switch:NO,Label:aI,Text:cI,Range:lI,Select:uI,FloatingLabel:dI});function fI(n){return D.jsx(D.Fragment,{children:D.jsxs(dc,{show:n.isOpen,onHide:n.hide,children:[D.jsx(dc.Header,{closeButton:!0,children:D.jsx(dc.Title,{children:"Edit Transaction"})}),D.jsx(dc.Body,{children:D.jsxs(fc,{children:[D.jsxs(fc.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[D.jsx(fc.Label,{children:"Description"}),D.jsx("input",{type:"text",id:"editDesc",className:"form-control fs-5",placeholder:"Add description",required:!0})]}),D.jsxs(fc.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[D.jsx(fc.Label,{children:"Amount"}),D.jsx("input",{type:"text",id:"editMoney",className:"form-control fs-5",placeholder:"Enter Amount",required:!0})]})]})}),D.jsxs(dc.Footer,{children:[D.jsx(Ed,{variant:"secondary",onClick:n.hide,children:"Close"}),D.jsx(Ed,{variant:"danger",onClick:n.delete,children:"Delete"}),D.jsx(Ed,{variant:"success",onClick:()=>{let e=document.getElementById("editDesc").value,t=document.getElementById("editMoney").value;OO(e,t)&&n.edit(e,t)},children:"Save Changes"})]})]})})}fI.propTypes={isOpen:hn.bool.isRequired,hide:hn.func.isRequired,edit:hn.func.isRequired,delete:hn.func.isRequired};function OO(n,e){let t=!0;return n.length==0?(document.getElementById("editDesc").classList.add("invalid"),t=!1):document.getElementById("editDesc").classList.remove("invalid"),e.length==0||isNaN(e)?(document.getElementById("editMoney").classList.add("invalid"),t=!1):document.getElementById("editMoney").classList.remove("invalid"),t}function km(){const[n,e]=x.useState(!1),[t,i]=x.useState([]),[o,a]=x.useState([]),[c,f]=x.useState({});return x.useEffect(()=>{const p=Kt.beginListeningIncome(()=>{i(Kt.incomeSnapshots)}),_=Kt.beginListeningExpense(()=>{a(Kt.expenseSnapshots)});return()=>{p(),_()}},[t,o]),D.jsxs(D.Fragment,{children:[D.jsx(Gd,{}),D.jsx(Fm,{incomeSnapshots:Kt.incomeSnapshots,expenseSnapshots:Kt.expenseSnapshots}),D.jsx(Kw,{manager:Kt}),D.jsx(z0,{incomeSnapshots:Kt.incomeSnapshots,expenseSnapshots:Kt.expenseSnapshots,onClick:(p,_)=>{e(!0),_==="income"?f(wm(Go,Kt.incomeTable,p)):_==="expense"&&f(wm(Go,Kt.expenseTable,p))}}),D.jsx(fI,{isOpen:n,edit:(p,_)=>{Kt.update(c,p,_),e(!1)},delete:()=>{Kt.delete(c),e(!1)},hide:()=>{e(!1)}})]})}function LO(){const[n,e]=x.useState([]),[t,i]=x.useState([]),[o,a]=x.useState({});return x.useEffect(()=>{const c=Kt.beginListeningIncome(()=>{e(Kt.incomeSnapshots)}),f=Kt.beginListeningExpense(()=>{i(Kt.expenseSnapshots)});return()=>{c(),f()}},[n,t]),D.jsx(D.Fragment,{children:D.jsxs("div",{id:"backgroundGoal",children:[D.jsx(Gd,{}),D.jsx(Fm,{incomeSnapshots:Kt.incomeSnapshots,expenseSnapshots:Kt.expenseSnapshots}),D.jsxs("div",{id:"goalForm",children:[D.jsxs("div",{className:"row g-3 align-items-center goal h-100",children:[D.jsxs("div",{className:"col-auto",children:[D.jsx("label",{className:"fs-2"}),D.jsx("label",{className:"fs-4",children:"Want to Save:  "}),D.jsxs("div",{className:"d-flex gap-2",children:[D.jsx("input",{type:"text",id:"goalDesc",className:"form-control fs-5",placeholder:"Add description",required:!0}),D.jsx("input",{type:"text",id:"goalCost",className:"form-control fs-5",placeholder:"Add cost",required:!0})]})]}),D.jsxs("div",{className:"container3 col-10",children:[D.jsxs("div",{className:"col-6 fs-4",children:[D.jsxs("div",{className:"mb-3",children:[D.jsx("label",{htmlFor:"goalTime",className:"form-label",children:"Time"}),D.jsx("input",{type:"text",className:"form-control",id:"goalTime"})]}),D.jsx("button",{type:"submit",className:"btn btn-primary goal-btn",onClick:()=>{let c=document.getElementById("goalDesc").value,f=document.getElementById("goalTime").value,p=document.getElementById("goalCost").value;if(window.total>p)document.getElementById("output").classList.add("show"),document.getElementById("output").classList.remove("hide"),document.getElementById("output").textContent="You already have enough money for "+c+".";else{let _=(p-window.total)/f;document.getElementById("output").classList.add("show"),document.getElementById("output").classList.remove("hide"),document.getElementById("output").textContent="You need to save $"+Math.ceil(_)+" for a consistent "+f+" weeks to save up for "+c+"."}},children:"Calculate Amount"})]}),D.jsx("div",{className:"vr"}),D.jsxs("div",{className:"col-6 fs-4",children:[D.jsxs("div",{className:"mb-3",children:[D.jsx("label",{htmlFor:"goalAmt",className:"form-label",children:"Amount"}),D.jsx("input",{type:"text",className:"form-control",id:"goalAmt"})]}),D.jsx("button",{type:"submit",className:"btn btn-primary goal-btn",onClick:()=>{let c=document.getElementById("goalDesc").value,f=document.getElementById("goalAmt").value,p=document.getElementById("goalCost").value;if(window.total>p)document.getElementById("output").classList.add("show"),document.getElementById("output").classList.remove("hide"),document.getElementById("output").textContent="You already have enough money for "+c+".";else{let _=(p-window.total)/f;document.getElementById("output").classList.add("show"),document.getElementById("output").classList.remove("hide"),document.getElementById("output").textContent="You need to save $"+f+" for a consistent "+Math.ceil(_)+" weeks to save up for "+c+"."}},children:"Calculate Time"})]})]})]}),D.jsx("div",{className:"hide center fs-2",id:"output"})]})]})})}const MO=()=>{const n=Nm(),[e,t]=x.useState(""),[i,o]=x.useState(""),a=c=>{c.preventDefault(),uk(B0,e,i).then(f=>{const p=f.user;n("/"),console.log(p)}).catch(f=>{const p=f.code,_=f.message;console.log(p,_)})};return D.jsxs(D.Fragment,{children:[D.jsx(Gd,{}),D.jsx("main",{children:D.jsx("section",{children:D.jsxs("div",{children:[D.jsx("br",{})," ",D.jsx("br",{}),D.jsx("br",{}),D.jsxs("form",{children:[D.jsxs("div",{children:[D.jsx("label",{htmlFor:"email-address",className:"fs-4",children:"Email address"}),D.jsx("input",{id:"email-address",name:"email",type:"email",required:!0,placeholder:"Email address",onChange:c=>t(c.target.value)})]}),D.jsxs("div",{children:[D.jsx("label",{htmlFor:"password",className:"fs-4",children:"Password"}),D.jsx("input",{id:"password",name:"password",type:"password",required:!0,placeholder:"Password",onChange:c=>o(c.target.value)})]}),D.jsx("br",{}),D.jsx("div",{children:D.jsx("button",{className:"btn btn-primary fs-4 green-btn",onClick:a,children:"Login"})})]}),D.jsxs("p",{className:"text-sm text-white text-center fs-4",children:["No account yet? "," ",D.jsx(Vm,{to:"/signup",className:"white",children:"Sign up"})]}),D.jsx("br",{}),D.jsx("br",{})," ",D.jsx("br",{})]})})})]})},VO=()=>{const n=Nm(),[e,t]=x.useState(""),[i,o]=x.useState(""),a=async c=>{c.preventDefault(),await lk(B0,e,i).then(f=>{const p=f.user;console.log(p),console.log(p.uid),n("/")}).catch(f=>{const p=f.code,_=f.message;console.log(p,_)})};return D.jsxs("main",{children:[D.jsx(Gd,{}),D.jsx("section",{children:D.jsxs("div",{children:[D.jsxs("div",{children:[D.jsx("br",{}),D.jsx("br",{})," ",D.jsx("br",{}),D.jsxs("form",{children:[D.jsxs("div",{children:[D.jsx("label",{htmlFor:"email-address",className:"fs-4",children:"Email address"}),D.jsx("input",{type:"email",label:"Email address",value:e,onChange:c=>t(c.target.value),required:!0,placeholder:"Email address"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"fs-4",htmlFor:"password",children:"Password"}),D.jsx("input",{type:"password",label:"Create password",value:i,onChange:c=>o(c.target.value),required:!0,placeholder:"Password"})]}),D.jsx("br",{}),D.jsx("button",{className:"btn btn-primary fs-4 green-btn",type:"submit",onClick:a,children:"Sign up"})]}),D.jsxs("p",{className:"fs-4 center",children:["Already have an account?"," ",D.jsx(Vm,{to:"/login",className:"white",children:"Sign in"})]})]}),D.jsx("br",{}),D.jsx("br",{})," ",D.jsx("br",{})]})})]})};function FO(){return D.jsx(gC,{children:D.jsxs(qS,{children:[D.jsx(pc,{path:"/",element:D.jsx(km,{})}),D.jsx(pc,{path:"/goal",element:D.jsx(LO,{})}),D.jsx(pc,{path:"/signup",element:D.jsx(VO,{})}),D.jsx(pc,{path:"/login",element:D.jsx(MO,{})})]})})}nS.createRoot(document.getElementById("root")).render(D.jsx(x.StrictMode,{children:D.jsx(FO,{})}))});export default jO();
